{"version":3,"file":"js/app.12a33a50.js","mappings":"qFAiCA,MAAMA,EAAsB,CACxBC,UAAW,CACP,eAAgB,UAChB,eAAgB,UAChB,uBAAwB,UACxB,uBAAwB,sBACxB,sBAAuB,UACvB,WAAY,UACZ,WAAY,UACZ,gBAAiB,OACjB,WAAY,UACZ,WAAY,mBACZ,SAAU,UACV,YAAa,UACb,YAAa,UACb,YAAa,UACb,YAAa,UAEb,kBAAmB,OACnB,iBAAkB,yBAClB,mBAAoB,OAExBC,cAAc,EACdC,eAAe,EACfC,SAAS,GAGb,IAAYC,GAAZ,SAAYA,GACR,uBACA,mBACA,qBACA,kBAJJ,CAAYA,IAAAA,EAAM,KAOlB,QACIC,QAASN,EACTO,MAAO,IACAP,EACHC,UAAW,IACJD,EAAaC,UAChB,eAAgB,UAChB,uBAAwB,OACxB,sBAAuB,UACvB,WAAY,UACZ,WAAY,UACZ,YAAa,UACb,kBAAmB,MACnB,iBAAkB,GAClB,mBAAoB,OAExBC,cAAc,GAGlBM,OAAQ,IACDR,EACHC,UAAW,IACJD,EAAaC,UAChB,eAAgB,UAChB,eAAgB,UAChB,uBAAwB,OACxB,sBAAuB,UACvB,WAAY,UACZ,WAAY,UACZ,gBAAiB,UACjB,WAAY,UACZ,WAAY,UACZ,SAAU,UACV,YAAa,UACb,YAAa,UACb,YAAa,UACb,YAAa,UACb,kBAAmB,MACnB,iBAAkB,oBAClB,mBAAoB,OAExBC,cAAc,GAElBO,KAAM,IACCT,EACHC,UAAW,IACJD,EAAaC,UAChB,eAAgB,UAChB,eAAgB,UAChB,uBAAwB,wBACxB,sBAAuB,UACvB,WAAY,UACZ,WAAY,UACZ,YAAa,c,yNCnHlB,MAAMS,EAAYC,OAAO,aACnBC,EAAcD,OAAO,eAsBlC,IAAIE,EAAK,EAKH,SAAUC,EAAYC,EAAS,YACjC,oBAAOA,GAAP,OAAOA,GAAAA,EAAP,iBAAOA,EAAP,iBAAgBF,KAATE,EAASF,IAAhB,GAGJ,IAAYG,EAMN,SAAUC,EAAIC,GAEhB,OADCA,EAA8B,OAAc,EACtCA,EAOL,SAAUC,EACZC,EACAC,EACAC,QAEoBC,IAAhBH,EAAOC,IAAP,cAA6BC,GAA7B,OAA6BA,GAAAA,EAA7B,kBAA6BA,EAA7B,uBAAsCC,QAAAA,GAATD,EAA7B,KACAF,EAAOC,GAAOC,IArBtB,SAAYN,GACR,4BACA,0BACA,uBAHJ,CAAYA,IAAAA,EAAU,M,8LCnBf,MAAMQ,GAAY,SAEzB,IAAIC,EAA4B,KAI5BC,EAA8B,KAElC,SAASC,IACL,MAAMC,EAAMC,KAAKD,MACjB,IAAIE,EAAO,KAACF,EAAM,gBAAV,GAAIA,EAAM,WAAV,OAAIA,EAAM,UAAV,kBAAIA,EAAM,UAAV,iBAAyB,MAArBA,EAAM,UAAe,IAAtB,GACX,SAAcA,EACd,MAAMG,EAAWD,EAQjB,GANA,sBAAwBC,GACxB,cAAI,yBAAJ,OAAI,iDAAJ,iBAAI,wBAAJ,iBAAgC,IAA5B,wBAA4B,GAAhC,KACI,iBAAqB,uBAAyB,MAI9CL,GAAQJ,QAAR,cAAkB,eAAlB,OAAkB,6BAAlB,iBAAkB,cAAlB,oBAAkB,cAAlB,MAIA,aAIJQ,EAAOE,KAAKC,IAAIH,EAAM,GAEE,IAApB,cAAJ,CAKA,iBAAI,iBAAJ,OAAI,iCAAJ,kBAAI,gBAAJ,uBAA0BP,QAAAA,GAAtB,gBAAJ,GAAqC,CAIjC,GAHI,QAAW,gBAAX,cAA+B,gBAA/B,OAA+B,+BAA/B,iBAA+B,eAA/B,iBAAuD,WAAxB,eAA/B,MACA,8BAAqB,gBAArB,OAAqB,+BAArB,iBAAqB,eAArB,iBAA6C,WAAxB,eAArB,IAEA,QAAW,gBAAoB,IAA/B,cAAqC,cAArC,OAAqC,2BAArC,mBAAqC,aAArC,mBAAyD,OAApB,aAArC,GAA4D,CAC5D,MAAMW,EAAcF,KAAKC,IAAL,cAAS,iBAAT,OAAS,iCAAT,iBAAS,gBAAT,iBAA8B,IAArB,gBAAqB,GAA9B,GAAkCH,GACtD,8BAAqB,iBAArB,OAAqB,iCAArB,iBAAqB,gBAArB,iBAA0CI,GAArB,gBAAqBA,EAA1C,GACAJ,EAAI,cAAJA,GAAI,OAAJA,GAAAA,EAAI,iBAAJA,EAAI,iBAAII,GAARJ,EAAQI,EAAJ,QACuB,IAApB,eACP,yIAAsBJ,GAAtB,gBAAsBA,EAAtB,KAEA,cAAC,iBAAD,OAAC,iCAAD,iBAAC,gBAAD,oBAAC,gBAAD,IAAuB,QAAW,gBAAoB,MACtD,gBAAqB,MAK7BA,EAAOE,KAAKG,IAAIL,EAAM,iBAGtB,cAAI,cAAJ,OAAI,2BAAJ,kBAAI,aAAJ,uBAAuBP,QAAAA,GAAnB,aAAJ,KACIO,EAAI,cAAJA,GAAI,OAAJA,GAAAA,EAAI,iBAAJA,EAAI,iBAAI,cAARA,EAAQ,aAAJ,IAGR,cAAKM,OAAOC,SAASP,IAArB,OAAKM,OAAOC,SAASP,IAAhBM,OAAOC,SAASP,GAArB,iBAAKM,OAAOC,SAASP,GAArB,oBAAKM,OAAOC,SAASP,GAArB,KACIA,EAAO,OAIP,QAAWA,EAAM,KAIrB,oIAAqBA,GAArB,eAAqBA,EAArB,GACA,cAAKM,OAAOC,SAAS,iBAArB,OAAKD,OAAOC,SAAS,iBAAhBD,OAAOC,SAAS,gBAArB,iBAAKD,OAAOC,SAAS,gBAArB,oBAAKD,OAAOC,SAAS,gBAArB,KACI,eAAoB,OAExBb,EAAUc,KAAK,SAAUR,EAAMC,GAE3B,kBACAQ,sBAAsBZ,GACtB,cAAIF,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAkB,YAAdA,EAAJ,KACIe,cAAcf,GACdA,EAAa,OAEV,UAAJ,IAAIA,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAkB,YAAdA,EAAA,KACPA,EAAagB,YAAYd,EAAQ,OAIlCe,eAAeC,IAClBjB,SAAgB,wCAA0BA,QAC1C,IAAAkB,OAAMlB,GAAQA,IACNA,GACAF,EAAUc,KAAK,cAGnB,iBACAC,sBAAsBZ,GAEtBF,EAAagB,YAAYd,EAAQ,M,2LC1GlC,MAAMkB,EAAkBlC,OAAO,mBACzBmC,EAAenC,OAAO,gBACtBoC,EAAapC,OAAO,cACpBqC,EAAUrC,OAAO,WAqB9B,SAASsC,IACL,OACI,IAAIC,OAAQC,OACNC,MAAM,MACPC,MAAM,EAAG,GACTC,KAAIC,GAAQA,EAAKC,SACjBC,KAAK,OAAS,GAIrB,SAAUC,EAA4BC,GACxC,MAAMD,GACF,IAAAE,OAAMD,GAAgBA,GAAgB,IAAAE,KAAOF,GAkBjD,OAfAD,EAAWb,GAAmBa,EAC9BA,EAAWZ,IAAgB,IAAAc,OAAMD,GAAgBA,EAAarC,MAAQqC,EACtED,EAAWX,GAAcE,IACzBS,EAAWV,IAAW,EAEM,IAAxB,EAAAc,aAAA,OACAC,QAAQC,KACJ,iFACAN,EAFJ,KAGI,kBAHJ,iBAGI,kBAHJ,iBAGwBA,EAAWX,IAA/B,kBAAoBW,EAAWX,GAHnC,IAMA,EAAAkB,eAAe,EAAAH,aAAa,UAAD,IAAC,EAAAA,aAAA,QAAD,OAAC,EAAAA,aAAA,UAAAA,aAAA,cAAD,UAAC,EAAAA,aAAA,cAAD,UAAuB,GAAtB,EAAAA,aAAA,OAAsB,EAAtB,KAA0BI,IAAIR,GAGvDA,EAYX,EAAAlC,UAAA,GAAa,YAAY,CAAC2C,EAAqBC,KAC3C,MAAMC,EAAsC,GACtCC,EAAe,CAACC,EAA8BC,EAAiB,MACjE,IAAIC,GAAkB,EAmFtB,OAlFAC,OAAOC,KAAKJ,GAAKK,SAAQvD,IACrB,MAAMC,EAAQiD,EAAIlD,GAClB,GAAIC,GAA0B,kBAAVA,EAChB,iBAAIuB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAuBvB,GAAnBuB,KAAmBvB,EAAvB,GAA8B,CAE1B,GADAmD,GAAkB,EACbnD,EAAqB0B,GAMtB,YALAe,QAAQC,KACJ,iEACA1C,EAFJ,KAGI,kBAHJ,iBAGI,kBAHJ,iBAGyBA,EAAqByB,IAA1C,kBAAqBzB,EAAqByB,GAH9C,IAOJ,EAAAkB,eAAeE,EAAMtD,IAAIgE,OACrB,UAAU,IAAV,MAAU,OAAV,WAAU,kBAAV,KAAU,kBAAIvD,GAAd,QAAcA,EAAd,GAEQA,EAAc,MACfA,GAIX,MAAMwD,EAAkBN,EAAKO,QAAgC,CAACC,EAAKC,KAC/D,KAAMA,KAAQD,SAAd,GAAMC,KAAQD,IAAd,OAAMC,KAAQD,GAAd,kBAAMC,KAAQD,GAAd,qBAAMC,KAAQD,GAAd,KACIA,EAAIC,GAAQ,IAETD,EAAIC,KACZb,GAGGc,EAAaJ,EAAgBzD,GAEnCyD,EAAgBzD,GAAQC,EAAqBuB,IAEzC,IAAAsC,YAAWL,GACX,cAAII,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAkB,YAAdA,EAAJ,GACIJ,EAAgBzD,GAAO6D,EAEvBJ,EAAgBzD,GAAQC,EAAqBwB,GAGjD,cAAIoC,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAkB,YAAdA,EAAJ,GACKJ,EAAgBzD,GAAsBC,MAAQ4D,EAE9CJ,EAAgBzD,GAAsBC,MAASA,EAC5CwB,QAIT,GACH,KAAExB,aAAiB,YAAnB,GAAEA,aAAiB,OAAnB,OAAEA,aAAiB,MAAnB,kBAAEA,aAAiB,MAAnB,qBAAEA,aAAiB,MAAnB,mBACC,IAAAsC,OAAMtC,IADP,QACC,IAAAsC,OAAMtC,KAAN,IAAAsC,OAAMtC,GADP,kBACC,IAAAsC,OAAMtC,GADP,qBACC,IAAAsC,OAAMtC,GADP,kBAGC+C,EAASe,SAAS9D,IAHnB,OAGC+C,EAASe,SAAS9D,IAAlB+C,EAASe,SAAS9D,GAHnB,iBAGC+C,EAASe,SAAS9D,GAHnB,oBAGC+C,EAASe,SAAS9D,GAHnB,GAIF,CACyD,kBAA3CA,EAAkC+D,MAC1ChB,EAASiB,KAAKhE,GAIlB,MAAMiE,EAAyBjB,EAAahD,EAAkC,IACvEkD,EACHnD,IAKAkE,KACI,QAAQjE,IAAR,eAAmB,QAAQiD,IAA3B,QAAmB,QAAQA,KAAR,QAAQA,GAA3B,kBAAmB,QAAQA,GAA3B,qBAAmB,QAAQA,GAA3B,GACAR,QAAQC,KACJ,gKACA,UAAU,IAAV,MAAU,OAAV,WAAU,kBAAV,KAAU,kBAAIO,GAAd,QAAcA,EAAd,GACOA,EAAqC,MACtCA,EACNlD,GAGJoD,GAAkB,OAM/BA,GAEXH,EAAaH,GACb,EAAAF,eAAeE,EAAMtD,IAAI+D,SAAQlB,IAC7BK,QAAQyB,MACJ,6BAA6BrB,EAAMtD,4GACnC6C,EAFJ,KAGI,kBAHJ,iBAGI,kBAHJ,iBAGwBA,EAAWX,IAA/B,kBAAoBW,EAAWX,GAHnC,OAMJ,EAAAkB,eAAeE,EAAMtD,IAAI4E,Y,wHCjJ7B,MAAMC,GAAQ,IAAAC,UAAqB,CAC/B9E,GAAI,GACJ+E,SAAU,KACVC,KAAM,GACNC,KAAM,GACNC,KAAM,KAAC,EAAH,qBAAG,EAAH,wBAAG,EAAD,GACNC,UAAU,EACVC,aAAa,EACbC,YAAa,KACbC,WAAY,EACZC,WAAW,EACXC,MAAO,GACPC,WAAY,GACZC,OAAQ,KAGN,SAAUC,EAAcC,GAC1B,OAAOC,KAAKC,UAAUF,GAAQ,CAACpF,EAAKC,KAAU,IAAAsF,OAAMtF,KAIxD,MAAMuF,EAAwD,CAE1DC,IAAIC,EAAkC1F,GAClC,GAAIA,IAAQ,MAAcA,IAAQ,KAC9B,OAAO0F,EAAO1F,GAGlB,MAAMC,EAAQyF,EAAO,MAAY1F,GACjC,GAAI,UAAQ,IAARA,GAAQ,OAARA,GAAAA,EAAG,mBAAHA,EAAG,mBAAK,mBAARA,EAAA,KAAmB,QAAcC,IAAjC,KAA6CA,aAAiB,YAA9D,GAA6CA,aAAiB,OAA9D,OAA6CA,aAAiB,MAA9D,kBAA6CA,aAAiB,MAA9D,qBAA6CA,aAAiB,MAA9D,GAAwE,CACxE,iBAAIA,GAAJ,OAAIA,GAAAA,EAAJ,mBAAIA,EAAJ,mBAAcyF,EAAO1F,KAAO,OAAxBC,IAAUyF,EAAO1F,KAAO,MAA5B,GAAyC,CACrC,MAAMmD,EAAO,IAAIuC,EAAO,MAAY1F,GACpC0F,EAAO1F,GAAO,IAAI2F,MAAM,CAAE,CAAC,MAAa1F,EAAO,CAAC,MAAYkD,GAAQqC,GAExE,OAAOE,EAAO1F,GAGlB,OAAOC,GAEX2F,IAEIF,EACAG,EAEA5F,EACA6F,GAEA,GACI,cAAC,YAAD,OAAC,uBAAD,iBAAC,WAAD,oBAAC,WAAD,KACmB,kBAAV7F,GAAsB8F,MAAM9F,IAChCA,aAAiB,OACb8F,MAAM9F,EAAM+F,OAASD,MAAM9F,EAAM6C,QAAUiD,MAAM9F,EAAMgG,OAClE,CACE,MAAMC,EAAeR,EAAO,MAAYG,GACxC,kBAEiC,kBAAjBK,GAA6BH,MAAMG,IAC1CA,aAAwB,OACpBH,MAAMG,EAAaF,OAChBD,MAAMG,EAAapD,QACnBiD,MAAMG,EAAaD,QANnC,QAEiC,kBAAjBC,GAA6BH,MAAMG,IAC1CA,aAAwB,OACpBH,MAAMG,EAAaF,OAChBD,MAAMG,EAAapD,QACnBiD,MAAMG,EAAaD,SAJF,kBAAjBC,GAA6BH,MAAMG,IAC1CA,aAAwB,OACpBH,MAAMG,EAAaF,OAChBD,MAAMG,EAAapD,QACnBiD,MAAMG,EAAaD,OANnC,kBAEiC,kBAAjBC,GAA6BH,MAAMG,IAC1CA,aAAwB,OACpBH,MAAMG,EAAaF,OAChBD,MAAMG,EAAapD,QACnBiD,MAAMG,EAAaD,OANnC,qBAEiC,kBAAjBC,GAA6BH,MAAMG,IAC1CA,aAAwB,OACpBH,MAAMG,EAAaF,OAChBD,MAAMG,EAAapD,QACnBiD,MAAMG,EAAaD,OANnC,GAkBI,MATA5B,EAAMM,UAAW,EACjB,YAAwB,EACxB,YAAyB,IAAIe,EAAO,MAAYG,GAChD,gBAA6BC,EAC7BpD,QAAQyB,MACJ,6BACA,IAAIuB,EAAO,MAAYG,GACvBH,EAAO,OAEL,oDAId,OADAA,EAAO,MAAYG,GAAY5F,GACxB,GAGXkG,QAAQT,GACJ,OAAOU,QAAQD,QAAQT,EAAO,QAGlCW,IAAIX,EAAkC1F,GAClC,OAAOoG,QAAQC,IAAIX,EAAO,MAAa1F,IAE3CsG,yBAAyBZ,EAAQ1F,GAC7B,OAAOqD,OAAOiD,yBAAyBZ,EAAO,MAAa1F,KAGnE,OAAeuG,OAAOnB,OAAS,IAAIO,MAC/B,CAAE,CAAC,MAAatB,EAAO,CAAC,MAAY,CAAC,WACrCmB,I,kPCpGJ,MAAMnB,GAAQ,IAAAC,UAA4B,CACtCkC,OAAQ,GACRC,MAAO,GACPC,SAAS,EACTC,MAAO,WACPC,aAAa,IAyBX,SAAUC,IACZ,IACI,IAAIC,EAAsBC,aAAaC,QAAQ,MAC/C,GAAI,UAAI,IAAJF,GAAI,OAAJA,GAAAA,EAAI,kBAAJA,EAAI,kBAAI,YAARA,EAAA,kBAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,mBAAgBA,EAAhB,mBAAyB,SAATA,EAAhB,GAA6B,CAC7B,GAAgB,MAAZA,EAAK,SAEF,GAAgB,MAAZA,EAAK,GAEZA,EAAOG,mBAAmBC,OAAOC,KAAKL,SACnC,IAAgB,MAAZA,EAAK,GAMZ,YADApE,QAAQC,KAAK,wCAAyCmE,GAFtDA,EAAO,wBAA6BA,GAKxC,MAAMM,EAAW/B,KAAKgC,MAAMP,GACJ,kBAAbM,GACP/D,OAAOiE,OAAOjD,EAAO+C,GAG7B,EAAAjH,UAAA,KAAe,eAAgBkE,GAEjC,SA9CN,IAAA9C,OACI8C,GACAA,IACI,IAAIkD,EAAsBlC,KAAKC,UAAUjB,GACzC,OAAQ,gBACJ,QACI3B,QAAQC,KAAK,0BAA0B,oCAC3C,IAAK,KACD4E,EAAsB,oBAAyBA,GAC/C,MACJ,IAAK,SACDA,EAAsBC,KAAKC,SAASC,mBAAmBH,KACvD,MACJ,IAAK,QACD,MAERR,aAAaY,QAAQ,KAAaJ,KAEtC,CAAEK,MAAM,IAEZ,QAAerB,OAAOa,SAAW/C,EA6BCkC,OAAOsB,kBAAoB,KACzD,MAAMT,EAAW,CACbZ,OAAQ,GACRC,MAAO,GACPC,SAAS,EACTC,MAAO,YAEX,EAAAxG,UAAA,KAAe,eAAgBiH,GAC/B/D,OAAOiE,OAAOjD,EAAO+C,IACrB,WATG,MAYMU,GAAsC,IAAAxD,UAAS,IACtD,SAAUyD,EAAqBC,GACjCF,EAAc7D,KAAK+D,GAGhB,MAAMC,GAAuC,IAAA3D,UAAS,IAKtD,MAAM4D,GAAuC,IAAA5D,UAAS,K,gDCtF7D,OAAeiC,OAAOlC,OAAQ,IAAA8D,iBAA2B,CACrDC,aAAc,GACdC,QAAQ,EACRC,QAAS,M,kGCVP,SAAUC,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,GAAqB,sBAAkB,WAE7C,OAAQ,kBAAc,wBAAoB,MAAO,CAC/CC,MAAO,kBACPC,OAAO,oBAAgB,CAAE,gBAAiBR,EAAKjD,MAAMiD,EAAKS,UACzD,CACAT,EAAKU,aACD,kBAAc,wBAAoB,SAAU,CAC3ClJ,IAAK,EACL+I,MAAO,SACPI,QAASV,EAAO,KAAOA,EAAO,GAExC,IAAIW,IAAUZ,EAAKa,QAAUb,EAAKa,UAAUD,KACjC,OACH,wBAAoB,IAAI,GAC3BZ,EAAKc,UAAUrJ,QACX,kBAAc,wBAAoB,SAAU,CAC3CD,IAAK,EACL+I,MAAO,sBACPI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBf,EAAKc,UAAUrJ,OAAQ,IAC3E,EACD,wBAAoB,MAAO,MAAM,qBAAiBuI,EAAKjD,MAAMiD,EAAKhE,OAAQ,QAE3E,kBAAc,wBAAoB,MAAO,CACxCxE,IAAK,EACL+I,OAAO,oBAAgB,CAAC,YAAa,CAAC,CAAEG,WAAYV,EAAKU,YAAcV,EAAKjD,MAAMiD,EAAKgB,YACvFR,OAAO,oBAAgBR,EAAKjD,MAAMiD,EAAKQ,SACtC,EACD,iBAAaF,EAAoB,CAAEtG,IAAK,cAAgB,CACtDiH,SAAS,cAAS,IAAM,GACrB,kBAAc,kBAAa,6BAAyBjB,EAAKR,gBAE5D0B,EAAG,GACF,MACF,IACNlB,EAAKjD,MAAMiD,EAAKmB,eACZ,kBAAc,wBAAoB,SAAU,CAC3C3J,IAAK,EACL+I,MAAO,WACPI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBf,EAAKc,UAAUrJ,OAAQ,IAC3E,SACH,wBAAoB,IAAI,IAC3B,G,cCnCL,GAAe,IAAA2J,iBAAgB,CAC3BC,WAAY,CAAEC,QAAO,KACrBC,MAAO,CACHC,MAAO,CACHhG,KAAMjD,OACNkJ,UAAU,GAEdC,IAAK,CACDlG,KAAMmG,SACNF,UAAU,GAEdG,QAAS,CACLpG,MAAM,QAAsCX,OAAQgH,OAAQF,UAC5DF,UAAU,GAEdX,UAAW,CACPtF,KAAMX,OACN4G,UAAU,GAEdK,SAAU,CACNtG,MAAM,QAAmCjD,OAAQsJ,QACjDJ,UAAU,GAEdzF,KAAM,CACFR,MAAM,QAA0BqG,QAChCJ,UAAU,GAEdhB,OAAO,QAA0BoB,QACjCrB,OAAO,QAA8BqB,OAAQhH,OAAQkH,OACrDf,SAAS,QAA2CnG,QACpDsG,aAAa,QAA2Ba,SACxCC,MAAO,CACHzG,KAAMX,OACN4G,UAAU,IAGlBS,MAAMX,GACF,MAAM,QAAEK,EAAF,MAAWJ,EAAX,UAAkBV,EAAlB,SAA6BgB,EAA7B,IAAuCJ,IAAQ,IAAAS,QAAOZ,GAEtD/B,GAAY,QAAiBoC,GAC7BlB,GAAa,IAAA0B,WACf,IAAMC,EAASC,aAAe,UAAxB,IAAwBd,EAAM/J,OAA9B,OAAwB+J,EAAM/J,OAAN+J,EAAM/J,MAA9B,iBAAwB+J,EAAM/J,MAA9B,iBAAsC,GAAd+J,EAAM/J,MAAQ,EAAd,IAAxB,cAA4CqJ,EAAUrJ,OAAtD,OAA4CqJ,EAAUrJ,OAAVqJ,EAAUrJ,MAAtD,iBAA4CqJ,EAAUrJ,MAAtD,oBAA4CqJ,EAAUrJ,MAAtD,KAGV,SAASoJ,IACLjE,EAAA,eAAmB,IAAAG,OAAMwE,EAAMC,OAAQe,EAAAA,IAG3C,IAAAC,WAAS,IAAMC,EAAU3B,EAAUrJ,OAAO,IAAAsF,OAAM+E,EAASrK,WACzD,IAAAsB,OAAM,CAAC+H,GAAW,QAAQgB,KAAY,EAAEhB,EAAWgB,KAC/CW,EAAU3B,EAAWgB,KAGzB,MAAMY,GAAa,IAAA1I,KAA2B,MAU9C,SAASyI,EAAU3B,EAAoBgB,GACnC,MAAMa,EACkB,kBAAbb,GAAyBvJ,OAAOgF,MAAMqF,SAASd,IAAtD,cACMA,GADN,OACMA,GAAAA,EADN,iBACMA,EADN,iBACiB,MAAXA,EAAW,KADjB,GAEMA,EACJe,EAAWnB,EAAIjK,QACrB,cAAIoL,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,uBAAgBnL,QAAAA,GAAZmL,EAAJ,KACQ/B,GACA+B,EAASrC,MAAMsC,SAAW,IAC1BD,EAASrC,MAAMuC,WAAa,IAC5BF,EAASrC,MAAMmC,MAAQ,OACvBE,EAASrC,MAAMsB,SAAWe,EAASrC,MAAMwC,UAAY,GACrDH,EAASrC,MAAMyC,OAAS,MAExBJ,EAASrC,MAAMsC,SAAW,GAC1BD,EAASrC,MAAMuC,WAAa,GAC5BF,EAASrC,MAAMmC,MAAQ,GACvBE,EAASrC,MAAMsB,SAAWe,EAASrC,MAAMwC,UAAYL,EACrDE,EAASrC,MAAMyC,OAAS,KAKpC,OAhCA,IAAAlK,QACI,IAAM2J,EAAWjL,OAAOwK,QACxBA,IACQA,IACAV,EAAMU,MAAMxK,MAAQwK,MA4BzB,CACHzC,UAAAA,EACAkB,WAAAA,EACAgC,WAAAA,EACA3F,MAJG,QAKH8D,OAAAA,M,UC9FZ,MAAMqC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASnD,GAAQ,CAAC,YAAY,qBAEzF,Q,UCNA,MAAMoD,EAAeC,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzEC,EAA2BF,GAAa,KAAmB,wBAAoB,KAAM,KAAM,YAAb,KAA2B,EAA3B,qBAA2B,EAA3B,wBAA2B,EAA3B,MAC9EG,EAA2BH,GAAa,KAAmB,wBAAoB,UAAW,CAAEI,KAAM,IAAM,EAC/F,wBAAoB,UAAW,KAAM,EACnC,qBAAiB,2BACjB,wBAAoB,OAAQ,KAAM,iBAEpC,wBAAoB,KAAM,KAAM,EAC9B,wBAAoB,KAAM,CAAEhD,MAAO,aAAe,+BAClD,wBAAoB,KAAM,CAAEA,MAAO,WAAa,sEAChD,wBAAoB,KAAM,CAAEA,MAAO,OAAS,qCARuB,KAUhF,EAVgF,qBAUhF,EAVgF,wBAUhF,EAVgF,MAW9EiD,EAA2BL,GAAa,KAAmB,wBAAoB,UAAW,CAAEI,KAAM,IAAM,EAC/F,wBAAoB,UAAW,KAAM,EACnC,qBAAiB,gBACjB,wBAAoB,OAAQ,KAAM,iBAEpC,wBAAoB,KAAM,KAAM,EAC9B,wBAAoB,KAAM,CAAEhD,MAAO,OAAS,kCANuB,KAQhF,EARgF,qBAQhF,EARgF,wBAQhF,EARgF,MAS9EkD,EAA2BN,GAAa,KAAmB,wBAAoB,UAAW,CAAEI,KAAM,IAAM,EAC/F,wBAAoB,UAAW,KAAM,EACnC,qBAAiB,6BACjB,wBAAoB,OAAQ,KAAM,iBAEpC,wBAAoB,KAAM,KAAM,EAC9B,wBAAoB,KAAM,CAAEhD,MAAO,WAAa,0EANmB,KAQhF,EARgF,qBAQhF,EARgF,wBAQhF,EARgF,MAcpF,OAA4B,qBAAiB,CAC3C2B,MAAMwB,GAAS,OAAEC,IAEnB,MAAMC,GAAS,IAAA5J,MAAI,GAQnB,OANA2J,EAAO,CACHJ,OACIK,EAAOnM,OAAQ,KAIhB,CAACuI,EAAUC,MACR,kBAAc,iBAAa4D,EAAA,EAAO,CACxCC,WAAYF,EAAOnM,MACnB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkB6C,EAAQnM,MAAQsJ,IACnF,CACDgD,QAAQ,cAAS,IAAM,CACrBV,KAEFW,MAAM,cAAS,IAAM,CACnBV,EACAE,EACAC,KAEFvC,EAAG,GACF,EAAG,CAAC,mBC1DT,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,oBCLA,MAAM,EAAekC,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,EAAa,CAAE7C,MAAO,qBACtB,EAAa,CAAC,MAAO,OACrB,EAAa,CAAEA,MAAO,oBACtB,EAAa,CAAE/I,IAAK,GACpByM,EAAa,CAAEzM,IAAK,GACpB0M,EAAa,CAAE1M,IAAK,GACpB2M,EAA2B,GAAa,KAAmB,wBAAoB,MAAO,KAAM,kFAAd,KAAkG,EAAlG,qBAAkG,EAAlG,wBAAkG,EAAlG,MAC9EC,EAA2B,GAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC9EC,EAA2B,GAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC9EC,EAAc,CAAC,QACfC,EAA4B,GAAa,KAAmB,wBAAoB,OAAQ,CAAEhE,MAAO,qCAAuC,UAAzD,KAAqE,EAArE,qBAAqE,EAArE,wBAAqE,EAArE,MAC/EiE,EAA4B,GAAa,KAAmB,wBAAoB,MAAO,KAAM,EACpF,wBAAoB,IAAK,CACpCC,KAAM,6BACNlE,MAAO,2BACN,EACY,wBAAoB,OAAQ,CAAEA,MAAO,qCAAuC,YAC5E,qBAAiB,kCANmD,KAQjF,EARiF,qBAQjF,EARiF,wBAQjF,EARiF,MAS/EmE,EAA4B,GAAa,KAAmB,wBAAoB,MAAO,KAAM,EACpF,wBAAoB,IAAK,CACpCD,KAAM,6BACNlE,MAAO,2BACN,EACY,wBAAoB,OAAQ,CAAEA,MAAO,qCAAuC,YAC5E,qBAAiB,yBANmD,KAQjF,EARiF,qBAQjF,EARiF,wBAQjF,EARiF,MAS/EoE,EAA4B,GAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAarF,OAA4B,qBAAiB,CAC3CpD,MAAO,CACLqD,UAAW,MAEb1C,MAAMwB,GAAc,OAAEC,IAExB,MAAMkB,EAASnB,GAET,MAAEoB,EAAF,KAASC,EAAT,OAAeC,EAAf,YAAuBC,EAAvB,YAAoCC,EAApC,cAAiDC,EAAjD,aAAgEC,GAAiB/C,EAGjFd,GAAQ,IAAAY,QAAO0C,GAEfjB,GAAS,IAAA5J,MAAI,GAEbsC,GAAa,IAAA8F,WAAS,KAAM,QAAWxF,EAAA,gBAEvCyI,GAAgB,IAAAjD,WAAS,KACpB,SAAgB,SAAI,KAAM,kCAAG,SAAmB,aAS3D,SAASkD,KACL,IAAAvI,OAAMwE,EAAMqD,YAAYrB,OAG5B,OAVAI,EAAO,CACHJ,OACIK,EAAOnM,OAAQ,KAQhB,CAACuI,EAAUC,MACR,kBAAc,iBAAa4D,EAAA,EAAO,CACxCC,WAAYF,EAAOnM,MACnB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkB6C,EAAQnM,MAAQsJ,IACnF,CACDgD,QAAQ,cAAS,IAAM,EACrB,wBAAoB,MAAO,EAAY,EACpC,WAAOgB,KACH,kBAAc,wBAAoB,MAAO,CACxCvN,IAAK,EACL+I,MAAO,kBACPgF,KAAK,WAAOR,GACZS,KAAK,WAAOV,IACX,KAAM,EAAG,KACZ,wBAAoB,IAAI,IAC5B,wBAAoB,MAAO,EAAY,EACrC,wBAAoB,KAAM,MAAM,sBAAiB,WAAOA,IAAS,IACjE,wBAAoB,KAAM,KAAM,EAC9B,qBAAiB,UAAD,iBAAC,KAAD,kBAAQ,sBAAiB,WAAOK,KAA/B,MAAO,sBAAiB,WAAOA,IAA/B,GAAgD,IAChE,WAAOC,KACH,kBAAc,wBAAoB,OAAQ,EAAT,KAAqB,KAArB,iBAAqB,KAArB,kBAA4B,sBAAiB,WAAOA,KAA/B,MAAO,sBAAiB,WAAOA,IAApD,GAAoE,KACtG,wBAAoB,IAAI,YAKpCpB,MAAM,cAAS,EAAGyB,MAAAA,KAAY,CAC5BA,IACK,kBAAc,wBAAoB,MAAOxB,EAAY,EACnD,WAAOe,KACH,kBAAc,wBAAoB,MAAOd,EAAR,KAAoB,MAApB,iBAAoB,MAApB,kBAA4B,sBAAiB,WAAOc,KAAhC,OAAQ,sBAAiB,WAAOA,IAApD,GAA8D,KAChG,wBAAoB,IAAI,GAC5Bb,EACAC,GACA,wBAAoB,MAAO,CACzB7D,MAAO,OACPI,QAAS2E,GACR,aACHjB,GACA,wBAAoB,MAAO,KAAM,CAC/B,eAAC,WAAOa,IAAR,QAAC,WAAOA,KAAP,WAAOA,GAAR,oBAAC,WAAOA,GAAR,mBAAyB,8DAAxB,WAAOA,GAAR,KACK,kBAAc,wBAAoB,IAAK,CACtC1N,IAAK,EACLiN,MAAM,WAAOS,GACb3E,MAAO,2BACN,CACDgE,GACA,qBAAiB,SAAD,iBAAC,IAAD,kBAAO,sBAAiB,WAAOU,KAA9B,KAAM,sBAAiB,WAAOA,IAA9B,GAA6C,IAC7D,EAAGX,KACN,wBAAoB,IAAI,KAE9BE,EACAE,EACAC,GACA,wBAAoB,MAAO,KAAR,KAAc,gBAAd,iBAAc,gBAAd,kBAAgC,sBAAiB,WAAOrI,KAA1C,iBAAkB,sBAAiB,WAAOA,IAAxD,GAAsE,KACxF,kBAAc,kBAAa,8BAAyB,WAAO+I,UAE9D,wBAAoB,IAAI,MAE9BnE,EAAG,GACF,EAAG,CAAC,mBCnIT,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,iDCLA,MAAM,EAAekC,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,EAA2B,GAAa,KAAmB,wBAAoB,MAAO,CAAE7C,MAAO,UAAY,EAClG,wBAAoB,KAAM,KAAM,YADqC,KAEhF,EAFgF,qBAEhF,EAFgF,wBAEhF,EAFgF,MAG9E,EAA2B,GAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAgBpF,OAA4B,qBAAiB,CAC3C2B,MAAMwB,GAAS,OAAEC,IAEnB,MAAMC,GAAS,IAAA5J,MAAI,GAEnB2J,EAAO,CACHJ,OACIK,EAAOnM,OAAQ,KAIvB,MAAMiO,EAAS7K,OAAOC,KAAK,KAAWrB,KAAI0E,IAAS,CAC/CwH,OAAO,QAAaxH,GACpB1G,MAAO0G,MAGLyH,GAAyB,IAAAxD,WAAS,KAC7B,SAAgB,SAAI,KAAM,kCAAG,SAAkB,cAGpD,QAAElE,EAAF,MAAWC,EAAX,YAAkBC,IAAgB,IAAA+D,QAAOvD,EAAA,KACzC,SAAEzC,EAAF,YAAYC,IAAgB,IAAA+F,QAAOvF,EAAA,GACnCiJ,GAAW,IAAAzD,UAAS,CACtBnF,MACI,OAA2B,IAApBL,EAAA,YAEXQ,IAAI3F,GACAmF,EAAA,WAAkBnF,EAAQ,EAAI,QAIhCqO,GAAmB,SAAI,KAAM,4FAAC,KAAP,QAEc,iBAFd,gDAKvBC,GAAgB,SAAI,KAAM,kFAAC,KAAP,QAEO,iBAFP,gDAKpBC,GAAgB,SAAI,KAAM,oFAAC,KAAP,QAES,iBAFT,gDAM1B,MAAO,CAAChG,EAAUC,MACR,kBAAc,iBAAa4D,EAAA,EAAO,CACxCC,WAAYF,EAAOnM,MACnB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkB6C,EAAQnM,MAAQsJ,IACnF,CACDgD,QAAQ,cAAS,IAAM,CACrB,KAEFC,MAAM,cAAS,IAAM,EACnB,iBAAaiC,EAAA,EAAQ,CACnBnB,MAAO,QACPoB,SAAS,WAAOR,GAChB5B,YAAY,WAAO3F,GACnB,sBAAuB8B,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO5C,GAAUA,EAAO1G,MAAQsJ,EAAS,OAC3G,KAAM,EAAG,CAAC,UAAW,iBACvB,kBAAc,kBAAa,8BAAyB,WAAO6E,OAC5D,iBAAaO,EAAA,EAAQ,CACnBrB,MAAO,WACPhB,YAAY,WAAO5F,GACnB,sBAAuB+B,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO7C,GAAYA,EAASzG,MAAQsJ,EAAS,OAC/G,KAAM,EAAG,CAAC,eACb,GACA,iBAAaoF,EAAA,EAAQ,CACnBrB,MAAO,cACPhB,YAAY,WAAO1F,GACnB,sBAAuB6B,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO3C,GAAgBA,EAAa3G,MAAQsJ,EAAS,OACvH,KAAM,EAAG,CAAC,gBACb,iBAAaoF,EAAA,EAAQ,CACnBrB,OAAO,WAAOgB,GACdhC,YAAY,WAAO1H,GACnB,sBAAuB6D,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO3E,GAAgBA,EAAa3E,MAAQsJ,EAAS,OACvH,KAAM,EAAG,CAAC,QAAS,gBACtB,iBAAaoF,EAAA,EAAQ,CACnBrB,OAAO,WAAOiB,GACdjC,YAAY,WAAO3H,GACnB,sBAAuB8D,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO5E,GAAaA,EAAU1E,MAAQsJ,EAAS,OACjH,KAAM,EAAG,CAAC,QAAS,gBACrB,WAAOsB,GAAU+D,gBACb,kBAAc,iBAAaD,EAAA,EAAQ,CAClC3O,IAAK,EACLsN,OAAO,WAAOkB,GACdlC,YAAY,WAAO+B,GACnB,sBAAuB5F,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO8E,GAAaA,EAAUpO,MAAQsJ,EAAS,OACjH,KAAM,EAAG,CAAC,QAAS,iBACtB,wBAAoB,IAAI,MAE9BG,EAAG,GACF,EAAG,CAAC,mBC/GT,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,+BCLA,MACM,GAAa,CAAC,YACd,GAAa,CAAEX,MAAO,SACtB,GAAa,CACjB/I,IAAK,EACL+I,MAAO,eAEH,GAAa,CAAC,eASpB,QAA4B,qBAAiB,CAC3CgB,MAAO,CACLuD,MAAO,KACPhB,WAAY,KACZuC,SAAU,CAAE7K,KAAMwG,SAClBsE,YAAa,KACbC,UAAW,MAEbC,MAAO,CAAC,oBAAqB,UAC7BtE,MAAMwB,GAAc,KAAEjL,IAKxB,MAAMoM,EAASnB,EASTnC,GAAQ,IAAAY,QAAO0C,GAGf4B,GAAiB,IAAArE,WACnB,IAAMb,EAAMuD,OAAOrN,QAAS,SAAgB,IAAAsF,OAAMwE,EAAMuD,MAAMrN,OAAQ,UAGpEiP,GAAQ,IAAA1M,KAAwB,OACtC,IAAA2M,YAAU,KACND,EAAMjP,OAAOmP,WAGjB,MAAMnP,GAAQ,IAAA2K,UAAS,CACnBnF,MACI,OAAO,IAAAF,OAAMwE,EAAMuC,aAAe,IAEtC1G,IAAI3F,GACAgB,EAAK,oBAAqBhB,MAIlC,SAASoP,IACLpO,EAAK,UAGT,MAAO,CAACuH,EAAUC,MACR,kBAAc,wBAAoB,OAAQ,CAChD6G,UAAU,mBAAeD,EAAQ,CAAC,aACjC,EACD,wBAAoB,MAAO,GAAY,EACpC,WAAOJ,KACH,kBAAc,wBAAoB,OAAQ,GAAY,GACpD,kBAAc,kBAAa,8BAAyB,WAAOA,UAE9D,wBAAoB,IAAI,GAC3B/C,EAAQ2C,WACJ,kBAAc,kBAAa,WAAO,MAAsB,CACvD7O,IAAK,EACLsM,YAAY,WAAOrM,GACnB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAOtJ,GAAUA,EAAOA,MAAQsJ,EAAS,MAC5GuF,YAAa5C,EAAQ4C,YACrBC,UAAW7C,EAAQ6C,UACnBQ,OAAQF,EACRG,QAAS,QACThN,IAAK0M,GACJ,KAAM,EAAG,CAAC,aAAc,cAAe,gBAC1C,sBAAiB,kBAAc,wBAAoB,QAAS,CAC1DlP,IAAK,EACLgE,KAAM,OACN,sBAAuByE,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAOtJ,GAAUA,EAAOA,MAAQsJ,EAAS,MAC5GuF,YAAa5C,EAAQ4C,YACrB/F,OAAO,oBAAgB,CAAE0G,UAAW,UAAF,IAAGvD,EAAQoB,OAAX,OAAGpB,EAAQoB,OAARpB,EAAQoB,MAAX,iBAAGpB,EAAQoB,MAAX,oBAAGpB,EAAQoB,MAAT,KACpCiC,OAAQF,EACRG,QAAS,QACThN,IAAK0M,GACJ,KAAM,GAAI,KAAc,CACzB,CAAC,cAAa,WAAOjP,SAG5B,GAAI,QC/FT,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCLA,MACM,GAAa,CAAED,IAAK,GACpB,GAAa,CAAC,UAAW,YACzB,GAAa,CAAEA,IAAK,GACpB,GAAa,CAAC,WAKpB,QAA4B,qBAAiB,CAC3C+J,MAAO,CACL2F,SAAU,CAAE1L,KAAMwG,SAClBmF,YAAa,CAAE3L,KAAMwG,UAEvBwE,MAAO,CAAC,QAAS,qBACjBtE,MAAMwB,GAAc,KAAEjL,IAKxB,MAAMoM,EAASnB,EAMTnC,GAAQ,IAAAY,QAAO0C,GAGfuC,GAAe,IAAApN,MAAI,GAMzB,SAASqN,KACD,IAAAtK,OAAMwE,EAAM4F,aACZ1O,EAAK,UAGL2O,EAAa3P,OACbgB,EAAK,SAET2O,EAAa3P,MAAb,cAAsB2P,EAAa3P,OAAnC,OAAsB2P,EAAa3P,OAAb2P,EAAa3P,MAAnC,iBAAsB2P,EAAa3P,MAAnC,oBAAsB2P,EAAa3P,MAAnC,IAGJ,SAAS6P,IACLF,EAAa3P,OAAQ,EAGzB,OAnBA,IAAAsB,OAAMqO,GAAcA,IAChB3O,EAAK,oBAAqB2O,MAkBvB,CAACpH,EAAUC,MACR,kBAAc,wBAAoB,OAAQ,CAChDM,OAAO,oBAAgB,CAAC,YAAa,CAAEgH,WAAYH,EAAa3P,UAC/D,CACA2P,EAAa3P,QACT,kBAAc,wBAAoB,OAAQ,GAAY,mBACvD,wBAAoB,IAAI,IAC5B,wBAAoB,SAAU,CAC5BkJ,SAAS,mBAAe0G,EAAO,CAAC,SAChC9G,MAAO,gBACP2G,SAAUxD,EAAQwD,UACjB,CACAE,EAAa3P,QACT,kBAAc,wBAAoB,OAAQ,GAAY,SACvD,gBAAYuI,EAAKwH,OAAQ,UAAW,CAAEhQ,IAAK,KAC9C,EAAG,IACL4P,EAAa3P,QACT,kBAAc,wBAAoB,SAAU,CAC3CD,IAAK,EACL+I,MAAO,SACPI,SAAS,mBAAe2G,EAAQ,CAAC,UAChC,KAAM,EAAG,MACZ,wBAAoB,IAAI,IAC3B,OCrEL,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCNA,MACM,GAAa,CAAC,WAKpB,QAA4B,qBAAiB,CAC3C/F,MAAO,CACLkG,KAAM,CAAEjM,KAAMwG,UAEhBwE,MAAO,CAAC,SACRtE,MAAMwB,GAAc,KAAEjL,IAOxB,MAAMiP,GAAY,IAAA1N,MAAI,GAChB2N,GAAmB,IAAA3N,KAAmB,MAE5C,SAASqN,IACL5O,EAAK,SAGDkP,EAAiBlQ,OACjBmQ,aAAaD,EAAiBlQ,OAElCiQ,EAAUjQ,OAAQ,GAClB,IAAA+K,WAAS,KACLkF,EAAUjQ,OAAQ,EAClBkQ,EAAiBlQ,MAAQoQ,YAAW,IAAOH,EAAUjQ,OAAQ,GAAQ,QAI7E,MAAO,CAACuI,EAAUC,MACR,kBAAc,wBAAoB,SAAU,CAClDU,SAAS,mBAAe0G,EAAO,CAAC,SAChC9G,OAAO,oBAAgB,CAAC,WAAY,CAAEmH,UAAWA,EAAUjQ,MAAOgQ,KAAM/D,EAAQ+D,SAC/E,EACD,gBAAYzH,EAAKwH,OAAQ,YACxB,GAAI,QCtCT,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCLA,MAAM,GAAepE,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,GAA2B,IAAa,KAAmB,wBAAoB,MAAO,CAAE7C,MAAO,yBAA2B,cAA5C,KAA4D,EAA5D,qBAA4D,EAA5D,wBAA4D,EAA5D,MAC9E,GAAa,CACjB/I,IAAK,EACL+I,MAAO,WAEH,GAA2B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,gBAAtC,KAAwD,EAAxD,qBAAwD,EAAxD,wBAAwD,EAAxD,MAC9E,GAA2B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,eAAtC,KAAuD,EAAvD,qBAAuD,EAAvD,wBAAuD,EAAvD,MAC9E,GAAa,CACjB,IAEI,GAA2B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,OAAtC,KAA+C,EAA/C,qBAA+C,EAA/C,wBAA+C,EAA/C,MAC9E,GAAa,CACjB,IAEI,GAA2B,IAAa,KAAmB,wBAAoB,OAAQ,CAC3FA,MAAO,iBACPC,MAAO,CAAC,OAAS,SAChB,SAHiF,KAGtE,EAHsE,qBAGtE,EAHsE,wBAGtE,EAHsE,MAI9E,GAAa,CACjBhJ,IAAK,EACL+I,MAAO,WAEH,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,QAAtC,KAAgD,EAAhD,qBAAgD,EAAhD,wBAAgD,EAAhD,MAC/E,GAAc,CAClB,IAEI,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,QAAtC,KAAgD,EAAhD,qBAAgD,EAAhD,wBAAgD,EAAhD,MAC/E,GAAc,CAClB,IAEI,GAAc,CAClB/I,IAAK,EACL+I,MAAO,WAEHuH,GAAc,CAAEvH,MAAO,gBACvBwH,GAA4B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC/EC,GAAc,CAAExQ,IAAK,GACrByQ,GAAc,CAClBzQ,IAAK,EACL+I,MAAO,WAEH2H,GAAc,CAClB1Q,IAAK,EACL+I,MAAO,iBAEH4H,GAA4B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAUrF,QAA4B,qBAAiB,CAC3C5G,MAAO,CACL6G,KAAM,MAER5B,MAAO,CAAC,SAAU,OAAQ,YAAa,SAAU,YACjDtE,MAAMwB,GAAc,KAAEjL,IAQxB,MAAMoM,EAASnB,GAKT,KAAE0E,IAAS,IAAAjG,QAAO0C,GAGlBwD,EAAa,IAAIC,KAAKC,eAAe,QAAS,CAChDC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YAGNC,GAAY,IAAA9O,MAAI,GAChBoN,GAAe,IAAApN,MAAI,GACnB+O,GAAU,IAAA/O,KAAI,KAEpB,IAAAjB,OAAM+P,GAAW,IAAOC,EAAQtR,MAAQ2Q,EAAK3Q,MAAMuE,MAAQ,KAE3D,MAAMgN,GAAW,IAAA5G,WAAS,IAAMgG,EAAK3Q,OAAS2Q,EAAK3Q,MAAMT,KAAO4F,EAAA,OAC1DqM,GAAc,IAAA7G,WAAS,IACzB4G,EAASvR,MAAQmF,EAAA,OAAewL,EAAK3Q,OAAS2Q,EAAK3Q,MAAMyE,MAAS,IAGtE,SAASgN,IACLzQ,EAAK,WAAYsQ,EAAQtR,OACzBqR,EAAUrR,OAAQ,EAGtB,MAAO,CAACuI,EAAUC,MACR,kBAAc,wBAAoB,MAAO,CAC/CM,OAAO,oBAAgB,CAAC,OAAQ,CAAEvC,QAAQ,WAAOgL,OAChD,CACD,GACA,cAAEF,EAAUrR,OAAZ,OAAEqR,EAAUrR,OAAVqR,EAAUrR,MAAZ,iBAAEqR,EAAUrR,MAAZ,oBAAEqR,EAAUrR,MAAZ,KACK,kBAAc,wBAAoB,MAAO,GAAY,CACnD,0BAAO2Q,GAAMzM,OAAb,mBAAOyM,GAAMzM,QAAb,WAAOyM,GAAMzM,MAAb,8BAAOyM,GAAMzM,MAAb,uBAAsBjE,QAAAA,IAAtB,WAAO0Q,GAAMzM,MAAb,kBAAoCyL,EAAa3P,OAAjD,OAAoC2P,EAAa3P,OAAb2P,EAAa3P,MAAjD,iBAAoC2P,EAAa3P,MAAjD,oBAAoC2P,EAAa3P,MAAjD,KACI,kBAAc,iBAAa0R,GAAgB,CAC1C3R,IAAK,EACLmJ,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBtI,EAAK,WAC1D8H,MAAO,SACPkH,KAAM,IACL,CACDxG,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,MAEL,wBAAoB,IAAI,GAC3B,0BAAOkH,GAAMzM,OAAb,mBAAOyM,GAAMzM,QAAb,WAAOyM,GAAMzM,MAAb,8BAAOyM,GAAMzM,MAAb,uBAAsBjE,QAAAA,IAAtB,WAAO0Q,GAAMzM,MAAb,kBAAoCyL,EAAa3P,OAAjD,OAAoC2P,EAAa3P,OAAb2P,EAAa3P,MAAjD,iBAAoC2P,EAAa3P,MAAjD,oBAAoC2P,EAAa3P,MAAjD,KACI,kBAAc,wBAAoB,SAAU,CAC3CD,IAAK,EACLmJ,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBtI,EAAK,cAC1D8H,MAAO,UACN,MACH,wBAAoB,IAAI,GAC3B,0BAAO6H,GAAMzM,OAAb,mBAAOyM,GAAMzM,QAAb,WAAOyM,GAAMzM,MAAb,8BAAOyM,GAAMzM,MAAb,uBAAsBjE,QAAAA,IAAtB,WAAO0Q,GAAMzM,MAAb,kBAAoCyL,EAAa3P,OAAjD,OAAoC2P,EAAa3P,OAAb2P,EAAa3P,MAAjD,iBAAoC2P,EAAa3P,MAAjD,oBAAoC2P,EAAa3P,MAAjD,KACI,kBAAc,wBAAoB,SAAU,CAC3CD,IAAK,EACLmJ,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiB+H,EAAUrR,MAAV,cAAmBqR,EAAUrR,OAA7B,OAAmBqR,EAAUrR,OAAVqR,EAAUrR,MAA7B,iBAAmBqR,EAAUrR,MAA7B,oBAAmBqR,EAAUrR,MAA7B,IACrD8I,MAAO,UACN,MACH,wBAAoB,IAAI,IAC5B,iBAAa6I,GAAc,CACzBlC,UAAU,WAAO8B,GACjBrI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBtI,EAAK,WAC1D4Q,oBAAqBpJ,EAAO,KAAOA,EAAO,GAAKxI,GAAU2P,EAAa3P,MAAQA,IAC7E,CACDwJ,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,kBAER,kBAAc,wBAAoB,MAAO,GAAY,EACpD,wBAAoB,SAAU,CAC5BP,QAASuI,EACT3I,MAAO,UACN,KACH,wBAAoB,SAAU,CAC5BI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiB+H,EAAUrR,MAAV,cAAmBqR,EAAUrR,OAA7B,OAAmBqR,EAAUrR,OAAVqR,EAAUrR,MAA7B,iBAAmBqR,EAAUrR,MAA7B,oBAAmBqR,EAAUrR,MAA7B,IACrD8I,MAAO,UACN,OAER,0BAAO6H,GAAMzM,OAAb,mBAAOyM,GAAMzM,QAAb,WAAOyM,GAAMzM,MAAb,8BAAOyM,GAAMzM,MAAb,uBAAsBjE,QAAAA,IAAtB,WAAO0Q,GAAMzM,MAAb,kBAAoCmN,EAAUrR,OAA9C,OAAoCqR,EAAUrR,OAAVqR,EAAUrR,MAA9C,iBAAoCqR,EAAUrR,MAA9C,oBAAoCqR,EAAUrR,MAA9C,KACI,kBAAc,wBAAoB,MAAO,GAAa,EACrD,wBAAoB,SAAU,CAC5B8I,MAAO,cACPI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBtI,EAAK,UACzD,EACD,wBAAoB,KAAM,MAAM,sBAAiB,WAAO2P,GAAMpM,MAAO,MAEvE,wBAAoB,OAAQ8L,GAAT,KAAsB,IAAtB,iBAAsB,IAAtB,kBAA4B,sBAAiB,WAAOM,GAAM3L,aAApC,KAAM,sBAAiB,WAAO2L,GAAM3L,YAA1D,GAAuE,GAC1FsL,IACC,WAAOkB,KACH,kBAAc,wBAAoB,MAAOjB,GAAR,KAAqB,eAArB,iBAAqB,eAArB,kBAAsC,sBAAiB,WAAOK,GAAYiB,QAAO,WAAOL,MAAnE,gBAAiB,sBAAiB,WAAOZ,GAAYiB,QAAO,WAAOL,KAAxF,GAAwG,KAC1I,wBAAoB,IAAI,MAE7B,0BAAOb,GAAMzM,OAAb,mBAAOyM,GAAMzM,QAAb,WAAOyM,GAAMzM,MAAb,8BAAOyM,GAAMzM,MAAb,uBAAsBjE,QAAAA,IAAtB,WAAO0Q,GAAMzM,MAAb,IAAmCmN,EAAUrR,QAC3C,kBAAc,wBAAoB,MAAOwQ,GAAa,EACrD,iBAAasB,GAAM,CACjBzF,WAAYiF,EAAQtR,MACpB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkBgI,EAAStR,MAAQsJ,GACrFR,MAAO,WACPuG,SAAUoC,GACT,KAAM,EAAG,CAAC,oBAEd,kBAAc,wBAAoB,MAAOhB,GAAa,EACrD,qBAAiB,4CAAD,iBAAC,uCAAD,kBAA0C,sBAAiB,WAAOE,GAAMpR,KAAvE,wCAAyC,sBAAiB,WAAOoR,GAAMpR,IAAvE,GAA4E,GAC7FmR,IACA,sBAAiB,sBAAiB,WAAOC,GAAMzM,OAAQ,OAE9D,OCrLL,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,4CCNA,MAAM,GAAeyH,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,gBAAb,KAA+B,EAA/B,qBAA+B,EAA/B,wBAA+B,EAA/B,MAC9E,GAAa,CAAE7C,MAAO,gBACtB,GAAa,CAAEA,MAAO,SACtB,GAA2B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,eAAiB,cAAnC,KAAmD,EAAnD,qBAAmD,EAAnD,wBAAmD,EAAnD,MAC9E,GAAa,CAAEA,MAAO,iBACtB,GAAa,CAAEA,MAAO,UACtB,GAA2B,IAAa,KAAmB,wBAAoB,MAAO,CAAEC,MAAO,CAAC,YAAY,MAAQ,KAAtC,KAA6C,EAA7C,qBAA6C,EAA7C,wBAA6C,EAA7C,MAiBpF,QAA4B,qBAAiB,CAC3C0B,MAAMwB,GAAS,OAAEC,IAEnB,MAAMC,GAAS,IAAA5J,MAAI,GACbwP,GAAQ,IAAAxP,KAAkD,MAEhE2J,EAAO,CACHJ,OACIK,EAAOnM,OAAQ,KAIvB,MAAMgS,GAAkB,IAAAzP,MAAI,GACtB0P,GAAe,IAAA1P,KAAI,KAEzB,IAAAjB,OAAM2Q,GAAcC,IACZA,GACA,IAAAnH,WAAS,KACL,IACI,GAAwB,MAApBmH,EAAa,SAEV,GAAwB,MAApBA,EAAa,GAEpBA,EAAelL,mBAAmBC,OAAOC,KAAKgL,SAC3C,IAAwB,MAApBA,EAAa,GAOpB,OAFAzP,QAAQC,KAAK,sCAAuCwP,QACpDF,EAAgBhS,OAAQ,GAHxBkS,EAAe,yBAA6BA,GAMhD,MAAMC,EAAa/M,KAAKgC,MAAM8K,GAC9B,wBAAWC,GAAX,cAAWA,WAAAA,GAAX,2BAAWA,GAAX,mBAA0B,4BAAfA,EAAX,GAEI,YADAH,EAAgBhS,OAAQ,GAG5B,MAAMT,GAAK,WACX4S,EAAW5S,GAAKA,GAChB,EAAAoR,GAAA,IAAKwB,GACLF,EAAajS,MAAQ,GACrBgS,EAAgBhS,OAAQ,EAExBmH,EAAA,cAAoB5H,GACtB,MAAO6S,GACLJ,EAAgBhS,OAAQ,MAIhCgS,EAAgBhS,OAAQ,KAIhC,IAAIqS,EAAc,QACdC,GAAO,IAAA/P,KACP8P,EAAYhP,OAAOI,QAAO,CAACC,EAA8CC,KAErED,EAAIM,KAAK,CACLkK,MAAOvK,EAAK5B,MAAM,EAAX,KAAe,EAAf,qBAAe,EAAf,wBAAe,EAAf,IACP/B,MAAOqS,EAAY1O,GAAM6F,UAEtB9F,IACR,KAGP,MAAM6O,GAAc,IAAArK,iBAAgE,IACpF,SAASsK,EAAcjT,GACnB,iBAAIgT,EAAYhT,IAAhB,OAAIgT,EAAYhT,IAAZgT,EAAYhT,GAAhB,kBAAIgT,EAAYhT,GAAhB,kBAAuB,YAAnBgT,EAAYhT,GAAhB,GAA6B,CACzB,IAAIoR,EAAO7J,aAAaC,QAAQxH,GAChC,iBAAIoR,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAY,YAARA,EAAJ,GACI4B,EAAYhT,GAAM,CAAE2E,MAAO,qCAAsC3E,GAAAA,QAC9D,GAAa,iBAAToR,EACP4B,EAAYhT,GAAM,CAAE2E,MAAO,oBAAqB3E,GAAAA,QAEhD,IACI,GAAgB,MAAZoR,EAAK,SAEF,GAAgB,MAAZA,EAAK,GAEZA,EAAO3J,mBAAmBC,OAAOC,KAAKyJ,SACnC,IAAgB,MAAZA,EAAK,GASZ,OAJAlO,QAAQC,KAAK,sCAAuCiO,GACpDqB,EAAgBhS,OAAQ,EACxBuS,EAAYhT,GAAM,CAAE2E,MAAO,sCAAuC3E,GAAAA,GAE3DgT,EAAYhT,GANnBoR,EAAO,yBAA6BA,GAQxC4B,EAAYhT,GAAM,IAAK6F,KAAKgC,MAAMuJ,GAAOpR,GAAAA,GAC3C,MAAO2E,GACLqO,EAAYhT,GAAM,CAAE2E,MAAAA,EAAO3E,GAAAA,GAC3BkD,QAAQC,KACJ,wDAAwDnD,OAAQ2E,MAAUyM,MAM1F,OAAO4B,EAAYhT,IAGvB,IAAA+B,OAAM6K,GAAQA,IACNA,GACA/I,OAAOC,KAAKkP,GAAajP,SAAQvD,GAAO,UAAJ,IAAWwS,GAAX,OAAWA,GAAAA,EAAX,sBAAWA,EAAX,oCAAWA,EAAYxS,IAAnB,QAIhD,MAAMyG,GAAQ,IAAAmE,WAAS,IACnBxD,EAAA,iBAAsB,CAACzD,EAAyCC,KAC5DD,EAAIC,GAAQ6O,EAAc7O,GACnBD,IACR,MAGP,SAAS+O,EAAWlT,GAChB,IAAImT,EACJ,GAAIvN,EAAA,OAAc5F,EACdmT,GAAe,EAAA/B,GAAA,WAGf,OADA+B,EAAetN,KAAKC,UAAUmB,EAAMxG,MAAMT,IAClCqL,EAAS+H,cACb,QACIlQ,QAAQC,KAAK,0BAA0BkI,EAAS+H,kCACpD,IAAK,KACDD,EAAe,qBAAyBA,GACxC,MACJ,IAAK,SACDA,EAAenL,KAAKC,SAASC,mBAAmBiL,KAChD,MACJ,IAAK,QACD,MAKZ,MAAME,EAAKC,SAASC,cAAc,YAClCF,EAAG5S,MAAQ0S,EACXG,SAAStG,KAAKwG,YAAYH,GAC1BA,EAAGI,SACHJ,EAAGK,kBAAkB,EAAG,OACxBJ,SAASK,YAAY,QACrBL,SAAStG,KAAK4G,YAAYP,GAG9B,SAASQ,EAAc7T,GACf4F,EAAA,OAAc5F,IACd,EAAAoR,GAAA,MAGJ,MAAMwB,EAAa,IAAK3L,EAAMxG,MAAMT,GAAKA,IAAI,aAC7C,EAAAoR,GAAA,IAAKwB,GAELhL,EAAA,cAAoBgL,EAAW5S,IAGnC,SAAS8T,EAAW9T,GAChB4H,EAAA,SAAiBA,EAAA,iBAAuBwJ,GAAD,cAAkBA,GAAlB,OAAkBA,GAAAA,EAAlB,mBAAkBA,EAAlB,mBAA2BpR,GAAToR,IAASpR,EAA3B,KACvCuH,aAAawM,WAAW/T,GACxBgT,EAAYhT,QAAMU,EAGtB,SAASsT,EAAShU,GAEdiH,EAAMxG,MAAMmF,EAAA,MAAYV,KAAOU,EAAA,QAC/B,EAAAwL,GAAA,MACA4B,EAAYpN,EAAA,WAAalF,GAEzB,SAASuG,EAAMxG,MAAMT,IAErBgT,EAAYhT,QAAMU,EAGtB,SAASuT,EAAcC,GACnB,GAAkB,MAAdA,EAAO,SAEJ,GAAkB,MAAdA,EAAO,GAEdA,EAASzM,mBAAmBC,OAAOC,KAAKuM,SACrC,IAAkB,MAAdA,EAAO,GAMd,YADAhR,QAAQC,KAAK,sCAAuC+Q,GAFpDA,EAAS,yBAA6BA,GAK1C,MAAMtB,EAAa/M,KAAKgC,MAAMqM,GAC9BtB,EAAW5S,IAAK,YAChB,EAAAoR,GAAA,IAAKwB,GAELhL,EAAA,cAAoBgL,EAAW5S,IAE/BgU,EAASpB,EAAW5S,IAGxB,SAASmU,EAASnU,EAAY+R,GAC1B,MAAMqC,EAAWnN,EAAMxG,MAAMT,GACzBoU,IACAA,EAASpP,KAAO+M,EACZnM,EAAA,OAAc5F,GACd4F,EAAA,OAAcmM,GACd,EAAAX,GAAA,SAEA,EAAAA,GAAA,IAAKgD,GACLpB,EAAYhT,QAAMU,IAK9B,MAAO,CAACsI,EAAUC,MACR,kBAAc,iBAAa4D,EAAA,EAAO,CACxCC,WAAYF,EAAOnM,MACnB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkB6C,EAAQnM,MAAQsJ,GACpFiG,QAAS,QACThN,IAAKwP,GACJ,CACDzF,QAAQ,cAAS,IAAM,CACrB,MAEFC,MAAM,cAAS,EAAGyB,MAAAA,KAAY,CAC5BA,IACK,kBAAc,kBAAa,WAAO,MAAY,CAC7CjO,IAAK,EACL6T,MAAM,WAAOzM,EAAA,IAAUX,MACvBqN,OAAQ,UACRC,QAAUnD,GAASA,GAClB,CACD9J,MAAM,cAAS,EAAGkN,QAAAA,KAAc,EAC9B,iBAAaC,GAAM,CACjBrD,MAAM,WAAOnK,GAAOuN,GACpBE,OAAS3K,GAAiBiK,EAASQ,GACnCG,SAAW5K,GAAiBmJ,EAAWsB,GACvCI,WAAY5P,GAAQmP,EAASK,EAASxP,GACtC6P,YAAc9K,GAAiB8J,EAAcW,GAC7CM,SAAW/K,GAAiB+J,EAAWU,IACtC,KAAM,EAAG,CAAC,OAAQ,SAAU,WAAY,aAAc,cAAe,gBAE1EtK,EAAG,GACF,EAAG,CAAC,OAAQ,cACf,wBAAoB,IAAI,MAE9B6K,QAAQ,cAAS,IAAM,EACrB,wBAAoB,MAAO,GAAY,EACrC,iBAAaxC,GAAM,CACjBzF,WAAY4F,EAAajS,MACzB,sBAAuBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkB2I,EAAcjS,MAAQsJ,GAC1F+D,MAAO,cACPwB,YAAa,wBACb/F,OAAO,oBAAgB,CAAEkJ,gBAAiBA,EAAgBhS,SACzD,KAAM,EAAG,CAAC,aAAc,WAC3B,wBAAoB,MAAO,GAAY,CACrC,IACA,wBAAoB,MAAO,GAAY,EACrC,wBAAoB,SAAU,CAC5B8I,MAAO,SACPI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBiK,GAAS,WAAO,MAAP,GAAkBhU,MAC/E,YACH,cAAC6D,OAAOC,MAAK,WAAOiP,IAAOiC,QAA3B,OAACnR,OAAOC,MAAK,WAAOiP,IAAOiC,QAA1BnR,OAAOC,MAAK,WAAOiP,IAAOiC,OAA3B,iBAACnR,OAAOC,MAAK,WAAOiP,IAAOiC,OAA3B,iBAAoC,GAAnCnR,OAAOC,MAAK,WAAOiP,IAAOiC,OAAS,EAApC,KACK,kBAAc,iBAAa/F,EAAA,EAAQ,CAClCzO,IAAK,EACL0O,SAAS,WAAO6D,GAChBjG,gBAAYpM,EACZ,sBAAuBuI,EAAO,KAAOA,EAAO,GAAKiL,GAAUD,EAAcC,IACzEe,cAAe,GACf3F,YAAa,gBACb/F,MAAO,WACN,KAAM,EAAG,CAAC,cACb,wBAAoB,IAAI,QAGhC,wBAAoB,MAAO,GAAY,CACrC,IACA,wBAAoB,SAAU,CAC5BA,MAAO,8BACPI,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiB6C,EAAOnM,OAAQ,IACnE,kBAITyJ,EAAG,GACF,EAAG,CAAC,mBChTT,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCNA,MAAM,GAAekC,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,GAAa,CAAC,MAAO,OACrB,GAAa,CACjB5L,IAAK,EACL+I,MAAO,SAEH,GAA2B,IAAa,KAAmB,wBAAoB,MAAO,CAAEC,MAAO,CAAC,YAAY,IAAI,OAAS,UAAY,KAAvD,KAA8D,EAA9D,qBAA8D,EAA9D,wBAA8D,EAA9D,MAC9E,GAAa,CAAED,MAAO,WACtB,GAAa,CAAEA,MAAO,iBACtB,GAAa,CAAE/I,IAAK,GACpB,GAAa,CAAC,QACd,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,EAClF,wBAAoB,IAAK,CACpCiN,KAAM,6BACNvH,OAAQ,UACP,8BAJ+E,KAKhF,EALgF,qBAKhF,EALgF,wBAKhF,EALgF,MAM9E,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,EAClF,wBAAoB,IAAK,CACpCuH,KAAM,6BACNvH,OAAQ,UACP,qBAJ+E,KAKhF,EALgF,qBAKhF,EALgF,wBAKhF,EALgF,MAM9E,GAAc,CAClBuH,KAAM,kCACNvH,OAAQ,UAEJ,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEqD,MAAO,kBAAoB,QAAtC,KAAgD,EAAhD,qBAAgD,EAAhD,wBAAgD,EAAhD,MAC/E,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,OAAtC,KAA+C,EAA/C,qBAA+C,EAA/C,wBAA+C,EAA/C,MAC/E,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,gBAAtC,KAAwD,EAAxD,qBAAwD,EAAxD,wBAAwD,EAAxD,MAC/E,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,WAAtC,KAAmD,EAAnD,qBAAmD,EAAnD,wBAAmD,EAAnD,MAC/E,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,gBAAtC,KAAwD,EAAxD,qBAAwD,EAAxD,wBAAwD,EAAxD,MAC/E,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,WAAtC,KAAmD,EAAnD,qBAAmD,EAAnD,wBAAmD,EAAnD,MAC/E,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEA,MAAO,kBAAoB,OAAtC,KAA+C,EAA/C,qBAA+C,EAA/C,wBAA+C,EAA/C,MAC/E,GAAc,CAClBkE,KAAM,kCACNvH,OAAQ,UAEJ,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAEqD,MAAO,kBAAoB,QAAtC,KAAgD,EAAhD,qBAAgD,EAAhD,wBAAgD,EAAhD,MAC/E,GAAc,CAAEA,MAAO,WACvB2L,GAAc,CAAE3L,MAAO,iBACvB4L,GAAc,CAAE3U,IAAK,GACrB4U,GAAc,CAAC,QACfC,GAA4B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,EACnF,wBAAoB,IAAK,CACpC5H,KAAM,6BACNvH,OAAQ,UACP,8BAJgF,KAKjF,EALiF,qBAKjF,EALiF,wBAKjF,EALiF,MAM/EoP,GAA4B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,EACnF,wBAAoB,IAAK,CACpC7H,KAAM,6BACNvH,OAAQ,UACP,qBAJgF,KAKjF,EALiF,qBAKjF,EALiF,wBAKjF,EALiF,MAiBrF,QAA4B,qBAAiB,CAC3CgF,MAAMwB,GAER,MAAM6I,GAAO,IAAAvS,KAAiD,MACxDwS,GAAe,IAAAxS,KAAyD,MACxEkM,GAAU,IAAAlM,KAAoD,MAG9D4K,GAAY,IAAA5K,KAAyC,OAErD,UAAEyS,EAAF,OAAaC,EAAb,MAAqB5H,EAArB,YAA4BG,EAA5B,YAAyCC,EAAzC,cAAsDC,GAAkB9C,EAE9E,SAASsK,IACL5O,OAAOwF,KAAK2B,EAAa,YAG7B,MAAO,CAAClF,EAAUC,MACR,kBAAc,wBAAoB,WAAW,KAAM,EACxD,WAAOwM,KACH,kBAAc,wBAAoB,OAAO,gBAAY,CACpDjV,IAAK,EACL+I,MAAO,OACNP,EAAK4M,QAAS,EACd,WAAOF,KACH,kBAAc,wBAAoB,MAAO,CACxClV,IAAK,EACL+N,KAAK,WAAOmH,GACZnM,MAAO,SACPiF,KAAK,WAAOV,IACX,KAAM,EAAG,OACX,kBAAc,wBAAoB,MAAO,IAAY,sBAAiB,WAAOA,IAAS,KAC3F,wBAAoB,MAAO,CACzBnE,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiB6D,EAAUnN,OAAO8L,QACtEhD,MAAO,qBACN,EACD,iBAAasM,EAAA,EAAS,CACpBjL,QAAS,YACTkL,WAAW,WAAO,MAAWC,KAC7BxM,MAAO,WACN,CACDU,SAAS,cAAS,IAAM,EACtB,wBAAoB,OAAQ,KAAT,KAAe,IAAf,iBAAe,IAAf,kBAAqB,sBAAiB,WAAOkE,KAA9B,KAAM,sBAAiB,WAAOA,IAA7C,GAA8D,MAEnFjE,EAAG,GACF,EAAG,CAAC,gBAET,IACA,wBAAoB,MAAO,GAAY,EACrC,wBAAoB,OAAQ,CAC1BP,QAASgM,EACTpM,MAAO,kBACN,YACH,wBAAoB,KAAM,GAAY,CACpC,eAAC,WAAO2E,IAAR,QAAC,WAAOA,KAAP,WAAOA,GAAR,oBAAC,WAAOA,GAAR,mBAAyB,8DAAxB,WAAOA,GAAR,KACK,kBAAc,wBAAoB,KAAM,GAAY,EACnD,wBAAoB,IAAK,CACvBT,MAAM,WAAOS,GACbhI,OAAQ,WACP,sBAAiB,WAAO+H,IAAe,EAAG,QAE/C,wBAAoB,IAAI,GAC5B,GACA,QAGJ,wBAAoB,MAAO,KAAM,EAC/B,wBAAoB,IAAK,GAAa,EACpC,iBAAa4H,EAAA,EAAS,CACpBjL,QAAS,SACTkL,WAAW,WAAO,MAAWC,KAC7BC,QAAS,OACR,CACD/L,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,mBAGX,wBAAoB,MAAO,CACzBP,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBwL,EAAK9U,OAAO8L,SAChE,EACD,iBAAasJ,EAAA,EAAS,CACpBjL,QAAS,OACTkL,WAAW,WAAO,MAAWC,KAC7BxM,MAAO,QACN,CACDU,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,iBAET,wBAAoB,MAAO,CACzBP,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiByL,EAAa/U,OAAO8L,SACxE,EACD,iBAAasJ,EAAA,EAAS,CACpBjL,QAAS,QACTkL,WAAW,WAAO,MAAWC,KAC7BE,QAAS,SACR,CACDhM,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,iBAET,wBAAoB,MAAO,CACzBP,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBmF,EAAQzO,OAAO8L,SACnE,EACD,iBAAasJ,EAAA,EAAS,CACpBjL,QAAS,UACTkL,WAAW,WAAO,MAAWC,KAC7BE,QAAS,SACR,CACDhM,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,iBAER,OACF,kBAAc,wBAAoB,OAAO,gBAAY,CACpD1J,IAAK,EACL+I,MAAO,eACNP,EAAK4M,QAAS,EACf,wBAAoB,MAAO,CACzBjM,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiB6D,EAAUnN,OAAO8L,QACtEhD,MAAO,qBACN,EACD,iBAAasM,EAAA,EAAS,CACpBjL,QAAS,YACTkL,WAAW,WAAO,MAAWI,MAC7BD,QAAS,MACT1M,MAAO,WACN,CACDU,SAAS,cAAS,IAAM,EACtB,wBAAoB,OAAQ,KAAT,KAAe,IAAf,iBAAe,IAAf,kBAAqB,sBAAiB,WAAOkE,KAA9B,KAAM,sBAAiB,WAAOA,IAA7C,GAA8D,MAEnFjE,EAAG,GACF,EAAG,CAAC,iBAET,wBAAoB,MAAO,CACzBP,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiByL,EAAa/U,OAAO8L,SACxE,EACD,iBAAasJ,EAAA,EAAS,CACpBjL,QAAS,QACTkL,WAAW,WAAO,MAAWI,OAC5B,CACDjM,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,iBAET,wBAAoB,MAAO,CACzBP,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBmF,EAAQzO,OAAO8L,SACnE,EACD,iBAAasJ,EAAA,EAAS,CACpBjL,QAAS,UACTkL,WAAW,WAAO,MAAWI,OAC5B,CACDjM,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,iBAET,wBAAoB,MAAO,CACzBP,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBwL,EAAK9U,OAAO8L,SAChE,EACD,iBAAasJ,EAAA,EAAS,CACpBjL,QAAS,OACTkL,WAAW,WAAO,MAAWI,OAC5B,CACDjM,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,iBAET,wBAAoB,MAAO,KAAM,EAC/B,wBAAoB,IAAK,GAAa,EACpC,iBAAa2L,EAAA,EAAS,CACpBjL,QAAS,SACTkL,WAAW,WAAO,MAAWI,MAC7BD,QAAS,OACR,CACDhM,SAAS,cAAS,IAAM,CACtB,MAEFC,EAAG,GACF,EAAG,CAAC,mBAGX,wBAAoB,MAAO,GAAa,EACtC,wBAAoB,OAAQ,CAC1BP,QAASgM,EACTpM,MAAO,kBACN,YACH,wBAAoB,KAAM2L,GAAa,CACrC,eAAC,WAAOhH,IAAR,QAAC,WAAOA,KAAP,WAAOA,GAAR,oBAAC,WAAOA,GAAR,mBAAyB,8DAAxB,WAAOA,GAAR,KACK,kBAAc,wBAAoB,KAAMiH,GAAa,EACpD,wBAAoB,IAAK,CACvB1H,MAAM,WAAOS,GACbhI,OAAQ,WACP,sBAAiB,WAAO+H,IAAe,EAAGmH,QAE/C,wBAAoB,IAAI,GAC5BC,GACAC,QAGH,MACP,iBAAaa,EAAM,CACjBnG,QAAS,OACThN,IAAKuS,EACL3H,UAAWA,EAAUnN,OACpB,KAAM,EAAG,CAAC,eACb,iBAAa2V,GAAc,CACzBpG,QAAS,eACThN,IAAKwS,GACJ,KAAM,MACT,iBAAaa,GAAS,CACpBrG,QAAS,UACThN,IAAKkM,GACJ,KAAM,MACT,iBAAaoH,EAAW,CACtBtG,QAAS,YACThN,IAAK4K,GACJ,KAAM,MACR,QCtSL,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCLA,MACM,GAAa,CAAErE,MAAO,aAU5B,QAA4B,qBAAiB,CAC3C2B,MAAMwB,GAER,MAAMzH,GAAO,IAAAsR,OAAM3Q,EAAA,EAAQ,QACrB4Q,GAAY,IAAApL,WAAS,IAAMvH,OAAOC,KAAK,EAAA4B,UACvC+P,EAAYpK,EAASoK,UAE3B,SAASgB,EAAiBnT,GACtB,MAAM,QAAEsH,EAAF,UAAWd,EAAX,SAAsBgB,EAAtB,KAAgC9F,EAAhC,MAAsCyE,EAAtC,MAA6CD,EAA7C,QAAoDQ,EAApD,YAA6DG,EAA7D,MAA0Ec,GAAU3H,EAC1F,MAAO,CAAEsH,QAAAA,EAASd,UAAAA,EAAWgB,SAAAA,EAAU9F,KAAAA,EAAMyE,MAAAA,EAAOD,MAAAA,EAAOQ,QAAAA,EAASG,YAAAA,EAAac,MAAAA,GAGrF,MAAO,CAACjC,EAAUC,MACR,kBAAc,wBAAoB,MAAO,CAC/CM,OAAO,oBAAgB,CAAC,iBAAkB,CAAEkM,WAAW,WAAOA,OAC7D,GACA,gBAAW,IAAO,wBAAoB,WAAW,MAAM,iBAAY,WAAOxQ,IAAO,CAACyF,EAAKF,MAC9E,kBAAc,wBAAoB,MAAO,CAC/ChK,IAAKgK,EACLjB,MAAO,MACPmN,SAAS,EACT1T,IAAK,OAAOwH,KACX,CACU,IAAVA,GAAA,eAAgB,WAAOiL,IAAvB,QAAgB,WAAOA,KAAP,WAAOA,GAAvB,kBAAgB,WAAOA,GAAvB,qBAAgB,WAAOA,GAAvB,KACI,kBAAc,iBAAakB,GAAK,CAAEnW,IAAK,MACxC,wBAAoB,IAAI,IAC5B,wBAAoB,MAAO,GAAY,EACpC,WAAOgW,GAAWjS,SAASmG,KACvB,kBAAc,iBAAakM,GAAO,gBAAY,CAAEpW,IAAK,GAAKiW,GAAiB,WAAO,EAAA/Q,QAAQgF,IAAQ,CACjGF,MAAOA,EACPE,IAAK,IAAQ1B,EAAK6N,MAAM,OAAOrM,OAAyC,KACtE,KAAM,GAAI,CAAC,QAAS,WACvB,kBAAc,kBAAa,6BAAyBE,GAAM,CACzDlK,IAAK,EACLgK,MAAOA,GACN,KAAM,EAAG,CAAC,kBAGnB,OACH,OC9CL,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,WCNA,MAAM,GAAe4B,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,GAAa,CAAE7C,MAAO,0BACtB,GAAa,CAAC,MAAO,OACrB,GAAa,CAAEA,MAAO,yBACtB,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,mBAAb,KAAkC,EAAlC,qBAAkC,EAAlC,wBAAkC,EAAlC,MAC9E,GAAa,CAAE/I,IAAK,GACpB,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC9E,GAA2B,IAAa,KAAmB,wBAAoB,MAAO,KAAM,sFAAd,KAAsG,EAAtG,qBAAsG,EAAtG,wBAAsG,EAAtG,MAC9E,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC9E,GAAa,CAAC,QACd,GAA4B,IAAa,KAAmB,wBAAoB,OAAQ,CAAE+I,MAAO,0CAA4C,UAA9D,KAA0E,EAA1E,qBAA0E,EAA1E,wBAA0E,EAA1E,MAYrF,QAA4B,qBAAiB,CAC3C2B,MAAMwB,GAER,MAAM,MAAEoB,EAAF,KAASC,EAAT,YAAeE,EAAf,YAA4BC,EAA5B,cAAyCC,EAAzC,aAAwDC,GAAiB/C,EAEzE/F,GAAa,IAAA8F,WAAS,KAAM,QAAWxF,EAAA,gBACvCgH,GAAS,IAAAxB,WAAS,IAAM,GAAAvK,OAAA,qBAAiB+E,EAAA,aAAjB,OAAiBA,EAAA,aAAAA,EAAA,YAAjB,iBAAiBA,EAAA,YAAjB,oBAAiBA,EAAA,YAAjB,KACxBT,GAAW,IAAAoR,OAAM3Q,EAAA,EAAQ,YAE/B,SAASL,IACLK,EAAA,aAAmB,EAGvB,SAASkR,KACL,UAAS,YAGb,MAAO,CAAC9N,EAAUC,MACR,kBAAc,iBAAa4D,EAAA,EAAO,CAAE,eAAe,WAAOD,IAAW,CAC3EG,QAAQ,cAAS,IAAM,EACrB,wBAAoB,MAAO,GAAY,EACpC,WAAOgB,KACH,kBAAc,wBAAoB,MAAO,CACxCvN,IAAK,EACL+I,MAAO,uBACPgF,KAAK,WAAOR,GACZS,KAAK,WAAOV,IACX,KAAM,EAAG,MACZ,wBAAoB,IAAI,IAC5B,wBAAoB,MAAO,GAAY,CACrC,IACA,wBAAoB,KAAM,KAAP,KAAa,kBAAmB,sBAAiB,WAAOA,IAAU,MAAO,sBAAiB,WAAOK,IAAkB,YAAnH,GAAa,kBAAmB,sBAAiB,WAAOL,IAAU,MAAO,sBAAiB,WAAOK,IAAkB,OAAnH,OAAa,kBAAmB,sBAAiB,WAAOL,IAAU,MAAO,sBAAiB,WAAOK,IAAkB,MAAnH,kBAAa,kBAAmB,sBAAiB,WAAOL,IAAU,MAAO,sBAAiB,WAAOK,IAAkB,MAAnH,kBAA0H,sBAAiB,WAAOC,KAArI,kBAAmB,sBAAiB,WAAON,IAAU,MAAO,sBAAiB,WAAOK,IAAkB,MAAO,sBAAiB,WAAOC,IAAlJ,GAAkK,UAI3LpB,MAAM,cAAS,EAAGyB,MAAAA,KAAY,CAC5BA,IACK,kBAAc,wBAAoB,MAAO,GAAY,EACpD,wBAAoB,MAAO,KAAR,KAAc,gBAAiB,sBAAiB,WAAOnJ,WAAvD,GAAc,gBAAiB,sBAAiB,WAAOA,MAAvD,OAAc,gBAAiB,sBAAiB,WAAOA,KAAvD,kBAAc,gBAAiB,sBAAiB,WAAOA,KAAvD,iBAAsE,sBAAxD,gBAAiB,sBAAiB,WAAOA,IAAe,qBAAtE,GAA4F,GAC/G,GACA,GACA,IACA,wBAAoB,MAAO,KAAM,EAC/B,wBAAoB,IAAK,CACvBmI,MAAM,WAAOS,GACb3E,MAAO,gCACN,CACD,IACA,qBAAiB,SAAD,iBAAC,IAAD,kBAAO,sBAAiB,WAAO0E,KAA9B,KAAM,sBAAiB,WAAOA,IAA9B,GAA6C,IAC7D,EAAG,OAER,iBAAakB,EAAA,EAAQ,CACnBrB,MAAO,WACPhB,YAAY,WAAO3H,GACnB,sBAAuB8D,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO5E,GAAaA,EAAU1E,MAAQsJ,EAAS,OACjH,KAAM,EAAG,CAAC,mBAEf,wBAAoB,IAAI,MAE9BgL,QAAQ,cAAS,IAAM,EACrB,wBAAoB,MAAO,CAAExL,MAAO,oBAAsB,EACxD,wBAAoB,SAAU,CAC5BI,QAASpE,EACTgE,MAAO,UACN,eACH,wBAAoB,SAAU,CAC5BI,QAASmN,EACTvN,MAAO,iBACN,mBAGPW,EAAG,GACF,EAAG,CAAC,oBC3FT,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,WCLA,MAAM,GAAekC,KAAM,iBAAa,mBAAmBA,EAAEA,KAAI,kBAAcA,GACzE,GAA2B,IAAa,KAAmB,wBAAoB,MAAO,CAAE7C,MAAO,oBAAsB,EAC5G,wBAAoB,KAAM,KAAM,wBADqC,KAEhF,EAFgF,qBAEhF,EAFgF,wBAEhF,EAFgF,MAG9E,GAAa,CAAE/I,IAAK,GACpB,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC9E,GAAa,CAAC,QACd,GAA2B,IAAa,KAAmB,wBAAoB,OAAQ,CAAE+I,MAAO,oCAAsC,UAAxD,KAAoE,EAApE,qBAAoE,EAApE,wBAAoE,EAApE,MAC9E,GAA2B,IAAa,KAAmB,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,MAC9E,GAAa,CAAEA,MAAO,cAY5B,QAA4B,qBAAiB,CAC3C2B,MAAMwB,GAER,MAAM,YAAEuB,EAAF,YAAeC,GAAgB7C,EAC/BlG,GAAW,IAAAoR,OAAM3Q,EAAA,EAAQ,YACzBiD,GAAS,IAAA0N,OAAM1R,GAAA,EAAO,UACtB2Q,GAAe,IAAAxS,KAAyD,MAExEW,GAAO,IAAAyH,WAAS,IAAMvG,GAAA,eAAoB,OAC1CwB,GAAW,IAAA+E,WAAS,IAAMvG,GAAA,qBAAsB,EAAtB,qBAAsB,EAAtB,wBAAsB,EAAtB,IAAyB,KACnDkS,GAAW,IAAA3L,WAA+B,IACxCvG,GAAA,eAAqBwB,EAAS5F,MACvBoE,GAAA,cAAkBwB,EAAS5F,OAE/B,OAELoO,GAAW,IAAAzD,UAAS,CACtBnF,MACI,OAA2B,IAApBL,EAAA,YAEXQ,IAAI3F,GACAmF,EAAA,WAAkBnF,EAAQ,KAAO,KAIzC,SAASuW,IACDnS,GAAA,eAAqBwB,EAAS5F,QAC9BoE,GAAA,cAAkBwB,EAAS5F,OAAS,IAAI,KAAQ,GAChDoE,GAAA,UAAe,GAIvB,SAASoS,IACDpS,GAAA,eAAqBwB,EAAS5F,QAC9BoE,GAAA,cAAkBwB,EAAS5F,OAAS,IAAI,KAAQ,GAChDoE,GAAA,UAAe,GAIvB,SAASqS,IACDrS,GAAA,eAAqBwB,EAAS5F,QAC9BoE,GAAA,cAAkBwB,EAAS5F,OAAS,IAAI,KAAQ0W,KAChDtS,GAAA,UAAe,GAIvB,MAAO,CAACmE,EAAUC,MACR,kBAAc,wBAAoB,WAAW,KAAM,EACzD,iBAAa4D,EAAA,GAAO,gBAAY,CAC9BC,YAAY,WAAOjE,GACnB,sBAAuBI,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAOlB,GAAWA,EAAQpI,MAAQsJ,EAAS,OAC7Gf,EAAK4M,QAAS,CACf7I,QAAQ,cAAS,IAAM,CACrB,MAEFC,MAAM,cAAS,IAAM,EACnB,wBAAoB,MAAO,KAAM,EAC/B,qBAAiB,+BAA4B,sBAAiB,WAAOrJ,WAArD,GAAC,0BAA4B,sBAAiB,WAAOA,MAArD,OAAC,0BAA4B,sBAAiB,WAAOA,KAArD,kBAAC,0BAA4B,sBAAiB,WAAOA,KAArD,iBAA8D,YAA7D,0BAA4B,sBAAiB,WAAOA,IAAS,WAA7D,GAA0E,IAC1F,WAAOoT,KACH,kBAAc,wBAAoB,OAAQ,GAAT,MAAqB,qBAAiB,KAAO,gBAAiB,sBAAiB,WAAO,KAAP,EAAe,WAAOA,YAArG,IAAqB,qBAAiB,KAAO,gBAAiB,sBAAiB,WAAO,KAAP,EAAe,WAAOA,OAArG,QAAqB,qBAAiB,KAAO,gBAAiB,sBAAiB,WAAO,KAAP,EAAe,WAAOA,MAArG,mBAAqB,qBAAiB,KAAO,gBAAiB,sBAAiB,WAAO,KAAP,EAAe,WAAOA,MAArG,iBAAmH,MAA9F,qBAAiB,KAAO,gBAAiB,sBAAiB,WAAO,KAAP,EAAe,WAAOA,KAAc,IAAnH,GAAwH,KAC1J,wBAAoB,IAAI,IAC5B,qBAAiB,gCAA4B,sBAAiB,WAAO5R,GAAY,UAAY,mBAA7E,GAAC,2BAA4B,sBAAiB,WAAOA,GAAY,UAAY,cAA7E,OAAC,2BAA4B,sBAAiB,WAAOA,GAAY,UAAY,aAA7E,kBAAC,2BAA4B,sBAAiB,WAAOA,GAAY,UAAY,aAA7E,iBAA2F,kGAA1F,2BAA4B,sBAAiB,WAAOA,GAAY,UAAY,YAAc,iGAA1F,GAA4L,KAE/M,IACA,wBAAoB,MAAO,KAAM,EAC/B,wBAAoB,IAAK,CACvBsI,MAAM,WAAOS,GACb3E,MAAO,0BACN,CACD,IACA,qBAAiB,SAAD,iBAAC,IAAD,kBAAO,sBAAiB,WAAO0E,KAA9B,KAAM,sBAAiB,WAAOA,IAA9B,GAA6C,IAC7D,EAAG,MAER,IACA,iBAAakB,EAAA,EAAQ,CACnBrB,MAAO,WACPhB,YAAY,WAAO3H,GACnB,sBAAuB8D,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO5E,GAAaA,EAAU1E,MAAQsJ,EAAS,OACjH,KAAM,EAAG,CAAC,gBACZ,WAAOsB,GAAU+D,gBACb,kBAAc,iBAAaD,EAAA,EAAQ,CAClC3O,IAAK,EACLsN,MAAO,aACPhB,YAAY,WAAO+B,GACnB,sBAAuB5F,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAO8E,GAAaA,EAAUpO,MAAQsJ,EAAS,OACjH,KAAM,EAAG,CAAC,iBACb,wBAAoB,IAAI,MAE9BgL,QAAQ,cAAS,IAAM,EACrB,wBAAoB,MAAO,GAAY,EACrC,wBAAoB,SAAU,CAC5BpL,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiByL,EAAa/U,OAAO8L,QACzEhD,MAAO,UACN,uBACH,wBAAoB,SAAU,CAC5BI,QAASqN,EACTzN,MAAO,UACN,aACH,wBAAoB,SAAU,CAC5BI,QAASsN,EACT1N,MAAO,UACN,aACF,WAAOwN,KAAa,WAAO,MAASK,KAAI,WAAOL,GAAW,KAAM,WAAO,MAASK,KAAI,WAAOL,GAAW,KAClG,kBAAc,wBAAoB,SAAU,CAC3CvW,IAAK,EACLmJ,QAASV,EAAO,KAAOA,EAAO,GAAMc,GAAiBlB,EAAOpI,OAAQ,GACpE8I,MAAO,UACN,uBACH,wBAAoB,IAAI,IAC5B,wBAAoB,SAAU,CAC5BI,QAASuN,EACT3N,MAAO,iBACN,eAGPW,EAAG,GACF,GAAI,CAAC,gBACR,iBAAakM,GAAc,CACzBpG,QAAS,eACThN,IAAKwS,GACJ,KAAM,MACR,QC3IL,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCLA,MACM,GAAa,CACjBhV,IAAK,EACL+I,MAAO,cAEH,GAAa,CACjB/I,IAAK,EACL+I,MAAO,OAQT,QAA4B,qBAAiB,CAC3C2B,MAAMwB,GAER,MAAM2K,GAAM,IAAAjM,WAAS,IACjB,SACIvG,GAAA,sBACAA,GAAA,uBAA0B,CAACV,EAAKC,IAAN,cAAeD,GAAf,OAAeA,GAAAA,EAAf,iBAAeA,EAAf,iBAAqBC,GAAND,EAAMC,EAArB,IAA2B,MAIvDkT,GAAa,IAAAtU,KAAc,KACjC,IAAAuU,cAAY,KACRD,EAAW7W,MAAMgE,KAAKtD,KAAKqW,MAAMH,EAAI5W,MAAMgX,aAC3C,cAAIH,EAAW7W,MAAMuU,QAArB,OAAIsC,EAAW7W,MAAMuU,QAAjBsC,EAAW7W,MAAMuU,OAArB,iBAAIsC,EAAW7W,MAAMuU,OAArB,iBAA8B,IAA1BsC,EAAW7W,MAAMuU,OAAS,GAA9B,KACIsC,EAAW7W,MAAQ6W,EAAW7W,MAAM+B,MAAM,OAIlD,MAAMkV,GAAM,IAAAtM,WAAS,IACjBkM,EAAW7W,MAAMyD,QAAsB,CAACC,EAAKC,IAAS,SAAYD,EAAKC,IAAO,KAG5EuT,GAAU,IAAAvM,WAAS,IAAM,SAAYiM,EAAI5W,MAAOiX,EAAIjX,OAAOmX,GAAG,KAEpE,MAAO,CAAC5O,EAAUC,IACT,eAAE,WAAOoO,GAAKQ,SAAd,QAAE,WAAOR,GAAKQ,UAAZ,WAAOR,GAAKQ,QAAd,kBAAE,WAAOR,GAAKQ,QAAd,qBAAE,WAAOR,GAAKQ,QAAd,KACF,kBAAc,wBAAoB,MAAO,GAAY,EACpD,qBAAiB,eAAW,sBAAiB,WAAO,KAAP,EAAoB,WAAOR,YAAxD,GAAC,UAAW,sBAAiB,WAAO,KAAP,EAAoB,WAAOA,OAAxD,OAAC,UAAW,sBAAiB,WAAO,KAAP,EAAoB,WAAOA,MAAxD,kBAAC,UAAW,sBAAiB,WAAO,KAAP,EAAoB,WAAOA,MAAxD,iBAAiE,KAAhE,UAAW,sBAAiB,WAAO,KAAP,EAAoB,WAAOA,KAAS,IAAhE,GAAqE,IACtF,iBAAa,aAAa,CAAErS,KAAM,QAAU,CAC1CiF,SAAS,cAAS,IAAM,EACrB,WAAO0N,KACH,kBAAc,wBAAoB,OAAQ,IAAY,sBAAiB,WAAO,KAAP,EAAoB,WAAOD,KAAQ,KAC3G,wBAAoB,IAAI,MAE9BxN,EAAG,QAGP,wBAAoB,IAAI,MCjD9B,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCSA,IAA4B,qBAAiB,CAC3CgB,MAAMwB,GAER,MAAM+I,EAAYpK,EAASoK,UACrBtO,GAAQ,IAAAiE,WAAS,IAAM,IAAOxD,EAAA,UAAgBxI,YAC9C8H,GAAU,IAAAqP,OAAM3O,EAAA,GAAU,WAE1BkQ,GAAgB,IAAA1M,WAAS,KACpB,SAAgB,SAAI,KAAM,kCAAG,QAAmB,aAG3D,MAAO,CAACpC,EAAUC,MACR,kBAAc,wBAAoB,WAAW,KAAM,EACzD,wBAAoB,MAAO,CACzBjJ,GAAI,aACJwJ,OAAO,qBAAgB,WAAOrC,KAC7B,KAAM,IACT,wBAAoB,MAAO,CACzBoC,OAAO,oBAAgB,CAAC,MAAO,CAAEkM,WAAW,WAAOA,MACnDjM,OAAO,qBAAgB,WAAOrC,KAC7B,EACA,WAAOsO,KACH,kBAAc,iBAAakB,GAAK,CAAEnW,IAAK,MACxC,wBAAoB,IAAI,IAC5B,iBAAauX,KACZ,IAAAhS,QAAM,WAAOmB,MACT,kBAAc,iBAAa8Q,GAAK,CAAExX,IAAK,MACxC,wBAAoB,IAAI,IAC5B,iBAAayX,KACb,iBAAaC,MACZ,kBAAc,kBAAa,8BAAyB,WAAOJ,OAC3D,IACF,QC3CL,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,UCGA,GADAxE,SAASxF,MAAQzC,EAASyC,MACN,KAAhBzC,EAASrL,GACT,KAAM,6FA2BV0B,uBAAsBG,UAClBqB,QAAQiV,IACJ,2DACA,iHACA,uBAEE,WACN,MAAM,UAAExX,EAAF,cAAamB,SAAwB,EAAQ,MAG7CsW,EAAOrR,OAAOqR,KAAM,IAAAC,WAAUC,IACpC3X,EAAUc,KAAK,WAAY2W,GAC3BA,EAAIG,MAAM,QAEVzW,OAGJiF,OAAOsE,SAAWA,G,iiBCrDlB,MAAMmN,EAAyB,GAEzBC,EAAY,KAEZC,EAAqBvX,KAAKwX,MAAM,MAEhCC,EAAkB,OAAH,iBAAG,EAAH,iBAAO,MAAJ,EAAI,KAAJ,GAElBC,EAAiB,IAEjBC,EAAiB,KAAC,IAAJ,qBAAI,IAAJ,wBAAI,IAAD,GAEjBC,EAAkB,EAElBC,GAAgB,EAChBC,GAA4B,EAE5BC,EAAa,WAKf,MAAMC,EAAuB,GAE7B,IAAK,IAAIC,EAAI,UAAH,IAAGN,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAoB,GAAjBA,EAAiB,EAAjB,GAAb,cAAiCM,GAAjC,OAAiCA,GAAAA,EAAjC,OAAAC,IAAA,OAAiCD,EAAjC,OAAAC,IAAA,OAAsCR,GAALO,GAAKP,EAAtC,iBAAsDO,GAAtD,OAAsDA,GAAtD,kBAAsDA,GAAAA,EAAtD,OAAAC,IAAA,sBAAsDD,EAAtD,OAAAC,IAAA,wBAAsDD,IAAtD,GACID,EAAW1U,KAAKlD,OAAO,UAAD,iBAAC,KAAD,iBAAQ6X,GAAP,KAAOA,EAAP,KAG3B,MAAME,EAAuB,IAC7B,OAAO,SAASC,GACZ,OAAOJ,EAAW,UAAD,IAACI,GAAD,OAACA,GAAAA,EAAA,OAAD,UAACA,EAAA,OAAD,UAASD,GAARC,EAAQD,EAAR,KAbP,GAmBbE,EAAmB,CAAC,EAAGrY,KAAKsY,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACpDC,EAAuB,CACzB,CAEI,EACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,mBACA,GAEJ,CAEI,EACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACAvY,KAAKsY,GAET,CAEI,EACA,mBACA,mBACA,iBACA,mBACA,mBACA,kBACA,mBACA,kBACA,mBACA,GAEJ,CAEI,EACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBACA,GAEJ,CAEI,EACA,mBACA,kBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,GAEJ,CAEI,EACA,kBACA,kBACA,mBACA,mBACA,iBACA,kBACA,mBACA,mBACA,mBACA,GAEJ,CAEI,EACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,mBACA,kBACA,kBACA,GAEJ,CAEI,EACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,GAEJ,CAEI,EACA,mBACA,kBACA,iBACA,kBACA,mBACA,mBACA,mBACA,kBACA,kBACA,GAEJ,CAEI,EACA,iBACA,mBACA,kBACA,kBACA,mBACA,kBACA,kBACA,mBACA,mBACA,KAGFE,EAAuB,CACzB,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,kBAPJ,OAAD,cAOK,kBAPJ,OAAD,iBAOK,kBAPL,QAQK,kBARJ,OAAD,cAQK,kBARJ,OAAD,iBAQK,kBARL,QASK,kBATJ,OAAD,cASK,kBATJ,OAAD,iBASK,kBATL,QAUK,iBAVJ,OAAD,cAUK,iBAVJ,OAAD,iBAUK,iBAVL,QAWK,mBAXJ,OAAD,cAWK,mBAXJ,OAAD,iBAWK,mBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,gBAHJ,OAAD,cAGK,gBAHJ,OAAD,iBAGK,gBAHL,QAIK,gBAJJ,OAAD,cAIK,gBAJJ,OAAD,iBAIK,gBAJL,QAKK,eALJ,OAAD,cAKK,eALJ,OAAD,iBAKK,eALL,QAMK,gBANJ,OAAD,cAMK,gBANJ,OAAD,iBAMK,gBANL,QAOK,gBAPJ,OAAD,cAOK,gBAPJ,OAAD,iBAOK,gBAPL,QAQK,gBARJ,OAAD,cAQK,gBARJ,OAAD,iBAQK,gBARL,QASK,gBATJ,OAAD,cASK,gBATJ,OAAD,iBASK,gBATL,QAUK,gBAVJ,OAAD,cAUK,gBAVJ,OAAD,iBAUK,gBAVL,QAWK,gBAXJ,OAAD,cAWK,gBAXJ,OAAD,iBAWK,gBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,iBAPJ,OAAD,cAOK,iBAPJ,OAAD,iBAOK,iBAPL,QAQK,kBARJ,OAAD,cAQK,kBARJ,OAAD,iBAQK,kBARL,QASK,mBATJ,OAAD,cASK,mBATJ,OAAD,iBASK,mBATL,QAUK,kBAVJ,OAAD,cAUK,kBAVJ,OAAD,iBAUK,kBAVL,QAWK,mBAXJ,OAAD,cAWK,mBAXJ,OAAD,iBAWK,mBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,iBAJJ,OAAD,cAIK,iBAJJ,OAAD,iBAIK,iBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,kBAPJ,OAAD,cAOK,kBAPJ,OAAD,iBAOK,kBAPL,QAQK,mBARJ,OAAD,cAQK,mBARJ,OAAD,iBAQK,mBARL,QASK,kBATJ,OAAD,cASK,kBATJ,OAAD,iBASK,kBATL,QAUK,kBAVJ,OAAD,cAUK,kBAVJ,OAAD,iBAUK,kBAVL,QAWK,kBAXJ,OAAD,cAWK,kBAXJ,OAAD,iBAWK,kBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,kBAPJ,OAAD,cAOK,kBAPJ,OAAD,iBAOK,kBAPL,QAQK,mBARJ,OAAD,cAQK,mBARJ,OAAD,iBAQK,mBARL,QASK,mBATJ,OAAD,cASK,mBATJ,OAAD,iBASK,mBATL,QAUK,mBAVJ,OAAD,cAUK,mBAVJ,OAAD,iBAUK,mBAVL,QAWK,mBAXJ,OAAD,cAWK,mBAXJ,OAAD,iBAWK,mBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,iBANJ,OAAD,cAMK,iBANJ,OAAD,iBAMK,iBANL,QAOK,kBAPJ,OAAD,cAOK,kBAPJ,OAAD,iBAOK,kBAPL,QAQK,kBARJ,OAAD,cAQK,kBARJ,OAAD,iBAQK,kBARL,QASK,mBATJ,OAAD,cASK,mBATJ,OAAD,iBASK,mBATL,QAUK,kBAVJ,OAAD,cAUK,kBAVJ,OAAD,iBAUK,kBAVL,QAWK,mBAXJ,OAAD,cAWK,mBAXJ,OAAD,iBAWK,mBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,mBAPJ,OAAD,cAOK,mBAPJ,OAAD,iBAOK,mBAPL,QAQK,mBARJ,OAAD,cAQK,mBARJ,OAAD,iBAQK,mBARL,QASK,kBATJ,OAAD,cASK,kBATJ,OAAD,iBASK,kBATL,QAUK,kBAVJ,OAAD,cAUK,kBAVJ,OAAD,iBAUK,kBAVL,QAWK,mBAXJ,OAAD,cAWK,mBAXJ,OAAD,iBAWK,mBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,mBAPJ,OAAD,cAOK,mBAPJ,OAAD,iBAOK,mBAPL,QAQK,mBARJ,OAAD,cAQK,mBARJ,OAAD,iBAQK,mBARL,QASK,mBATJ,OAAD,cASK,mBATJ,OAAD,iBASK,mBATL,QAUK,iBAVJ,OAAD,cAUK,iBAVJ,OAAD,iBAUK,iBAVL,QAWK,mBAXJ,OAAD,cAWK,mBAXJ,OAAD,iBAWK,mBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,kBAJJ,OAAD,cAIK,kBAJJ,OAAD,iBAIK,kBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,mBANJ,OAAD,cAMK,mBANJ,OAAD,iBAMK,mBANL,QAOK,iBAPJ,OAAD,cAOK,iBAPJ,OAAD,iBAOK,iBAPL,QAQK,kBARJ,OAAD,cAQK,kBARJ,OAAD,iBAQK,kBARL,QASK,mBATJ,OAAD,cASK,mBATJ,OAAD,iBASK,mBATL,QAUK,mBAVJ,OAAD,cAUK,mBAVJ,OAAD,iBAUK,mBAVL,QAWK,kBAXJ,OAAD,cAWK,kBAXJ,OAAD,iBAWK,kBAXL,GAYI,GAEJ,MAEK,EAFJ,OAAD,cAEK,EAFJ,OAAD,iBAEK,EAFL,QAGK,kBAHJ,OAAD,cAGK,kBAHJ,OAAD,iBAGK,kBAHL,QAIK,iBAJJ,OAAD,cAIK,iBAJJ,OAAD,iBAIK,iBAJL,QAKK,kBALJ,OAAD,cAKK,kBALJ,OAAD,iBAKK,kBALL,QAMK,kBANJ,OAAD,cAMK,kBANJ,OAAD,iBAMK,kBANL,QAOK,kBAPJ,OAAD,cAOK,kBAPJ,OAAD,iBAOK,kBAPL,QAQK,mBARJ,OAAD,cAQK,mBARJ,OAAD,iBAQK,mBARL,QASK,kBATJ,OAAD,cASK,kBATJ,OAAD,iBASK,kBATL,QAUK,mBAVJ,OAAD,cAUK,mBAVJ,OAAD,iBAUK,mBAVL,QAWK,oBAXJ,OAAD,cAWK,oBAXJ,OAAD,iBAWK,oBAXL,GAYI,IAIFC,EAAI,SAAWnZ,GACjB,OAAOoZ,EAAQC,kBAAkBrZ,IAG/BsZ,EAAK,SAASvT,EAAclD,EAAemD,GAC7C,OAAOoT,EAAQG,eAAexT,EAAMlD,EAAOmD,IAGzCwT,EAAQ,SAAezT,EAAclD,EAAemD,GACtD,OAAOoT,EAAQK,2BAA2B1T,EAAMlD,EAAOmD,IAWrD0T,EAAgB,SAAuB1Z,EAAe2Z,GACxD,MAAMC,EAAM,UAAH,IAAGD,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAY,GAATA,EAAS,EAAT,GACNE,EAAYnZ,KAAKoZ,KAAKpZ,KAAKwX,MAAMxX,KAAKqZ,IAAI/Z,KAC1Cga,EAAO,cACTtZ,KAAKqW,MAAM/W,EAAQU,KAAKuZ,IAAI,GAAIL,EAAMC,KAD7B,OACTnZ,KAAKqW,MAAM/W,EAAQU,KAAKuZ,IAAI,GAAIL,EAAMC,KAAtCnZ,KAAKqW,MAAM/W,EAAQU,KAAKuZ,IAAI,GAAIL,EAAMC,IAD7B,iBACTnZ,KAAKqW,MAAM/W,EAAQU,KAAKuZ,IAAI,GAAIL,EAAMC,IAD7B,iBAC2CnZ,KAAKuZ,IAAI,GAAIJ,EAAYD,IAA7ElZ,KAAKqW,MAAM/W,EAAQU,KAAKuZ,IAAI,GAAIL,EAAMC,IAAcnZ,KAAKuZ,IAAI,GAAIJ,EAAYD,GADpE,GAEb,OAAOM,WAAWF,EAAQG,QAAQzZ,KAAKC,IAAL,cAASiZ,GAAT,OAASA,GAAAA,EAAT,iBAASA,EAAT,iBAAeC,GAAND,EAAMC,EAAf,GAA0B,MAG1DO,EAAa,SAASzO,GACxB,oBAAOjL,KAAKqF,KAAK4F,IAAjB,OAAOjL,KAAKqF,KAAK4F,IAAVjL,KAAKqF,KAAK4F,GAAjB,iBAAOjL,KAAKqF,KAAK4F,GAAjB,iBAAsBjL,KAAKwX,MAAMxX,KAAKqZ,IAAIpO,KAAnCjL,KAAKqF,KAAK4F,GAAKjL,KAAKwX,MAAMxX,KAAKqZ,IAAIpO,IAA1C,IAIE0O,EAAU,SAAS1O,GACrB,iBAAK5K,SAAS4K,IAAd,OAAK5K,SAAS4K,IAAT5K,SAAS4K,GAAd,iBAAK5K,SAAS4K,GAAd,oBAAK5K,SAAS4K,GAAd,GACI,OAAOA,EAEX,iBAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,kBAAS,IAALA,GAAK,GAAT,GACI,OAAIA,IAAMjL,KAAK4Z,MAAM3O,GACV7K,OAAOyZ,kBAEX,EAGX,IAAIC,EAAQ,EACZ,oBAAO7O,GAAP,OAAOA,GAAAA,EAAP,iBAAOA,EAAP,iBAAW,IAAJA,EAAI,GAAX,GACI6O,EAAQ,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAW7O,GAAR6O,EAAQ7O,EAAR,GACR,eAAEA,GAAF,OAAEA,GAAF,kBAAEA,GAAAA,EAAF,gCAAEA,EAAF,oCAAEA,GAAF,GAGJA,EAAC,cAADA,GAAC,OAADA,GAAAA,EAAC,iBAADA,EAAC,iBAAI,GAALA,EAAK,EAAJ,GACD,IAAI8O,EAAI,kBACRA,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,kBAAQ9O,EAAI,IAAOjL,KAAKgX,IAAI/L,IAAzB8O,GAAK9O,EAAI,IAAOjL,KAAKgX,IAAI/L,GAAzB,GACJ8O,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO9O,GAAJ8O,EAAI9O,EAAJ,GACJ,MAAM+O,EAAK,UAAH,IAAG/O,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOA,GAAJA,EAAIA,EAAJ,GACX,IAAIgP,EAAKhP,EAiBT,OAhBA8O,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,GAAK,GAAKE,IAAdF,EAAI,GAAK,GAAKE,GAAd,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,GAAK,IAAME,IAAfF,EAAI,GAAK,IAAME,GAAf,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,GAAK,KAAOE,IAAhBF,EAAI,GAAK,KAAOE,GAAhB,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,GAAK,KAAOE,IAAhBF,EAAI,GAAK,KAAOE,GAAhB,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,GAAK,KAAOE,IAAhBF,EAAI,GAAK,KAAOE,GAAhB,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,KAAO,OAASE,IAApBF,EAAI,KAAO,OAASE,GAApB,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,GAAK,KAAOE,IAAhBF,EAAI,GAAK,KAAOE,GAAhB,GACJA,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLD,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAO,MAAQ,OAASE,IAArBF,EAAI,MAAQ,OAASE,GAArB,GAEJ,cAAOja,KAAKka,IAAIH,IAAhB,OAAO/Z,KAAKka,IAAIH,IAAT/Z,KAAKka,IAAIH,GAAhB,iBAAO/Z,KAAKka,IAAIH,GAAhB,iBAAqBD,GAAd9Z,KAAKka,IAAIH,GAAKD,EAArB,IAKEK,EAAQ,kBAGRC,EAAa,SAASC,EAAWC,EAAM,OACzC,IAAIC,EACAC,EAEJ,iBAAKpa,OAAOC,SAASga,IAArB,OAAKja,OAAOC,SAASga,IAAhBja,OAAOC,SAASga,GAArB,iBAAKja,OAAOC,SAASga,GAArB,oBAAKja,OAAOC,SAASga,GAArB,GACI,OAAOA,EAEX,GAAU,IAANA,EACA,OAAOA,EAEX,GAAU,IAANA,EACA,OAAOF,EAIPI,EADJ,cAAIF,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAQ,IAAJA,EAAI,GAAR,GACQ,EAEA,UAAH,IAAGra,KAAKgX,IAAIqD,IAAZ,OAAGra,KAAKgX,IAAIqD,IAATra,KAAKgX,IAAIqD,GAAZ,iBAAGra,KAAKgX,IAAIqD,GAAZ,iBAAiBra,KAAKgX,IAAIhX,KAAKgX,IAAIqD,KAAhCra,KAAKgX,IAAIqD,GAAKra,KAAKgX,IAAIhX,KAAKgX,IAAIqD,IAAhC,GAGR,IAAK,IAAIpC,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoB,KAAJD,EAAI,IAApB,iBAA2BA,GAA3B,OAA2BA,GAA3B,kBAA2BA,GAAAA,EAA3B,OAAAC,IAAA,qBAA2BD,EAA3B,OAAAC,IAAA,yBAA2BD,EAA3B,GAA8B,CAE1B,GADAuC,EAAK,KAACH,EAAIra,KAAKka,KAAKK,GAAKA,EAAIA,SAA3B,GAAIF,EAAIra,KAAKka,KAAKK,GAAKA,EAAIA,IAA3B,OAAIF,EAAIra,KAAKka,KAAKK,GAAKA,EAAIA,GAA3B,kBAAIF,EAAIra,KAAKka,KAAKK,GAAKA,EAAIA,GAA3B,iBAAiCA,EAAI,IAAjCF,EAAIra,KAAKka,KAAKK,GAAKA,EAAIA,IAAMA,EAAI,GAAlC,GACL,cAAIva,KAAKqZ,IAAImB,EAAKD,IAAlB,OAAIva,KAAKqZ,IAAImB,EAAKD,IAAdva,KAAKqZ,IAAImB,EAAKD,GAAlB,iBAAIva,KAAKqZ,IAAImB,EAAKD,GAAlB,iBAAuBD,EAAMta,KAAKqZ,IAAImB,IAAlCxa,KAAKqZ,IAAImB,EAAKD,GAAKD,EAAMta,KAAKqZ,IAAImB,GAAtC,GACI,OAAOA,EAEPD,EAAIC,EAIZ,MAAMtZ,MAAM,iCAAiCmZ,EAAEI,eAQnD,SAASC,EAAWL,EAAYC,EAAM,OAClC,IAAIC,EACAI,EAASC,EAAMJ,EAEnB,iBAAKpa,OAAOC,SAASga,EAAE/U,MAAvB,OAAKlF,OAAOC,SAASga,EAAE/U,MAAlBlF,OAAOC,SAASga,EAAE/U,KAAvB,iBAAKlF,OAAOC,SAASga,EAAE/U,KAAvB,oBAAKlF,OAAOC,SAASga,EAAE/U,KAAvB,GACI,OAAO+U,EAEX,GAAIA,IAAM3B,EAAQmC,MACd,OAAOR,EAEX,GAAIA,IAAM3B,EAAQoC,KAEd,OAAOrC,EAAE0B,GAGAzB,EAAQW,IAAIgB,GAEzBE,EAAI7B,EAAQqC,GAAGV,GAIf,IAAK,IAAIpC,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoB,KAAJD,EAAI,IAApB,iBAA2BA,GAA3B,OAA2BA,GAA3B,kBAA2BA,GAAAA,EAA3B,OAAAC,IAAA,qBAA2BD,EAA3B,OAAAC,IAAA,yBAA2BD,EAA3B,GAA8B,CAa1B,GAZA0C,EAAKjC,EAAQwB,IAAR,cAAaK,GAAb,OAAaA,GAAAA,EAAb,qBAAaA,EAAb,wBAAaA,EAAb,IACLK,EAAOL,EAAES,IAAIX,EAAEY,IAAIN,IACnBH,EAAKD,EAAES,IACHJ,EAAKM,IACDX,EAAErY,IAAI,GAAG8Y,IACLT,EACKrY,IAAI,GACJ+Y,IAAIL,GACJM,IAAIxC,EAAQuC,IAAI,EAAGV,GAAGrY,IAAI,OAIvCwW,EAAQW,IAAImB,EAAGQ,IAAIT,IAAIY,GAAGzC,EAAQW,IAAImB,GAAIS,IAAIX,IAC9C,OAAOE,EAEPD,EAAIC,EAIZ,MAAMtZ,MAAM,iCAAiCmZ,EAAEI,c,EAqsBvC9b,OAAOuZ,IAAI,K,EAIXvZ,OAAOuZ,IAAI,K,EAIXvZ,OAAOuZ,IAAI,K,EAIXvZ,OAAOuZ,IAAI,K,EAIXvZ,OAAOuZ,IAAI,S,EAIXvZ,OAAOuZ,IAAI,M,EAIXvZ,OAAOuZ,IAAI,K,EAIXvZ,OAAOuZ,IAAI,K,EAIXvZ,OAAOuZ,IAAI,M,EAIXvZ,OAAOuZ,IAAI,M,EAIXvZ,OAAOuZ,IAAI,MApuBT,MAAOQ,EAgBjB0C,YAAY9b,IAAqB,mBAJXc,OAAO4V,MAII,kBAHZ5V,OAAO4V,MAGK,oBAFV5V,OAAO4V,KAGtB1W,aAAiBoZ,GAAY,UAAK,IAALpZ,GAAK,OAALA,GAAAA,EAAK,kBAALA,EAAK,kBAAI,YAATA,EAAA,IAAkC,kBAAVA,GAAxB,KAA8C,OAA9C,kBAA8C,OAA9C,kBAAwDA,GAAV,SAAUA,EAAxD,SAAiE,MAAjE,kBAAiE,MAAjE,kBAA0EA,GAAT,QAASA,EAA1E,SAAmF,QAAnF,kBAAmF,QAAnF,kBAA8FA,GAAX,UAAWA,EAA9F,GAC7B+b,KAAKC,YAAYhc,GACO,kBAAVA,EACd+b,KAAKE,WAAWjc,GACQ,kBAAVA,EACd+b,KAAKG,WAAWlc,IAEhB+b,KAAKhW,KAAO,EACZgW,KAAKlZ,MAAQ,EACbkZ,KAAK/V,IAAM,GAIfmW,QACA,GAAkB,IAAdJ,KAAKhW,KACL,OAAO,EACJ,GAAmB,IAAfgW,KAAKlZ,MAAa,CACzB,MAAM+X,EAAMla,KAAK0b,MAAM1b,KAAKwX,MAAM6D,KAAK/V,MAEvC,IAAIqW,EAMJ,OAJIA,EADa,SAAbN,KAAK/V,IACC,EAEA,UAAH,IAAG+V,KAAK/V,KAAR,OAAG+V,KAAK/V,KAAL+V,KAAK/V,IAAR,iBAAG+V,KAAK/V,IAAR,iBAAcyS,EAAUmC,IAArBmB,KAAK/V,IAAMyS,EAAUmC,GAArB,GAEV,cAAOmB,KAAKhW,MAAZ,OAAOgW,KAAKhW,MAALgW,KAAKhW,KAAZ,iBAAOgW,KAAKhW,KAAZ,iBAAmBsW,GAAZN,KAAKhW,KAAOsW,EAAnB,GACG,GAAmB,IAAfN,KAAKlZ,MAAa,CACzB,MAAMyZ,EAAU,UAAH,IAAGP,KAAK/V,KAAR,OAAG+V,KAAK/V,KAAL+V,KAAK/V,IAAR,iBAAG+V,KAAK/V,IAAR,iBAActF,KAAK0b,MAAML,KAAK/V,MAA3B+V,KAAK/V,IAAMtF,KAAK0b,MAAML,KAAK/V,KAA3B,GAChB,oBAAO+V,KAAKhW,MAAZ,OAAOgW,KAAKhW,MAALgW,KAAKhW,KAAZ,iBAAOgW,KAAKhW,KAAZ,iBAAmBrF,KAAKuZ,IAAI,GAAIqC,IAAzBP,KAAKhW,KAAOrF,KAAKuZ,IAAI,GAAIqC,GAAhC,GAGA,OAAOP,KAAKhW,KAIhBoW,MAAEnc,GACF,cAAI+b,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,kBAAIkZ,KAAKlZ,MAAT,kBAAkB,GAAdkZ,KAAKlZ,OAAS,EAAlB,GACIkZ,KAAKQ,qBAAqBvc,EAAO+b,KAAK3J,IAGtC2J,KAAKhW,KAAOrF,KAAKqF,KAAK/F,GACJ,IAAd+b,KAAKhW,OACLgW,KAAKlZ,MACLkZ,KAAKS,WAKbpK,QACA,OAAkB,IAAd2J,KAAKhW,KACE,EACe,IAAfgW,KAAKlZ,MACLnC,KAAK0b,MAAM1b,KAAKwX,MAAM6D,KAAK/V,MACZ,IAAf+V,KAAKlZ,MACLnC,KAAK0b,MAAML,KAAK/V,KACD,IAAf+V,KAAKlZ,MACLnC,KAAK0b,MAAL,cAAW1b,KAAKqF,KAAKgW,KAAK/V,MAA1B,OAAWtF,KAAKqF,KAAKgW,KAAK/V,MAAftF,KAAKqF,KAAKgW,KAAK/V,KAA1B,iBAAWtF,KAAKqF,KAAKgW,KAAK/V,KAA1B,iBAAiCtF,KAAKuZ,IAAI,GAAIvZ,KAAKqZ,IAAIgC,KAAK/V,OAAjDtF,KAAKqF,KAAKgW,KAAK/V,KAAOtF,KAAKuZ,IAAI,GAAIvZ,KAAKqZ,IAAIgC,KAAK/V,MAA5D,IAEP,cAAO+V,KAAK/V,KAAZ,OAAO+V,KAAK/V,KAAL+V,KAAK/V,IAAZ,iBAAO+V,KAAK/V,IAAZ,iBAAkBlF,OAAO2b,mBAAlBV,KAAK/V,IAAMlF,OAAO2b,kBAAzB,GAGJrK,MAAEpS,GACF+b,KAAKQ,qBAAqBR,KAAKI,EAAGnc,GAGlC0c,QACA,OAAOX,KAAKhW,KAEZ2W,MAAE1c,GACY,IAAVA,GACA+b,KAAKhW,KAAO,EACZgW,KAAKlZ,MAAQ,EACbkZ,KAAK/V,IAAM,GAEX+V,KAAKhW,KAAO/F,EAKhB2c,eACA,OAAOZ,KAAKI,EAGZQ,aAAS3c,GACT+b,KAAKI,EAAInc,EAGTwc,eACA,OAAOT,KAAK3J,EAEZoK,aAASxc,GACT+b,KAAK3J,EAAIpS,EAGe,sBAAC+F,EAAclD,EAAemD,GACtD,OAAO,IAAIoT,GAAUG,eAAexT,EAAMlD,EAAOmD,GAGb,kCAACD,EAAclD,EAAemD,GAClE,OAAO,IAAIoT,GAAUK,2BAA2B1T,EAAMlD,EAAOmD,GAG/B,4BAAC2W,EAAkBH,GACjD,OAAO,IAAIpD,GAAUmD,qBAAqBI,EAAUH,GAGV,wCAACG,EAAkBH,GAC7D,OAAO,IAAIpD,GAAUwD,iCAAiCD,EAAUH,GAG3C,mBAACxc,GACtB,OAAO,IAAIoZ,GAAU4C,YAAYhc,GAGb,kBAACA,GACrB,OAAO,IAAIoZ,GAAU6C,WAAWjc,GAGZ,kBAACA,GACrB,OAAO,IAAIoZ,GAAU8C,WAAWlc,GAGb,iBAACA,GACpB,OAAO,IAAIoZ,GAAUyD,UAAU7c,GAGJ,yBAACA,GAC5B,OAAOA,aAAiBoZ,EAAUpZ,EAAQ,IAAIoZ,EAAQpZ,GAGzC,WAACA,GACd,OAAOmZ,EAAEnZ,GAAO+Z,MAGH,WAAC/Z,GACd,OAAOmZ,EAAEnZ,GAAO8c,MAGA,cAAC9c,GACjB,OAAOmZ,EAAEnZ,GAAO8c,MAGC,eAAC9c,GAClB,OAAOmZ,EAAEnZ,GAAO8c,MAGF,YAAC9c,GACf,OAAOmZ,EAAEnZ,GAAO+F,KAGH,WAAC/F,GACd,OAAOmZ,EAAEnZ,GAAO+F,KAGD,aAAC/F,GAChB,OAAOmZ,EAAEnZ,GAAO+W,QAGD,aAAC/W,GAChB,OAAOmZ,EAAEnZ,GAAOoc,QAGF,YAACpc,GACf,OAAOmZ,EAAEnZ,GAAO8Z,OAGD,aAAC9Z,GAChB,OAAOmZ,EAAEnZ,GAAOsa,QAGH,WAACta,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAO4C,IAAIma,GAGN,YAAC/c,EAAsB+c,GACrC,OAAO5D,EAAEnZ,GAAO4C,IAAIma,GAGP,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAO0b,IAAIqB,GAGF,gBAAC/c,EAAsB+c,GACzC,OAAO5D,EAAEnZ,GAAO0b,IAAIqB,GAGL,aAAC/c,EAAsB+c,GACtC,OAAO5D,EAAEnZ,GAAO0b,IAAIqB,GAGP,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAO2b,IAAIoB,GAGF,gBAAC/c,EAAsB+c,GACzC,OAAO5D,EAAEnZ,GAAO2b,IAAIoB,GAGL,aAAC/c,EAAsB+c,GACtC,OAAO5D,EAAEnZ,GAAO2b,IAAIoB,GAGP,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAO4b,IAAImB,GAGJ,cAAC/c,EAAsB+c,GACvC,OAAO5D,EAAEnZ,GAAO4b,IAAImB,GAGL,aAAC/c,GAChB,OAAOmZ,EAAEnZ,GAAOgd,QAGI,kBAAChd,GACrB,OAAOmZ,EAAEnZ,GAAOgd,QAGK,mBAAChd,GACtB,OAAOmZ,EAAEnZ,GAAOid,cAGH,WAACjd,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAOkd,IAAIH,GAGJ,cAAC/c,EAAsB+c,GACvC,OAAO5D,EAAEnZ,GAAOmd,OAAOJ,GAGN,eAAC/c,EAAsB+c,GACxC,OAAO5D,EAAEnZ,GAAOkd,IAAIH,GAGL,aAAC/c,GAEhB,OADAA,EAAQmZ,EAAEnZ,GACH8F,MAAM9F,EAAM+F,OAASD,MAAM9F,EAAM6C,QAAUiD,MAAM9F,EAAMgG,KAG5C,gBAAChG,GAEnB,OADAA,EAAQmZ,EAAEnZ,GACHe,SAASf,EAAM+F,OAAShF,SAASf,EAAM6C,QAAU9B,SAASf,EAAMgG,KAG3D,UAAChG,EAAsB+c,GACnC,OAAO5D,EAAEnZ,GAAOod,GAAGL,GAGH,cAAC/c,EAAsB+c,GACvC,OAAO5D,EAAEnZ,GAAOod,GAAGL,GAGN,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAO2W,IAAIoG,GAGD,iBAAC/c,EAAsB+c,GAC1C,OAAO5D,EAAEnZ,GAAOqd,UAAUN,GAGd,UAAC/c,EAAsB+c,GACnC,OAAO5D,EAAEnZ,GAAO6b,GAAGkB,GAGN,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAOsd,IAAIP,GAGR,UAAC/c,EAAsB+c,GACnC,OAAO5D,EAAEnZ,GAAOmX,GAAG4F,GAGN,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAOud,IAAIR,GAGP,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAOW,IAAIoc,GAGP,WAAC/c,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAOa,IAAIkc,GAGJ,cAAC/c,EAAsB+c,GACvC,OAAO5D,EAAEnZ,GAAOwd,OAAOT,GAGP,cAAC/c,EAAsB+c,GACvC,OAAO5D,EAAEnZ,GAAOyd,OAAOV,GAGR,aAAC/c,EAAsBa,EAAoBF,GAC1D,OAAOwY,EAAEnZ,GAAO0d,MAAM7c,EAAKF,GAGT,gBAACX,EAAsBa,GACzC,OAAOsY,EAAEnZ,GAAO2d,SAAS9c,GAGP,gBAACb,EAAsBW,GACzC,OAAOwY,EAAEnZ,GAAO4d,SAASjd,GAGF,qBACvBX,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAO8d,cAAcf,EAAOc,GAGV,yBAC3B7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAO8d,cAAcf,EAAOc,GAGf,oBACtB7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAO+d,aAAahB,EAAOc,GAGV,wBAC1B7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAO+d,aAAahB,EAAOc,GAGb,qBACvB7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAOge,cAAcjB,EAAOc,GAGR,2BAC7B7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAOie,oBAAoBlB,EAAOc,GAGrB,oBACtB7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAOke,aAAanB,EAAOc,GAGb,qBACvB7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAOme,cAAcpB,EAAOc,GAGf,oBACtB7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAOoe,aAAarB,EAAOc,GAGb,qBACvB7d,EACA+c,EACAc,GAEA,OAAO1E,EAAEnZ,GAAOqe,cAActB,EAAOc,GAGrB,cAAC7d,GACjB,OAAOmZ,EAAEnZ,GAAOse,SAGE,gBAACte,GACnB,OAAOmZ,EAAEnZ,GAAOue,WAGD,aAACve,GAChB,OAAOmZ,EAAEnZ,GAAOkY,QAGH,WAAClY,EAAsBwe,GACpC,OAAOrF,EAAEnZ,GAAO0X,IAAI8G,GAGN,YAACxe,GACf,OAAOmZ,EAAEnZ,GAAOye,OAGJ,UAACze,GACb,OAAOmZ,EAAEnZ,GAAOyb,KAGG,iBAACzb,EAAsBwe,GAC1C,OAAOrF,EAAEnZ,GAAO0e,UAAUF,GAGb,WAACxe,EAAsB+c,GACpC,OAAO5D,EAAEnZ,GAAOia,IAAI8C,GAGL,aAAC/c,GAChB,OAAOmZ,EAAEnZ,GAAO2e,QAGF,YAAC3e,EAAsB+c,GACrC,OAAO5D,EAAEnZ,GAAO4e,KAAK7B,GAGF,iBAAC/c,EAAsB6e,GAC1C,OAAO1F,EAAEnZ,GAAO8e,YAGD,aAAC9e,EAAsB6e,GACtC,OAAO1F,EAAEnZ,GAAO+e,QAGC,eAAC/e,EAAsB6e,GACxC,OAAO1F,EAAEnZ,GAAOgf,UAGH,WAAChf,GACd,OAAOmZ,EAAEnZ,GAAO4a,MAGH,WAAC5a,GACd,OAAOmZ,EAAEnZ,GAAOif,MAGF,YAACjf,GACf,OAAOmZ,EAAEnZ,GAAOkf,OAGF,YAAClf,GACf,OAAOmZ,EAAEnZ,GAAOmf,OAGF,YAACnf,GACf,OAAOmZ,EAAEnZ,GAAOof,OAGC,eACjBpf,EACAqf,EAAS,EACTC,EAAyB9F,EAAM,EAAG,EAAG,IAErC,OAAOL,EAAEnZ,GAAOuf,QAAQF,EAAQC,GAGX,mBAACtf,EAAsBqf,EAAS,EAAGC,EAAU9F,EAAM,EAAG,EAAG,IAC9E,OAAOL,EAAEnZ,GAAOwf,YAAYH,EAAQC,GAGf,mBAACtf,EAAsBwe,EAAsB,GAAIiB,EAAQ,GAC9E,OAAOtG,EAAEnZ,GAAO0f,YAAYlB,EAAMiB,GAGd,kBAACzf,EAAsBQ,GAC3C,OAAO2Y,EAAEnZ,GAAO2f,WAAWnf,GAGT,gBAACR,EAAsBQ,EAAcge,EAAO,IAC9D,OAAOrF,EAAEnZ,GAAO4f,SAASpf,EAAMge,GAGjB,YAACxe,EAAsBwe,EAAO,IAC5C,OAAOrF,EAAEnZ,GAAO6f,KAAKrB,GAGH,gBAACxe,GACnB,OAAOmZ,EAAEnZ,GAAO8f,WAGD,aAAC9f,GAChB,OAAOmZ,EAAEnZ,GAAO+f,QAGC,eACjB/f,EACAqf,EAAS,EACTC,EAAyB9F,EAAM,EAAG,EAAG,IAErC,OAAOL,EAAEnZ,GAAOggB,QAAQX,EAAQC,GAUD,6BAC/BW,EACAC,EACAC,EACAC,GAEA,OAAOrE,KAAKsE,2BACRlH,EAAE8G,GACF9G,EAAE+G,GACF/G,EAAEgH,GACFC,GAQwB,0BAC5BE,EACAJ,EACAC,EACAC,GAEA,OAAOrE,KAAKwE,wBAAwBD,EAAUnH,EAAE+G,GAAa/G,EAAEgH,GAAaC,GAQ5C,8BAChCH,EACAC,EACAM,EACAJ,GAEA,OAAOrE,KAAK0E,4BACRtH,EAAE8G,GACF9G,EAAE+G,GACF/G,EAAEqH,GACFrH,EAAEiH,IASuB,2BAC7BE,EACAJ,EACAM,EACAJ,GAEA,OAAOrE,KAAK2E,yBACRvH,EAAEmH,GACFnH,EAAE+G,GACF/G,EAAEqH,GACFrH,EAAEiH,IAUwB,4BAC9BO,EACAC,EACAC,GAEA,OAAO9E,KAAK+E,0BAA0B3H,EAAEwH,GAAOxH,EAAEyH,GAAazH,EAAE0H,IAG/B,+BAACE,GAGlC,QAAoB,GAAhBrgB,KAAKsgB,gBAAT,GAAoB,GAAhBtgB,KAAKsgB,WAAT,OAAoB,GAAhBtgB,KAAKsgB,UAAT,kBAAoB,GAAhBtgB,KAAKsgB,UAAT,iBAAyB,GAAL,GAAhBtgB,KAAKsgB,SAAgB,EAAzB,GACI,OAAOxH,EAAM,EAAG,EAAG,GAGvB,MAAMyH,EAAa,cAAAvgB,KAAKsgB,UAAL,OAAAtgB,KAAKsgB,UAALtgB,KAAKsgB,SAAL,iBAAAtgB,KAAKsgB,SAAL,iBAAgB,IAAhBtgB,KAAKsgB,SAAW,GAAhB,GAAsB,EAAtB,KAA2B,EAA3B,qBAA2B,EAA3B,wBAA2B,EAA3B,GAGnB,QAAoB,GAAhBtgB,KAAKsgB,gBAAT,GAAoB,GAAhBtgB,KAAKsgB,WAAT,OAAoB,GAAhBtgB,KAAKsgB,UAAT,kBAAoB,GAAhBtgB,KAAKsgB,UAAT,iBAAyB,GAAL,GAAhBtgB,KAAKsgB,SAAgB,EAAzB,GACI,OAAOxH,EAAMyH,EAAY,EAAG,GAIhC,MAAMpe,EAAQnC,KAAK0b,MAAL,cAAW1b,KAAKsgB,UAAhB,OAAWtgB,KAAKsgB,UAALtgB,KAAKsgB,SAAhB,iBAAWtgB,KAAKsgB,SAAhB,iBAA4BD,EAAY,GAA7BrgB,KAAKsgB,UAAYD,EAAY,GAAxC,IAEd,IAAIG,EAAsB,IAAVre,EAAA,KAA8B,IAAhBnC,KAAKsgB,gBAAnB,GAA8B,IAAhBtgB,KAAKsgB,WAAnB,OAA8B,IAAhBtgB,KAAKsgB,UAAnB,kBAA8B,IAAhBtgB,KAAKsgB,UAAnB,iBAAoC,KAAN,IAAhBtgB,KAAKsgB,SAAiB,IAApC,iBAA0CtgB,KAAKsgB,UAA/C,OAA0CtgB,KAAKsgB,UAALtgB,KAAKsgB,SAA/C,iBAA0CtgB,KAAKsgB,SAA/C,iBAA0D,OAAhBtgB,KAAKsgB,SAA/C,GAEhB,cAAItgB,KAAKsgB,UAAT,OAAItgB,KAAKsgB,UAALtgB,KAAKsgB,SAAT,iBAAItgB,KAAKsgB,SAAT,iBAAoB,IAAhBtgB,KAAKsgB,SAAW,GAApB,KACIE,EAAYxgB,KAAK4Z,MAAM4G,IAE3B,IAAIC,EAAYzgB,KAAKuZ,IAAI,GAAIiH,GAK7B,MAHA,cAAIxgB,KAAKsgB,UAAT,OAAItgB,KAAKsgB,UAALtgB,KAAKsgB,SAAT,iBAAItgB,KAAKsgB,SAAT,iBAAoB,IAAhBtgB,KAAKsgB,SAAW,GAApB,KACIG,EAAYzgB,KAAK4Z,MAAM6G,IAEpB7H,EAAG2H,EAAYpe,EAAOse,GAGO,kCACpClB,EACAC,EACAC,EACAC,GAEA,MAAMgB,EAAclB,EAAWvE,IAAIwE,EAAWlG,IAAImG,IAClD,OAAOhH,EAAQgD,MACX6D,EACKrE,IAAIwF,GACJzF,IAAIwE,EAAWzE,IAAI,IACnB9Y,IAAI,GACJsV,QACA0D,IAAIuE,EAAWjI,UAIS,+BACjCoI,EACAJ,EACAC,EACAC,GAEA,OAAOF,EACFvE,IAAIwE,EAAWlG,IAAImG,IACnBzE,IAAIvC,EAAQsC,IAAI,EAAGyE,EAAWlG,IAAIqG,KAClC1E,IAAIxC,EAAQsC,IAAI,EAAGyE,IAGa,mCACrCF,EACAC,EACAM,EACAJ,GAKA,MAAMgB,EAAclB,EAAWtd,IAAIwd,EAAazE,IAAI6E,IAC9Ca,EAAID,EAAY1F,IAAI8E,EAAS5E,IAAI,IACjC0F,EAAKD,EAAEpH,IAAI,GACjB,OAAOoH,EACFvE,MACAla,IAAI0e,EAAG1e,IAAI4d,EAAS7E,IAAIsE,GAAoBtE,IAAI,IAAIuD,QACpDtD,IAAI4E,GACJpE,QAG6B,gCAClCkE,EACAJ,EACAM,EACAJ,GAEA,MAAMgB,EAAclB,EAAWtd,IAAIwd,EAAazE,IAAI6E,IAEpD,OAAOF,EAAS1E,IAAI,GAAGD,IAAIyF,EAAYzF,IAAI,GAAG4F,KAAKjB,EAAS5E,IAAI,GAAGC,IAAI6E,KAGpC,iCACnCG,EACAC,EACAC,GAEA,OAAOF,EAAK/E,IAAIgF,GAAYhe,IAAI+d,EAAK/E,IAAIiF,IAGtC,IAAkB9D,GACrB,OAAOhB,KAAKnZ,IAAIma,GAGb,IAAkBA,GACrB,OAAOhB,KAAKL,IAAIqB,GAGb,IAAkBA,GACrB,OAAOhB,KAAK0D,MAAM1C,GAGf,IAAkBA,GACrB,OAAOhB,KAAKH,IAAImB,GAGb,MACH,OAAOhB,KAAKe,MAGT,IAAmBC,GACtB,OAAOhB,KAAKqB,GAAGL,GAGZ,IAAkBA,GACrB,OAAOhB,KAAK5E,GAAG4F,GAGZ,IAAkBA,GACrB,OAAOhB,KAAKF,GAAGkB,GAGZ,IAAmBA,GACtB,OAAOhB,KAAKwB,IAAIR,GAGb,IAAmBA,GACtB,OAAOhB,KAAKuB,IAAIP,GAGb,IAAmBA,GACtB,OAAOhB,KAAKpF,IAAIoG,GAGbyE,YAeH,GAAkB,IAAdzF,KAAKhW,MAA4B,IAAbgW,KAAK/V,KAA4B,IAAf+V,KAAKlZ,MAI3C,OAHAkZ,KAAKhW,KAAO,EACZgW,KAAK/V,IAAM,EACX+V,KAAKlZ,MAAQ,EACNkZ,KAUX,GAPmB,IAAfA,KAAKlZ,OAAL,cAAoBkZ,KAAK/V,KAAzB,OAAoB+V,KAAK/V,KAAL+V,KAAK/V,IAAzB,iBAAoB+V,KAAK/V,IAAzB,iBAA+B,GAAX+V,KAAK/V,IAAM,EAA/B,KAEA+V,KAAK/V,IAAL,cAAY+V,KAAK/V,KAAjB,OAAY+V,KAAK/V,KAAL+V,KAAK/V,IAAjB,qBAAY+V,KAAK/V,IAAjB,wBAAY+V,KAAK/V,IAAjB,GACA+V,KAAKhW,KAAL,cAAagW,KAAKhW,MAAlB,OAAagW,KAAKhW,MAALgW,KAAKhW,KAAlB,qBAAagW,KAAKhW,KAAlB,wBAAagW,KAAKhW,KAAlB,IAIe,IAAfgW,KAAKlZ,OAAL,cAAoBkZ,KAAK/V,KAAzB,OAAoB+V,KAAK/V,KAAL+V,KAAK/V,IAAzB,iBAAoB+V,KAAK/V,IAAzB,iBAA+BmS,GAAX4D,KAAK/V,IAAMmS,EAA/B,GAGA,OAFA4D,KAAKlZ,MAAL,cAAAkZ,KAAKlZ,OAAL,OAAAkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAL,iBAAAkZ,KAAKlZ,MAAL,iBAAc,GAAdkZ,KAAKlZ,MAAS,EAAd,GACAkZ,KAAK/V,IAAMtF,KAAKwX,MAAM6D,KAAK/V,KACpB+V,KAGX,IAAI0F,EAAS/gB,KAAKqZ,IAAIgC,KAAK/V,KACvB0b,EAAUhhB,KAAKqF,KAAKgW,KAAK/V,KAE7B,iBAAIyb,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAczJ,GAAVyJ,GAAUzJ,EAAd,GAGI,OAFA+D,KAAKlZ,MAAL,cAAAkZ,KAAKlZ,OAAL,OAAAkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAL,iBAAAkZ,KAAKlZ,MAAL,iBAAc,GAAdkZ,KAAKlZ,MAAS,EAAd,GACAkZ,KAAK/V,IAAL,cAAW0b,GAAX,OAAWA,GAAAA,EAAX,iBAAWA,EAAX,iBAAqBhhB,KAAKwX,MAAMuJ,IAArBC,EAAUhhB,KAAKwX,MAAMuJ,GAAhC,GACO1F,KAEP,MAAO,UAAM,IAAN0F,GAAM,OAANA,GAAAA,EAAM,iBAANA,EAAM,iBAAGxJ,GAATwJ,EAASxJ,EAAT,kBAAuB8D,KAAKlZ,OAA5B,OAAuBkZ,KAAKlZ,OAALkZ,KAAKlZ,MAA5B,iBAAuBkZ,KAAKlZ,MAA5B,iBAAoC,GAAbkZ,KAAKlZ,MAAQ,EAApC,GACHkZ,KAAKlZ,MAAL,cAAAkZ,KAAKlZ,OAAL,OAAAkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAL,iBAAAkZ,KAAKlZ,MAAL,iBAAc,GAAdkZ,KAAKlZ,MAAS,EAAd,GACmB,IAAfkZ,KAAKlZ,MACLkZ,KAAK/V,IAAMtF,KAAKuZ,IAAI,GAAI8B,KAAK/V,MAE7B+V,KAAK/V,IAAL,cAAW0b,GAAX,OAAWA,GAAAA,EAAX,iBAAWA,EAAX,iBAAqBhhB,KAAKuZ,IAAI,GAAIwH,IAAvBC,EAAUhhB,KAAKuZ,IAAI,GAAIwH,GAAlC,GACAA,EAAS/gB,KAAKqZ,IAAIgC,KAAK/V,KACvB0b,EAAUhhB,KAAKqF,KAAKgW,KAAK/V,MAerC,OAZuB,IAAf+V,KAAKlZ,QACL,cAAIkZ,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,IAEI+V,KAAK/V,IAAL,cAAY+V,KAAK/V,KAAjB,OAAY+V,KAAK/V,KAAL+V,KAAK/V,IAAjB,qBAAY+V,KAAK/V,IAAjB,wBAAY+V,KAAK/V,IAAjB,GACA+V,KAAKhW,KAAL,cAAagW,KAAKhW,MAAlB,OAAagW,KAAKhW,MAALgW,KAAKhW,KAAlB,qBAAagW,KAAKhW,KAAlB,wBAAagW,KAAKhW,KAAlB,IACoB,IAAbgW,KAAK/V,MAEZ+V,KAAKhW,KAAO,IAKjBgW,KAGJxC,eAAexT,EAAclD,EAAemD,GAM/C,OALA+V,KAAKhW,KAAOA,EACZgW,KAAKlZ,MAAQA,EACbkZ,KAAK/V,IAAMA,EAEX+V,KAAKyF,YACEzF,KAGJtC,2BAA2B1T,EAAclD,EAAemD,GAI3D,OAHA+V,KAAKhW,KAAOA,EACZgW,KAAKlZ,MAAQA,EACbkZ,KAAK/V,IAAMA,EACJ+V,KAGJQ,qBAAqBI,EAAkBH,GAO1C,OANAT,KAAKlZ,MAAQ,EACbkZ,KAAKhW,KAAOrF,KAAKqF,KAAK4W,GACtBA,EAAWjc,KAAKqZ,IAAI4C,GACpBZ,KAAK/V,IAAL,cAAWwW,GAAX,OAAWA,GAAAA,EAAX,iBAAWA,EAAX,iBAAsB9b,KAAKwX,MAAMyE,IAAtBH,EAAW9b,KAAKwX,MAAMyE,GAAjC,GAEAZ,KAAKyF,YACEzF,KAGJa,iCAAiCD,EAAkBH,GAGtD,OADAT,KAAKQ,qBAAqBI,EAAUH,GAC7BT,KAGJC,YAAYhc,GAIf,OAHA+b,KAAKhW,KAAO/F,EAAM+F,KAClBgW,KAAKlZ,MAAQ7C,EAAM6C,MACnBkZ,KAAK/V,IAAMhG,EAAMgG,IACV+V,KAGJE,WAAWjc,GAKd,OAJA+b,KAAK/V,IAAMtF,KAAKqZ,IAAI/Z,GACpB+b,KAAKhW,KAAOrF,KAAKqF,KAAK/F,GACtB+b,KAAKlZ,MAAQ,EACbkZ,KAAKyF,YACEzF,KAGJG,WAAWlc,GACVuY,EACAvY,EAAQA,EAAM2hB,QAAQ,IAAK,IACpBnJ,IACPxY,EAAQA,EAAM2hB,QAAQ,IAAK,MAI/B,MAAMC,EAAiB5hB,EAAM8B,MAAM,OACnC,GAA8B,IAA1B8f,EAAerN,OAAc,CAC7B,MAAMiK,EAAOtE,WAAW0H,EAAe,IACjCvC,EAASnF,WAAW0H,EAAe,IACnCC,EAAcD,EAAe,GAAG9f,MAAM,KAC5C,IAAIwd,EAAU,EAOd,GAN2B,IAAvBuC,EAAYtN,SACZ+K,EAAUpF,WAAW2H,EAAY,IACjC,cAAK9gB,SAASue,IAAd,OAAKve,SAASue,IAATve,SAASue,GAAd,iBAAKve,SAASue,GAAd,oBAAKve,SAASue,GAAd,KACIA,EAAU,IAGdve,SAASyd,IAASzd,SAASse,GAAS,CACpC,MAAMyC,EAAS1I,EAAQ4G,QAAQxB,EAAMa,EAAQC,GAI7C,OAHAvD,KAAKhW,KAAO+b,EAAO/b,KACnBgW,KAAKlZ,MAAQif,EAAOjf,MACpBkZ,KAAK/V,IAAM8b,EAAO9b,IACX+V,MAKf,MAAMgG,EAAiB/hB,EAAM8B,MAAM,MACnC,GAA8B,IAA1BigB,EAAexN,OAAc,CAC7B,MAAMiK,EAAOtE,WAAW6H,EAAe,IACjC1C,EAASnF,WAAW6H,EAAe,IACnCF,EAAcE,EAAe,GAAGjgB,MAAM,KAC5C,IAAIwd,EAAU,EAOd,GAN2B,IAAvBuC,EAAYtN,SACZ+K,EAAUpF,WAAW2H,EAAY,IACjC,cAAK9gB,SAASue,IAAd,OAAKve,SAASue,IAATve,SAASue,GAAd,iBAAKve,SAASue,GAAd,oBAAKve,SAASue,GAAd,KACIA,EAAU,IAGdve,SAASyd,IAASzd,SAASse,GAAS,CACpC,MAAMyC,EAAS1I,EAAQmG,QAAQf,EAAMa,EAAQC,GAI7C,OAHAvD,KAAKhW,KAAO+b,EAAO/b,KACnBgW,KAAKlZ,MAAQif,EAAOjf,MACpBkZ,KAAK/V,IAAM8b,EAAO9b,IACX+V,MAKf,MAAMiG,EAAWhiB,EAAM8B,MAAM,KAC7B,GAAwB,IAApBkgB,EAASzN,OAAc,CACvB,MAAMiK,EAAOtE,WAAW8H,EAAS,IAC3BxF,EAAWtC,WAAW8H,EAAS,IACrC,GAAIjhB,SAASyd,IAASzd,SAASyb,GAAW,CACtC,MAAMsF,EAAS1I,EAAQa,IAAIuE,EAAMhC,GAIjC,OAHAT,KAAKhW,KAAO+b,EAAO/b,KACnBgW,KAAKlZ,MAAQif,EAAOjf,MACpBkZ,KAAK/V,IAAM8b,EAAO9b,IACX+V,MAQf,IAAIyC,EACAa,EAJJrf,EAAQA,EAAMkC,OAAO+f,cAKrB,IAAIC,EAAUliB,EAAM8B,MAAM,MAC1B,GAAuB,IAAnBogB,EAAQ3N,OAAc,CACtBiK,EAAO,GACPa,EAASnF,WAAWgI,EAAQ,IAC5BA,EAAQ,GAAKA,EAAQ,GAAGP,QAAQ,IAAK,IACrCO,EAAQ,GAAKA,EAAQ,GAAGP,QAAQ,IAAK,IACrC,IAAIrC,EAAUpF,WAAWgI,EAAQ,IAIjC,GAHA,cAAKnhB,SAASue,IAAd,OAAKve,SAASue,IAATve,SAASue,GAAd,iBAAKve,SAASue,GAAd,oBAAKve,SAASue,GAAd,KACIA,EAAU,GAEVve,SAASyd,IAASzd,SAASse,GAAS,CACpC,MAAMyC,EAAS1I,EAAQmG,QAAQf,EAAMa,EAAQC,GAI7C,OAHAvD,KAAKhW,KAAO+b,EAAO/b,KACnBgW,KAAKlZ,MAAQif,EAAOjf,MACpBkZ,KAAK/V,IAAM8b,EAAO9b,IACX+V,MAMf,GADAmG,EAAUliB,EAAM8B,MAAM,KACC,IAAnBogB,EAAQ3N,OAAc,CACtBiK,EAAO,GACPa,EAASnF,WAAWgI,EAAQ,IAC5BA,EAAQ,GAAKA,EAAQ,GAAGP,QAAQ,IAAK,IACrCO,EAAQ,GAAKA,EAAQ,GAAGP,QAAQ,IAAK,IACrC,IAAIrC,EAAUpF,WAAWgI,EAAQ,IAIjC,GAHA,cAAKnhB,SAASue,IAAd,OAAKve,SAASue,IAATve,SAASue,GAAd,iBAAKve,SAASue,GAAd,oBAAKve,SAASue,GAAd,KACIA,EAAU,GAEVve,SAASyd,IAASzd,SAASse,GAAS,CACpC,MAAMyC,EAAS1I,EAAQmG,QAAQf,EAAMa,EAAQC,GAI7C,OAHAvD,KAAKhW,KAAO+b,EAAO/b,KACnBgW,KAAKlZ,MAAQif,EAAOjf,MACpBkZ,KAAK/V,IAAM8b,EAAO9b,IACX+V,MAIf,MAAMoG,EAAQniB,EAAM8B,MAAM,KACpBsgB,EAAS,UAAH,IAAGD,EAAM5N,QAAT,OAAG4N,EAAM5N,QAAN4N,EAAM5N,OAAT,iBAAG4N,EAAM5N,OAAT,iBAAkB,GAAf4N,EAAM5N,OAAS,EAAf,GAGf,GAAe,IAAX6N,EAAc,CACd,MAAMC,EAAgBnI,WAAWla,GACjC,GAAIe,SAASshB,GACT,OAAOtG,KAAKE,WAAWoG,QAExB,GAAe,IAAXD,EAAc,CAErB,MAAMC,EAAgBnI,WAAWla,GACjC,GAAIe,SAASshB,IAAT,cAA2BA,GAA3B,OAA2BA,GAAAA,EAA3B,mBAA2BA,EAA3B,mBAA6C,OAAlBA,EAA3B,GACA,OAAOtG,KAAKE,WAAWoG,GAK/B,MAAMC,EAAWtiB,EAAM8B,MAAM,MAC7B,GAAwB,IAApBwgB,EAAS/N,OAAc,CACvBwH,KAAKhW,KAAO,EACZ,cAAIuc,EAAS,GAAGC,OAAO,IAAvB,OAAID,EAAS,GAAGC,OAAO,IAAnBD,EAAS,GAAGC,OAAO,GAAvB,kBAAID,EAAS,GAAGC,OAAO,GAAvB,kBAA6B,UAAzBD,EAAS,GAAGC,OAAO,GAAvB,KACIxG,KAAKhW,KAAL,KAAa,EAAb,qBAAa,EAAb,wBAAa,EAAb,IAEJ,IAAIyc,EAAc,GAClB,IAAK,IAAI7J,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoB0J,EAAS,GAAG/N,QAAhBoE,EAAI2J,EAAS,GAAG/N,OAAhC,iBAA0CoE,GAA1C,OAA0CA,GAA1C,kBAA0CA,GAAAA,EAA1C,OAAAC,IAAA,qBAA0CD,EAA1C,OAAAC,IAAA,yBAA0CD,EAA1C,GAA6C,CACzC,MAAM8J,EAAUH,EAAS,GAAGI,WAAW/J,GACvC,KAAK,UAAO,IAAP8J,GAAO,OAAPA,GAAAA,EAAO,kBAAPA,EAAO,kBAAI,IAAXA,GAAW,GAAX,kBAAiBA,GAAjB,OAAiBA,GAAAA,EAAjB,kBAAiBA,EAAjB,kBAA4B,IAAXA,GAAW,GAA5B,IAA+C,MAAZA,GAQpC,OAHA1G,KAAKlZ,MAAQqX,WAAWsI,GACxBzG,KAAK/V,IAAMkU,WAAWoI,EAAS,GAAGK,OAAZ,cAAmBhK,GAAnB,OAAmBA,GAAAA,EAAnB,iBAAmBA,EAAnB,iBAAuB,GAAJA,EAAI,EAAvB,KACtBoD,KAAKyF,YACEzF,KANPyG,EAAW,cAAXA,GAAW,OAAXA,GAAAA,EAAW,iBAAXA,EAAW,iBAAIF,EAAS,GAAGC,OAAO5J,IAAlC6J,EAAeF,EAAS,GAAGC,OAAO5J,GAAvB,IAWvB,iBAAIyJ,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAa,GAATA,EAAS,EAAb,GAII,OAHArG,KAAKhW,KAAO,EACZgW,KAAKlZ,MAAQ,EACbkZ,KAAK/V,IAAM,EACJ+V,KAEX,MAAMY,EAAWzC,WAAWiI,EAAM,IAClC,GAAiB,IAAbxF,EAIA,OAHAZ,KAAKhW,KAAO,EACZgW,KAAKlZ,MAAQ,EACbkZ,KAAK/V,IAAM,EACJ+V,KAEX,IAAIS,EAAWtC,WAAWiI,EAAM,UAAD,IAACA,EAAM5N,QAAP,OAAC4N,EAAM5N,QAAN4N,EAAM5N,OAAN,OAAD,UAAC4N,EAAM5N,OAAN,OAAD,UAAgB,GAAf4N,EAAM5N,OAAS,EAAf,KAEhC,iBAAI6N,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAc,GAAVA,GAAU,EAAd,GAAiB,CACb,MAAMQ,EAAK1I,WAAWiI,EAAM,UAAD,IAACA,EAAM5N,QAAP,OAAC4N,EAAM5N,QAAN4N,EAAM5N,OAAN,OAAD,UAAC4N,EAAM5N,OAAN,OAAD,UAAgB,GAAf4N,EAAM5N,OAAS,EAAf,KACxBxT,SAAS6hB,KACTpG,EAAQ,cAARA,GAAQ,OAARA,GAAAA,EAAQ,iBAARA,EAAQ,iBAAI9b,KAAKqF,KAAK6c,IAAtBpG,EAAY9b,KAAKqF,KAAK6c,GAAd,GACRpG,EAAQ,cAARA,GAAQ,OAARA,GAAAA,EAAQ,iBAARA,EAAQ,iBAAIpC,EAAWwI,IAAvBpG,EAAYpC,EAAWwI,GAAf,IAKhB,iBAAK7hB,SAAS4b,IAAd,OAAK5b,SAAS4b,IAAT5b,SAAS4b,GAAd,iBAAK5b,SAAS4b,GAAd,oBAAK5b,SAAS4b,GAAd,GACIZ,KAAKhW,KAAoB,MAAboc,EAAM,GAAN,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,GAAwB,EACpCpG,KAAKlZ,MAAQuf,EACbrG,KAAK/V,IAAMwW,OAGV,GAAe,IAAX4F,EACLrG,KAAKhW,KAAOrF,KAAKqF,KAAK4W,GACtBZ,KAAKlZ,MAAQ,EAEbkZ,KAAK/V,IAAL,cAAWwW,GAAX,OAAWA,GAAAA,EAAX,iBAAWA,EAAX,iBAAsB9b,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,KAA/BH,EAAW9b,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,IAA1C,OAGC,CAGD,GAFAZ,KAAKhW,KAAOrF,KAAKqF,KAAK4W,GACtBZ,KAAKlZ,MAAQuf,EACE,IAAXA,EAAc,CACd,MAAMN,EAAS1I,EAAQuC,IAAIrC,EAAG,EAAG,EAAGkD,GAAWrD,EAAEwD,IAIjD,OAHAZ,KAAKhW,KAAO+b,EAAO/b,KACnBgW,KAAKlZ,MAAQif,EAAOjf,MACpBkZ,KAAK/V,IAAM8b,EAAO9b,IACX+V,KAGPA,KAAK/V,IAAMwW,EAKnB,OADAT,KAAKyF,YACEzF,KAGJc,UAAU7c,GACb,OAAIA,aAAiBoZ,GAAY,UAAK,IAALpZ,GAAK,OAALA,GAAAA,EAAK,kBAALA,EAAK,kBAAI,YAATA,EAAA,IAAkC,kBAAVA,GAAxB,KAA8C,OAA9C,kBAA8C,OAA9C,kBAAwDA,GAAV,SAAUA,EAAxD,SAAiE,MAAjE,kBAAiE,MAAjE,kBAA0EA,GAAT,QAASA,EAA1E,SAAmF,QAAnF,kBAAmF,QAAnF,kBAA8FA,GAAX,UAAWA,EAA9F,GACtB+b,KAAKC,YAAYhc,GAGP,kBAAVA,EACA+b,KAAKE,WAAWjc,GAGN,kBAAVA,EACA+b,KAAKG,WAAWlc,IAG3B+b,KAAKhW,KAAO,EACZgW,KAAKlZ,MAAQ,EACbkZ,KAAK/V,IAAM,EACJ+V,MAGJ/E,WACH,oBAAKlW,OAAOC,SAASgb,KAAKlZ,QAA1B,OAAK/B,OAAOC,SAASgb,KAAKlZ,QAArB/B,OAAOC,SAASgb,KAAKlZ,OAA1B,iBAAK/B,OAAOC,SAASgb,KAAKlZ,OAA1B,oBAAK/B,OAAOC,SAASgb,KAAKlZ,OAA1B,GACW/B,OAAO4V,IAEC,IAAfqF,KAAKlZ,MACL,cAAOkZ,KAAKhW,MAAZ,OAAOgW,KAAKhW,MAALgW,KAAKhW,KAAZ,iBAAOgW,KAAKhW,KAAZ,iBAAmBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAxB,GACsB,IAAf+V,KAAKlZ,MACZ,cAAOkZ,KAAKhW,MAAZ,OAAOgW,KAAKhW,MAALgW,KAAKhW,KAAZ,iBAAOgW,KAAKhW,KAAZ,iBAAmBrF,KAAKuZ,IAAI,GAAI8B,KAAK/V,MAA9B+V,KAAKhW,KAAOrF,KAAKuZ,IAAI,GAAI8B,KAAK/V,KAArC,GAGO,cAAA+V,KAAK/V,KAAL,OAAA+V,KAAK/V,KAAL+V,KAAK/V,IAAL,iBAAA+V,KAAK/V,IAAL,iBAAW,GAAX+V,KAAK/V,IAAM,EAAX,GACD,cAAA+V,KAAKhW,MAAL,OAAAgW,KAAKhW,MAALgW,KAAKhW,KAAL,iBAAAgW,KAAKhW,KAAL,iBAAY,GAAZgW,KAAKhW,KAAO,EAAZ,GACIjF,OAAO2b,kBACP3b,OAAOyZ,kBACX,EAIPsI,0BAA0BlJ,GAE7B,OAAI7T,MAAMiW,KAAKI,GACJrb,OAAO4V,IAGH,IAAXqF,KAAKI,EACE,EAGJzC,EAAcqC,KAAKI,EAAGxC,GAG1BmJ,2BAA2BnJ,GAE9B,OAAI7T,MAAMiW,KAAK/V,KACJlF,OAAO4V,IAGD,IAAbqF,KAAK/V,IACE,EAGJ0T,EAAcqC,KAAK/V,IAAK2T,GAG5BwB,WACH,OAAIrV,MAAMiW,KAAKlZ,QAAUiD,MAAMiW,KAAKhW,OAASD,MAAMiW,KAAK/V,KAC7C,MAEP+V,KAAK/V,MAAQlF,OAAO2b,mBAAqBV,KAAKlZ,QAAU/B,OAAO2b,kBAC1C,IAAdV,KAAKhW,KAAa,WAAa,YAGvB,IAAfgW,KAAKlZ,MACA,cAAAkZ,KAAK/V,KAAL,OAAA+V,KAAK/V,KAAL+V,KAAK/V,IAAL,iBAAA+V,KAAK/V,IAAL,iBAAW,MAAX+V,KAAK/V,IAAM,KAAX,kBAAmB+V,KAAK/V,KAAxB,OAAmB+V,KAAK/V,KAAL+V,KAAK/V,IAAxB,iBAAmB+V,KAAK/V,IAAxB,iBAA8B,MAAX+V,KAAK/V,IAAM,KAA9B,IAAoD,IAAb+V,KAAK/V,IACtC,cAAC+V,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAagW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAlB,GAAuBmV,WAElC,KAAOY,KAAKI,EAAI,WAAhB,GAAOJ,KAAKI,EAAI,MAAhB,OAAOJ,KAAKI,EAAI,KAAhB,kBAAOJ,KAAKI,EAAI,KAAhB,iBAAsBJ,KAAK3J,GAApB2J,KAAKI,EAAI,IAAMJ,KAAK3J,EAA3B,GACsB,IAAf2J,KAAKlZ,MACZ,KAAOkZ,KAAKI,EAAI,WAAhB,GAAOJ,KAAKI,EAAI,MAAhB,OAAOJ,KAAKI,EAAI,KAAhB,kBAAOJ,KAAKI,EAAI,KAAhB,iBAAsBJ,KAAK3J,GAApB2J,KAAKI,EAAI,IAAMJ,KAAK3J,EAA3B,GAGA,cAAI2J,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,kBAAIkZ,KAAKlZ,MAAT,kBAAkByV,GAAdyD,KAAKlZ,OAASyV,EAAlB,GACI,OAAuB,IAAfyD,KAAKhW,KAAc,IAAM,IAAM,IAAIgd,OAAOhH,KAAKlZ,cAAvD,KAAuB,IAAfkZ,KAAKhW,KAAc,IAAM,IAAM,IAAIgd,OAAOhH,KAAKlZ,SAAvD,SAAuB,IAAfkZ,KAAKhW,KAAc,IAAM,IAAM,IAAIgd,OAAOhH,KAAKlZ,QAAvD,oBAAuB,IAAfkZ,KAAKhW,KAAc,IAAM,IAAM,IAAIgd,OAAOhH,KAAKlZ,QAAvD,iBAAgEkZ,KAAK/V,OAA9C,IAAf+V,KAAKhW,KAAc,IAAM,IAAM,IAAIgd,OAAOhH,KAAKlZ,OAASkZ,KAAK/V,IAArE,GAEA,OAAuB,IAAf+V,KAAKhW,KAAc,IAAM,IAAM,MAAQgW,KAAKlZ,MAAQ,WAA5D,KAAuB,IAAfkZ,KAAKhW,KAAc,IAAM,IAAM,MAAQgW,KAAKlZ,MAAQ,MAA5D,SAAuB,IAAfkZ,KAAKhW,KAAc,IAAM,IAAM,MAAQgW,KAAKlZ,MAAQ,KAA5D,oBAAuB,IAAfkZ,KAAKhW,KAAc,IAAM,IAAM,MAAQgW,KAAKlZ,MAAQ,KAA5D,iBAAkEkZ,KAAK/V,OAAhD,IAAf+V,KAAKhW,KAAc,IAAM,IAAM,MAAQgW,KAAKlZ,MAAQ,IAAMkZ,KAAK/V,IAAvE,GAKLgd,cAAcrJ,GACjB,OAAmB,IAAfoC,KAAKlZ,MACE,cAACkZ,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAagW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAlB,GAAuBgd,cAAcrJ,GAEzCoC,KAAKkH,0BAA0BtJ,GAGnCQ,QAAQR,GACX,OAAmB,IAAfoC,KAAKlZ,MACE,cAACkZ,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAagW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAlB,GAAuBmU,QAAQR,GAEnCoC,KAAKkH,0BAA0BtJ,GAGnCuJ,YAAYvJ,GACf,oBAAIoC,KAAK3J,GAAT,OAAI2J,KAAK3J,GAAL2J,KAAK3J,EAAT,kBAAI2J,KAAK3J,EAAT,mBAAe,GAAX2J,KAAK3J,IAAM,EAAf,GACW2J,KAAKiH,cAAL,cAAmBrJ,GAAnB,OAAmBA,GAAAA,EAAnB,iBAAmBA,EAAnB,iBAA4B,GAATA,EAAS,EAA5B,IAGX,cAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAaoC,KAAK3J,GAAduH,EAASoC,KAAK3J,EAAlB,GACW2J,KAAK5B,QAAL,KAAaR,EAASoC,KAAKS,gBAA3B,GAAa7C,EAASoC,KAAKS,WAA3B,OAAa7C,EAASoC,KAAKS,UAA3B,kBAAa7C,EAASoC,KAAKS,UAA3B,iBAAsC,GAAzB7C,EAASoC,KAAKS,SAAW,EAAtC,IAGJT,KAAKiH,cAAL,cAAmBrJ,GAAnB,OAAmBA,GAAAA,EAAnB,iBAAmBA,EAAnB,iBAA4B,GAATA,EAAS,EAA5B,IAGJwJ,UACH,OAAOpH,KAAKZ,WAGTiI,SACH,OAAOrH,KAAKZ,WAGT8H,0BAA0BtJ,GAC7B,OAAmB,IAAfoC,KAAKlZ,MACA,cAAAkZ,KAAK/V,KAAL,OAAA+V,KAAK/V,KAAL+V,KAAK/V,IAAL,iBAAA+V,KAAK/V,IAAL,iBAAW,MAAX+V,KAAK/V,IAAM,KAAX,kBAAmB+V,KAAK/V,KAAxB,OAAmB+V,KAAK/V,KAAL+V,KAAK/V,IAAxB,iBAAmB+V,KAAK/V,IAAxB,iBAA8B,MAAX+V,KAAK/V,IAAM,KAA9B,IAAoD,IAAb+V,KAAK/V,IACtC,cAAC+V,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAagW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAlB,GAAuBmU,QAAQR,GAE1C,KAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,WAAvC,GAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,MAAvC,OAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,KAAvC,kBAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,KAAvC,iBAA6CD,EAAcqC,KAAK3J,EAAGuH,IAA5DD,EAAcqC,KAAKI,EAAGxC,GAAU,IAAMD,EAAcqC,KAAK3J,EAAGuH,GAAnE,GACsB,IAAfoC,KAAKlZ,MACZ,KAAO6W,EAAcqC,KAAKI,EAAGxC,GAAU,WAAvC,GAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,MAAvC,OAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,KAAvC,kBAAOD,EAAcqC,KAAKI,EAAGxC,GAAU,KAAvC,iBAA6CD,EAAcqC,KAAK3J,EAAGuH,IAA5DD,EAAcqC,KAAKI,EAAGxC,GAAU,IAAMD,EAAcqC,KAAK3J,EAAGuH,GAAnE,GAGA,cAAIoC,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,kBAAIkZ,KAAKlZ,MAAT,kBAAkByV,GAAdyD,KAAKlZ,OAASyV,EAAlB,GACI,OACoB,IAAfyD,KAAKhW,KAAc,IAAM,IAC1B,IAAIgd,OAAOhH,KAAKlZ,cAFpB,KACoB,IAAfkZ,KAAKhW,KAAc,IAAM,IAC1B,IAAIgd,OAAOhH,KAAKlZ,SAFpB,SACoB,IAAfkZ,KAAKhW,KAAc,IAAM,IAC1B,IAAIgd,OAAOhH,KAAKlZ,QAFpB,oBACoB,IAAfkZ,KAAKhW,KAAc,IAAM,IAC1B,IAAIgd,OAAOhH,KAAKlZ,QAFpB,iBAGI6W,EAAcqC,KAAK/V,IAAK2T,MAFR,IAAfoC,KAAKhW,KAAc,IAAM,IAC1B,IAAIgd,OAAOhH,KAAKlZ,OAChB6W,EAAcqC,KAAK/V,IAAK2T,GAH5B,GAMA,OACoB,IAAfoC,KAAKhW,KAAc,IAAM,IAC1B,MACAgW,KAAKlZ,MACL,WAJJ,KACoB,IAAfkZ,KAAKhW,KAAc,IAAM,IAC1B,MACAgW,KAAKlZ,MACL,MAJJ,SACoB,IAAfkZ,KAAKhW,KAAc,IAAM,IAC1B,MACAgW,KAAKlZ,MACL,KAJJ,oBACoB,IAAfkZ,KAAKhW,KAAc,IAAM,IAC1B,MACAgW,KAAKlZ,MACL,KAJJ,iBAKI6W,EAAcqC,KAAK/V,IAAK2T,MAJR,IAAfoC,KAAKhW,KAAc,IAAM,IAC1B,MACAgW,KAAKlZ,MACL,IACA6W,EAAcqC,KAAK/V,IAAK2T,GAL5B,GAWLI,MACH,OAAOP,EAAoB,IAAduC,KAAKhW,KAAa,EAAI,EAAGgW,KAAKlZ,MAAOkZ,KAAK/V,KAGpD8W,MACH,OAAOtD,EAAM,UAAD,IAAEuC,KAAKhW,MAAP,OAAEgW,KAAKhW,MAALgW,KAAKhW,KAAP,qBAAEgW,KAAKhW,KAAP,wBAAEgW,KAAKhW,KAAN,GAAYgW,KAAKlZ,MAAOkZ,KAAK/V,KAGvCqd,SACH,OAAOtH,KAAKe,MAGTwG,UACH,OAAOvH,KAAKe,MAOTyG,MACH,OAAOxH,KAAKhW,KAGTgR,QACH,oBAAIgF,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWoT,EAAQmC,MAEA,IAAfQ,KAAKlZ,MACEyW,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAKqW,MAAMgF,KAAK/V,MAErC+V,KAGJK,QACH,oBAAIL,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWoT,EAAQmC,MAEA,IAAfQ,KAAKlZ,MACEyW,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAK0b,MAAML,KAAK/V,MAErC+V,KAGJjC,OACH,oBAAIiC,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWoT,EAAQmC,MAEA,IAAfQ,KAAKlZ,MACEyW,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAKoZ,KAAKiC,KAAK/V,MAEpC+V,KAGJzB,QACH,oBAAIyB,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWoT,EAAQmC,MAEA,IAAfQ,KAAKlZ,MACEyW,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAK4Z,MAAMyB,KAAK/V,MAErC+V,KAGJnZ,IAAI5C,GACP,MAAMwjB,EAAUrK,EAAEnZ,GAGlB,iBAAKc,OAAOC,SAASgb,KAAKlZ,QAA1B,OAAK/B,OAAOC,SAASgb,KAAKlZ,QAArB/B,OAAOC,SAASgb,KAAKlZ,OAA1B,iBAAK/B,OAAOC,SAASgb,KAAKlZ,OAA1B,oBAAK/B,OAAOC,SAASgb,KAAKlZ,OAA1B,GACI,OAAOkZ,KAEX,iBAAKjb,OAAOC,SAASyiB,EAAQ3gB,QAA7B,OAAK/B,OAAOC,SAASyiB,EAAQ3gB,QAAxB/B,OAAOC,SAASyiB,EAAQ3gB,OAA7B,iBAAK/B,OAAOC,SAASyiB,EAAQ3gB,OAA7B,oBAAK/B,OAAOC,SAASyiB,EAAQ3gB,OAA7B,GACI,OAAO2gB,EAIX,GAAkB,IAAdzH,KAAKhW,KACL,OAAOyd,EAEX,GAAqB,IAAjBA,EAAQzd,KACR,OAAOgW,KAIX,GACIA,KAAKhW,OAAL,cAAeyd,EAAQzd,MAAvB,OAAeyd,EAAQzd,MAARyd,EAAQzd,KAAvB,qBAAeyd,EAAQzd,KAAvB,wBAAeyd,EAAQzd,KAAvB,IACAgW,KAAKlZ,QAAU2gB,EAAQ3gB,OACvBkZ,KAAK/V,MAAQwd,EAAQxd,IAErB,OAAOwT,EAAM,EAAG,EAAG,GAGvB,IAAIiK,EACApC,EAGJ,GAAI,cAAAtF,KAAKlZ,OAAL,OAAAkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAL,kBAAAkZ,KAAKlZ,MAAL,kBAAc,GAAdkZ,KAAKlZ,OAAS,EAAd,kBAAmB2gB,EAAQ3gB,OAA3B,OAAmB2gB,EAAQ3gB,OAAR2gB,EAAQ3gB,MAA3B,kBAAmB2gB,EAAQ3gB,MAA3B,kBAAoC,GAAjB2gB,EAAQ3gB,OAAS,EAApC,GACA,OAAOkZ,KAAK0B,OAAO+F,GAWvB,GARA,cAAIpK,EAAQ+D,OAAOpB,KAAMyH,IAAzB,OAAIpK,EAAQ+D,OAAOpB,KAAMyH,IAArBpK,EAAQ+D,OAAOpB,KAAMyH,GAAzB,iBAAIpK,EAAQ+D,OAAOpB,KAAMyH,GAAzB,iBAAoC,GAAhCpK,EAAQ+D,OAAOpB,KAAMyH,GAAW,EAApC,IACIC,EAAI1H,KACJsF,EAAImC,IAEJC,EAAID,EACJnC,EAAItF,MAGQ,IAAZ0H,EAAE5gB,OAA2B,IAAZwe,EAAExe,MACnB,OAAOsW,EAAE,KAAAsK,EAAE1d,KAAO0d,EAAEzd,WAAZ,GAACyd,EAAE1d,KAAO0d,EAAEzd,MAAZ,OAACyd,EAAE1d,KAAO0d,EAAEzd,KAAZ,kBAACyd,EAAE1d,KAAO0d,EAAEzd,KAAZ,iBAAkBqb,EAAEtb,KAAOsb,EAAErb,KAA5Byd,EAAE1d,KAAO0d,EAAEzd,IAAMqb,EAAEtb,KAAOsb,EAAErb,IAA5B,IAGb,MAAM0d,EAAS,UAAH,IAAGD,EAAE5gB,OAAL,OAAG4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAAL,iBAAG4gB,EAAE5gB,MAAL,iBAAanC,KAAKqF,KAAK0d,EAAEzd,MAAtByd,EAAE5gB,MAAQnC,KAAKqF,KAAK0d,EAAEzd,KAAtB,GACT2d,EAAS,UAAH,IAAGtC,EAAExe,OAAL,OAAGwe,EAAExe,OAAFwe,EAAExe,MAAL,iBAAGwe,EAAExe,MAAL,iBAAanC,KAAKqF,KAAKsb,EAAErb,MAAtBqb,EAAExe,MAAQnC,KAAKqF,KAAKsb,EAAErb,KAAtB,GAGf,QAAI0d,EAASC,SAAb,GAAID,EAASC,IAAb,OAAID,EAASC,GAAb,mBAAID,EAASC,GAAb,kBAAuB,GAAnBD,EAASC,GAAU,EAAvB,GACI,OAAOF,EAGX,GAAe,IAAXC,GAAgBC,IAAW,KAAC,EAAN,qBAAM,EAAN,wBAAM,EAAD,GAAI,CAC/B,iBAAIjjB,KAAKqZ,IAAIsH,EAAErb,IAAMtF,KAAKwX,MAAMuL,EAAEzd,OAAlC,OAAItF,KAAKqZ,IAAIsH,EAAErb,IAAMtF,KAAKwX,MAAMuL,EAAEzd,OAA9BtF,KAAKqZ,IAAIsH,EAAErb,IAAMtF,KAAKwX,MAAMuL,EAAEzd,MAAlC,iBAAItF,KAAKqZ,IAAIsH,EAAErb,IAAMtF,KAAKwX,MAAMuL,EAAEzd,MAAlC,iBAA0C+R,GAAtCrX,KAAKqZ,IAAIsH,EAAErb,IAAMtF,KAAKwX,MAAMuL,EAAEzd,MAAQ+R,EAA1C,GACI,OAAO0L,EACJ,CACH,MAAMG,EAAUljB,KAAKuZ,IAAI,GAAT,cAAavZ,KAAKwX,MAAMuL,EAAEzd,MAA1B,OAAatF,KAAKwX,MAAMuL,EAAEzd,MAAbtF,KAAKwX,MAAMuL,EAAEzd,KAA1B,iBAAatF,KAAKwX,MAAMuL,EAAEzd,KAA1B,iBAAiCqb,EAAErb,KAAtBtF,KAAKwX,MAAMuL,EAAEzd,KAAOqb,EAAErb,IAAnC,IACV2W,EAAW,UAAH,IAAG0E,EAAEtb,MAAL,OAAGsb,EAAEtb,MAAFsb,EAAEtb,KAAL,iBAAGsb,EAAEtb,KAAL,iBAAY0d,EAAE1d,KAAO6d,GAAlBvC,EAAEtb,KAAO0d,EAAE1d,KAAO6d,EAAlB,GACjB,OAAOtK,EAAG5Y,KAAKqF,KAAK4W,GAAW,EAAtB,cAAyB0E,EAAErb,KAA3B,OAAyBqb,EAAErb,KAAFqb,EAAErb,IAA3B,iBAAyBqb,EAAErb,IAA3B,iBAAiCtF,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,KAA5B0E,EAAErb,IAAMtF,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,IAArD,KAIjB,GAAe,IAAX+G,GAA2B,IAAXC,EAAc,CAC9B,iBAAIjjB,KAAKqZ,IAAI0J,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,OAAlC,OAAItF,KAAKqZ,IAAI0J,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,OAA9BtF,KAAKqZ,IAAI0J,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,MAAlC,iBAAItF,KAAKqZ,IAAI0J,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,MAAlC,iBAA0C+R,GAAtCrX,KAAKqZ,IAAI0J,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,MAAQ+R,EAA1C,GACI,OAAO0L,EACJ,CACH,MAAMG,EAAUljB,KAAKuZ,IAAI,GAAT,cAAawJ,EAAEzd,KAAf,OAAayd,EAAEzd,KAAFyd,EAAEzd,IAAf,iBAAayd,EAAEzd,IAAf,iBAAqBtF,KAAKwX,MAAMmJ,EAAErb,MAArByd,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,KAAlC,IACV2W,EAAW,UAAH,IAAG0E,EAAEtb,MAAL,OAAGsb,EAAEtb,MAAFsb,EAAEtb,KAAL,iBAAGsb,EAAEtb,KAAL,iBAAY0d,EAAE1d,KAAO6d,GAAlBvC,EAAEtb,KAAO0d,EAAE1d,KAAO6d,EAAlB,GACjB,OAAOtK,EACH5Y,KAAKqF,KAAK4W,GACV,EAFK,cAGLjc,KAAKwX,MAAMmJ,EAAErb,MAHR,OAGLtF,KAAKwX,MAAMmJ,EAAErb,MAAbtF,KAAKwX,MAAMmJ,EAAErb,KAHR,iBAGLtF,KAAKwX,MAAMmJ,EAAErb,KAHR,iBAGetF,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,KAAxCjc,KAAKwX,MAAMmJ,EAAErb,KAAOtF,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,IAHnC,KAQjB,iBAAIjc,KAAKqZ,IAAI0J,EAAEzd,IAAMqb,EAAErb,MAAvB,OAAItF,KAAKqZ,IAAI0J,EAAEzd,IAAMqb,EAAErb,MAAnBtF,KAAKqZ,IAAI0J,EAAEzd,IAAMqb,EAAErb,KAAvB,iBAAItF,KAAKqZ,IAAI0J,EAAEzd,IAAMqb,EAAErb,KAAvB,iBAA8B+R,GAA1BrX,KAAKqZ,IAAI0J,EAAEzd,IAAMqb,EAAErb,KAAO+R,EAA9B,GACI,OAAO0L,EACJ,CACH,MAAMG,EAAUljB,KAAKuZ,IAAI,GAAT,cAAawJ,EAAEzd,KAAf,OAAayd,EAAEzd,KAAFyd,EAAEzd,IAAf,iBAAayd,EAAEzd,IAAf,iBAAqBqb,EAAErb,KAAVyd,EAAEzd,IAAMqb,EAAErb,IAAvB,IACV2W,EAAW,UAAH,IAAG0E,EAAEtb,MAAL,OAAGsb,EAAEtb,MAAFsb,EAAEtb,KAAL,iBAAGsb,EAAEtb,KAAL,iBAAY0d,EAAE1d,KAAO6d,GAAlBvC,EAAEtb,KAAO0d,EAAE1d,KAAO6d,EAAlB,GACjB,OAAOtK,EAAG5Y,KAAKqF,KAAK4W,GAAW,EAAtB,cAAyB0E,EAAErb,KAA3B,OAAyBqb,EAAErb,KAAFqb,EAAErb,IAA3B,iBAAyBqb,EAAErb,IAA3B,iBAAiCtF,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,KAA5B0E,EAAErb,IAAMtF,KAAKwX,MAAMxX,KAAKqZ,IAAI4C,IAArD,KAMV4E,KAAKvhB,GACR,OAAO+b,KAAKnZ,IAAI5C,GAGb0b,IAAI1b,GACP,OAAO+b,KAAKnZ,IAAIuW,EAAEnZ,GAAO8c,OAGtB+G,SAAS7jB,GACZ,OAAO+b,KAAKL,IAAI1b,GAGb8jB,MAAM9jB,GACT,OAAO+b,KAAKL,IAAI1b,GAGb2b,IAAI3b,GACP,MAAMwjB,EAAUrK,EAAEnZ,GAGlB,iBAAKc,OAAOC,SAASgb,KAAKlZ,QAA1B,OAAK/B,OAAOC,SAASgb,KAAKlZ,QAArB/B,OAAOC,SAASgb,KAAKlZ,OAA1B,iBAAK/B,OAAOC,SAASgb,KAAKlZ,OAA1B,oBAAK/B,OAAOC,SAASgb,KAAKlZ,OAA1B,GACI,OAAOkZ,KAEX,iBAAKjb,OAAOC,SAASyiB,EAAQ3gB,QAA7B,OAAK/B,OAAOC,SAASyiB,EAAQ3gB,QAAxB/B,OAAOC,SAASyiB,EAAQ3gB,OAA7B,iBAAK/B,OAAOC,SAASyiB,EAAQ3gB,OAA7B,oBAAK/B,OAAOC,SAASyiB,EAAQ3gB,OAA7B,GACI,OAAO2gB,EAIX,GAAkB,IAAdzH,KAAKhW,MAA+B,IAAjByd,EAAQzd,KAC3B,OAAOyT,EAAM,EAAG,EAAG,GAIvB,GAAIuC,KAAKlZ,QAAU2gB,EAAQ3gB,OAASkZ,KAAK/V,MAAL,cAAcwd,EAAQxd,KAAtB,OAAcwd,EAAQxd,KAARwd,EAAQxd,IAAtB,qBAAcwd,EAAQxd,IAAtB,wBAAcwd,EAAQxd,IAAtB,GAChC,OAAOwT,EAAM,UAAD,IAACuC,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAayd,EAAQzd,MAApBgW,KAAKhW,KAAOyd,EAAQzd,KAApB,GAA0B,EAAG,GAG9C,IAAI0d,EACApC,EAcJ,GAVI,cAAAtF,KAAKlZ,OAAL,OAAAkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAL,iBAAAkZ,KAAKlZ,MAAL,iBAAa2gB,EAAQ3gB,OAArBkZ,KAAKlZ,MAAQ2gB,EAAQ3gB,MAArB,IACC,cAAAkZ,KAAKlZ,OAAL,OAAAkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAL,kBAAAkZ,KAAKlZ,MAAL,kBAAc2gB,EAAQ3gB,OAAtBkZ,KAAKlZ,OAAS2gB,EAAQ3gB,MAAtB,kBAA+BnC,KAAKqZ,IAAIgC,KAAK/V,MAA7C,OAA+BtF,KAAKqZ,IAAIgC,KAAK/V,MAAdtF,KAAKqZ,IAAIgC,KAAK/V,KAA7C,iBAA+BtF,KAAKqZ,IAAIgC,KAAK/V,KAA7C,iBAAoDtF,KAAKqZ,IAAIyJ,EAAQxd,MAAtCtF,KAAKqZ,IAAIgC,KAAK/V,KAAOtF,KAAKqZ,IAAIyJ,EAAQxd,KAArE,IAEDyd,EAAI1H,KACJsF,EAAImC,IAEJC,EAAID,EACJnC,EAAItF,MAGQ,IAAZ0H,EAAE5gB,OAA2B,IAAZwe,EAAExe,MACnB,OAAOsW,EAAE,KAAAsK,EAAE1d,KAAOsb,EAAEtb,KAAO0d,EAAEzd,WAArB,GAACyd,EAAE1d,KAAOsb,EAAEtb,KAAO0d,EAAEzd,MAArB,OAACyd,EAAE1d,KAAOsb,EAAEtb,KAAO0d,EAAEzd,KAArB,kBAACyd,EAAE1d,KAAOsb,EAAEtb,KAAO0d,EAAEzd,KAArB,iBAA2Bqb,EAAErb,KAA5Byd,EAAE1d,KAAOsb,EAAEtb,KAAO0d,EAAEzd,IAAMqb,EAAErb,IAA5B,IAIb,GAAI,cAAAyd,EAAE5gB,OAAF,OAAA4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAAF,kBAAA4gB,EAAE5gB,MAAF,kBAAW,GAAX4gB,EAAE5gB,OAAS,EAAX,SAAgB4gB,EAAE5gB,MAAQwe,EAAExe,aAA5B,GAAgB4gB,EAAE5gB,MAAQwe,EAAExe,QAA5B,OAAgB4gB,EAAE5gB,MAAQwe,EAAExe,OAA5B,mBAAgB4gB,EAAE5gB,MAAQwe,EAAExe,OAA5B,kBAAqC,GAArB4gB,EAAE5gB,MAAQwe,EAAExe,OAAS,EAArC,GACA,OAAOyW,EAAG,UAAD,IAACmK,EAAE1d,MAAH,OAAC0d,EAAE1d,MAAF0d,EAAE1d,KAAH,iBAAC0d,EAAE1d,KAAH,iBAAUsb,EAAEtb,MAAX0d,EAAE1d,KAAOsb,EAAEtb,KAAX,GAAiB0d,EAAE5gB,MAAO4gB,EAAEzd,KAG1C,GAAgB,IAAZyd,EAAE5gB,OAA2B,IAAZwe,EAAExe,MACnB,OAAOyW,EAAG,UAAD,IAACmK,EAAE1d,MAAH,OAAC0d,EAAE1d,MAAF0d,EAAE1d,KAAH,iBAAC0d,EAAE1d,KAAH,iBAAUsb,EAAEtb,MAAX0d,EAAE1d,KAAOsb,EAAEtb,KAAX,GAAiB,EAAlB,cAAqB0d,EAAEzd,KAAvB,OAAqByd,EAAEzd,KAAFyd,EAAEzd,IAAvB,iBAAqByd,EAAEzd,IAAvB,iBAA6BtF,KAAKwX,MAAMmJ,EAAErb,MAArByd,EAAEzd,IAAMtF,KAAKwX,MAAMmJ,EAAErb,KAA1C,IAGb,GAAgB,IAAZyd,EAAE5gB,OAA2B,IAAZwe,EAAExe,MACnB,OAAOyW,EAAG,UAAD,IAACmK,EAAE1d,MAAH,OAAC0d,EAAE1d,MAAF0d,EAAE1d,KAAH,iBAAC0d,EAAE1d,KAAH,iBAAUsb,EAAEtb,MAAX0d,EAAE1d,KAAOsb,EAAEtb,KAAX,GAAiB,EAAlB,cAAqB0d,EAAEzd,KAAvB,OAAqByd,EAAEzd,KAAFyd,EAAEzd,IAAvB,iBAAqByd,EAAEzd,IAAvB,iBAA6Bqb,EAAErb,KAAVyd,EAAEzd,IAAMqb,EAAErb,IAA/B,IAGb,GAAgB,IAAZyd,EAAE5gB,OAA2B,IAAZwe,EAAExe,MAAa,CAChC,MAAMkhB,EAASzK,EAAG5Y,KAAKqF,KAAK0d,EAAEzd,KAAb,cAAmByd,EAAE5gB,OAArB,OAAmB4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAArB,iBAAmB4gB,EAAE5gB,MAArB,iBAA6B,GAAV4gB,EAAE5gB,MAAQ,EAA7B,GAAgCnC,KAAKqZ,IAAI0J,EAAEzd,MAAMpD,IAC9D0W,EAAG5Y,KAAKqF,KAAKsb,EAAErb,KAAb,cAAmBqb,EAAExe,OAArB,OAAmBwe,EAAExe,OAAFwe,EAAExe,MAArB,iBAAmBwe,EAAExe,MAArB,iBAA6B,GAAVwe,EAAExe,MAAQ,EAA7B,GAAgCnC,KAAKqZ,IAAIsH,EAAErb,OAEjD,OAAOsT,EAAG,UAAD,IAACmK,EAAE1d,MAAH,OAAC0d,EAAE1d,MAAF0d,EAAE1d,KAAH,iBAAC0d,EAAE1d,KAAH,iBAAUsb,EAAEtb,MAAX0d,EAAE1d,KAAOsb,EAAEtb,KAAX,GAAD,cAAkBge,EAAOlhB,OAAzB,OAAkBkhB,EAAOlhB,OAAPkhB,EAAOlhB,MAAzB,iBAAkBkhB,EAAOlhB,MAAzB,iBAAiC,GAAfkhB,EAAOlhB,MAAQ,EAAjC,iBAAoCkhB,EAAOhe,MAA3C,OAAoCge,EAAOhe,MAAPge,EAAOhe,KAA3C,iBAAoCge,EAAOhe,KAA3C,iBAAkDge,EAAO/d,KAArB+d,EAAOhe,KAAOge,EAAO/d,IAAzD,IAGb,GAAgB,IAAZyd,EAAE5gB,OAA2B,IAAZwe,EAAExe,MAAa,CAChC,MAAMkhB,EAASzK,EAAG5Y,KAAKqF,KAAK0d,EAAEzd,KAAb,cAAmByd,EAAE5gB,OAArB,OAAmB4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAArB,iBAAmB4gB,EAAE5gB,MAArB,iBAA6B,GAAV4gB,EAAE5gB,MAAQ,EAA7B,GAAgCnC,KAAKqZ,IAAI0J,EAAEzd,MAAMpD,IAC9D0W,EAAG5Y,KAAKqF,KAAKsb,EAAErb,KAAb,cAAmBqb,EAAExe,OAArB,OAAmBwe,EAAExe,OAAFwe,EAAExe,MAArB,iBAAmBwe,EAAExe,MAArB,iBAA6B,GAAVwe,EAAExe,MAAQ,EAA7B,GAAgCnC,KAAKqZ,IAAIsH,EAAErb,OAEjD,OAAOsT,EAAG,UAAD,IAACmK,EAAE1d,MAAH,OAAC0d,EAAE1d,MAAF0d,EAAE1d,KAAH,iBAAC0d,EAAE1d,KAAH,iBAAUsb,EAAEtb,MAAX0d,EAAE1d,KAAOsb,EAAEtb,KAAX,GAAD,cAAkBge,EAAOlhB,OAAzB,OAAkBkhB,EAAOlhB,OAAPkhB,EAAOlhB,MAAzB,iBAAkBkhB,EAAOlhB,MAAzB,iBAAiC,GAAfkhB,EAAOlhB,MAAQ,EAAjC,iBAAoCkhB,EAAOhe,MAA3C,OAAoCge,EAAOhe,MAAPge,EAAOhe,KAA3C,iBAAoCge,EAAOhe,KAA3C,iBAAkDge,EAAO/d,KAArB+d,EAAOhe,KAAOge,EAAO/d,IAAzD,IAGb,MAAMpE,MAAM,8BAA2Bma,KAAO,YAAnC,GAAC,yBAA2BA,KAAO,OAAnC,OAAC,yBAA2BA,KAAO,MAAnC,kBAAC,yBAA2BA,KAAO,MAAnC,iBAA0C/b,GAAzC,yBAA2B+b,KAAO,KAAO/b,EAAzC,IAGTgkB,SAAShkB,GACZ,OAAO+b,KAAKJ,IAAI3b,GAGbyf,MAAMzf,GACT,OAAO+b,KAAKJ,IAAI3b,GAGb4b,IAAI5b,GACP,MAAMwjB,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAKJ,IAAI6H,EAAQxG,SAGrBiH,OAAOjkB,GACV,OAAO+b,KAAKH,IAAI5b,GAGbkkB,SAASlkB,GACZ,OAAO+b,KAAKH,IAAI5b,GAGbmkB,UAAUnkB,GACb,OAAO+b,KAAKH,IAAI5b,GAGbgd,QACH,OAAiB,IAAbjB,KAAK/V,IACEoT,EAAQgL,KACO,IAAfrI,KAAKlZ,MACLyW,EAAGyC,KAAKhW,KAAM,EAAZ,KAAe,EAAf,iBAAe,EAAf,iBAAmBgW,KAAK/V,KAAT,EAAI+V,KAAK/V,IAAxB,IAEFsT,EAAGyC,KAAKhW,KAAMgW,KAAKlZ,MAAjB,cAAyBkZ,KAAK/V,KAA9B,OAAyB+V,KAAK/V,KAAL+V,KAAK/V,IAA9B,qBAAyB+V,KAAK/V,IAA9B,wBAAyB+V,KAAK/V,IAA9B,IAIVqe,aACH,OAAOtI,KAAKiB,QAGTC,cACH,OAAOlB,KAAKiB,QAMTE,IAAIld,GACP,MAAMwjB,EAAUrK,EAAEnZ,GAClB,oBAAI+b,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,iBAAIgW,KAAKhW,KAAT,iBAAgByd,EAAQzd,MAApBgW,KAAKhW,KAAOyd,EAAQzd,KAAxB,GACW,EAEX,cAAIgW,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,iBAAIgW,KAAKhW,KAAT,iBAAgByd,EAAQzd,MAApBgW,KAAKhW,KAAOyd,EAAQzd,KAAxB,GACI,KAAQ,EAAR,qBAAQ,EAAR,wBAAQ,EAAR,GAEJ,cAAQgW,KAAKhW,MAAb,OAAQgW,KAAKhW,MAALgW,KAAKhW,KAAb,iBAAQgW,KAAKhW,KAAb,iBAAoBgW,KAAKoB,OAAOnd,IAAxB+b,KAAKhW,KAAOgW,KAAKoB,OAAOnd,GAAhC,GAGGmd,OAAOnd,GACV,MAAMwjB,EAAUrK,EAAEnZ,GACZ0jB,EAAS,cAAA3H,KAAK/V,KAAL,OAAA+V,KAAK/V,KAAL+V,KAAK/V,IAAL,iBAAA+V,KAAK/V,IAAL,iBAAW,GAAX+V,KAAK/V,IAAM,EAAX,GAAe+V,KAAKlZ,MAApB,cAA6BkZ,KAAKlZ,OAAlC,OAA6BkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAlC,qBAA6BkZ,KAAKlZ,MAAlC,wBAA6BkZ,KAAKlZ,MAAlC,GACT8gB,EAAS,cAAAH,EAAQxd,KAAR,OAAAwd,EAAQxd,KAARwd,EAAQxd,IAAR,iBAAAwd,EAAQxd,IAAR,iBAAc,GAAdwd,EAAQxd,IAAM,EAAd,GAAkBwd,EAAQ3gB,MAA1B,cAAmC2gB,EAAQ3gB,OAA3C,OAAmC2gB,EAAQ3gB,OAAR2gB,EAAQ3gB,MAA3C,qBAAmC2gB,EAAQ3gB,MAA3C,wBAAmC2gB,EAAQ3gB,MAA3C,GACf,oBAAI6gB,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAaC,GAATD,EAASC,EAAb,GACW,EAEX,cAAID,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAaC,GAATD,EAASC,EAAb,GACI,KAAQ,EAAR,qBAAQ,EAAR,wBAAQ,EAAR,GAEJ,cAAI5H,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAewd,EAAQxd,KAAnB+V,KAAK/V,IAAMwd,EAAQxd,IAAvB,GACW,EAEX,cAAI+V,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAewd,EAAQxd,KAAnB+V,KAAK/V,IAAMwd,EAAQxd,IAAvB,GACI,KAAQ,EAAR,qBAAQ,EAAR,wBAAQ,EAAR,GAEG,EAGJse,QAAQtkB,GACX,OAAO+b,KAAKmB,IAAIld,GAGboX,QACH,OAAOtR,MAAMiW,KAAKhW,OAASD,MAAMiW,KAAKlZ,QAAUiD,MAAMiW,KAAK/V,KAGxDjF,WACH,OAAOA,SAASgb,KAAKhW,OAAShF,SAASgb,KAAKlZ,QAAU9B,SAASgb,KAAK/V,KAGjEoX,GAAGpd,GACN,MAAMwjB,EAAUrK,EAAEnZ,GAClB,OACI+b,KAAKhW,OAASyd,EAAQzd,MAAQgW,KAAKlZ,QAAU2gB,EAAQ3gB,OAASkZ,KAAK/V,MAAQwd,EAAQxd,IAIpFue,OAAOvkB,GACV,OAAO+b,KAAKqB,GAAGpd,GAGZ2W,IAAI3W,GACP,oBAAQ+b,KAAKqB,GAAGpd,IAAhB,OAAQ+b,KAAKqB,GAAGpd,IAAR+b,KAAKqB,GAAGpd,GAAhB,iBAAQ+b,KAAKqB,GAAGpd,GAAhB,oBAAQ+b,KAAKqB,GAAGpd,GAAhB,GAGGqd,UAAUrd,GACb,OAAO+b,KAAKpF,IAAI3W,GAGb6b,GAAG7b,GACN,OAAO+b,KAAKmB,IAAIld,KAAT,KAAqB,EAArB,qBAAqB,EAArB,wBAAqB,EAArB,GAGJsd,IAAItd,GACP,oBAAQ+b,KAAK5E,GAAGnX,IAAhB,OAAQ+b,KAAK5E,GAAGnX,IAAR+b,KAAK5E,GAAGnX,GAAhB,iBAAQ+b,KAAK5E,GAAGnX,GAAhB,oBAAQ+b,KAAK5E,GAAGnX,GAAhB,GAGGmX,GAAGnX,GACN,OAA2B,IAApB+b,KAAKmB,IAAIld,GAGbud,IAAIvd,GACP,oBAAQ+b,KAAKF,GAAG7b,IAAhB,OAAQ+b,KAAKF,GAAG7b,IAAR+b,KAAKF,GAAG7b,GAAhB,iBAAQ+b,KAAKF,GAAG7b,GAAhB,oBAAQ+b,KAAKF,GAAG7b,GAAhB,GAGGW,IAAIX,GACP,MAAMwjB,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAKF,GAAG2H,GAAWA,EAAUzH,KAGjClb,IAAIb,GACP,MAAMwjB,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAK5E,GAAGqM,GAAWA,EAAUzH,KAGjC0B,OAAOzd,GACV,MAAMwjB,EAAUrK,EAAEnZ,GAClB,MAAO,cAAA+b,KAAKoB,OAAOqG,IAAZ,OAAAzH,KAAKoB,OAAOqG,IAAZzH,KAAKoB,OAAOqG,GAAZ,iBAAAzH,KAAKoB,OAAOqG,GAAZ,iBAAuB,GAAvBzH,KAAKoB,OAAOqG,GAAW,EAAvB,GAA2BA,EAAUzH,KAGzCyB,OAAOxd,GACV,MAAMwjB,EAAUrK,EAAEnZ,GAClB,MAAO,cAAA+b,KAAKoB,OAAOqG,IAAZ,OAAAzH,KAAKoB,OAAOqG,IAAZzH,KAAKoB,OAAOqG,GAAZ,iBAAAzH,KAAKoB,OAAOqG,GAAZ,iBAAuB,GAAvBzH,KAAKoB,OAAOqG,GAAW,EAAvB,GAA2BA,EAAUzH,KAGzC2B,MAAM7c,EAAoBF,GAC7B,OAAOob,KAAKpb,IAAIE,GAAKA,IAAIF,GAGtBgd,SAAS9c,GACZ,OAAOkb,KAAKpb,IAAIE,GAGb+c,SAASjd,GACZ,OAAOob,KAAKlb,IAAIF,GAGbmd,cAAc9d,EAAsB6d,GACvC,MAAM2F,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAKgC,aAAayF,EAAS3F,GAAa,EAAI9B,KAAKmB,IAAIsG,GAGzDgB,kBAAkBxkB,EAAsB6d,GAC3C,OAAO9B,KAAK+B,cAAc9d,EAAO6d,GAQ9BE,aAAa/d,EAAsB6d,GACtC,MAAM2F,EAAUrK,EAAEnZ,GAKlB,GAJA,cAAI6d,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAiB,YAAbA,EAAJ,KACIA,EAAY,MAGhB,cAAI9B,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,mBAAIgW,KAAKhW,KAAT,mBAAkByd,EAAQzd,MAAtBgW,KAAKhW,OAASyd,EAAQzd,KAA1B,GACI,OAAO,EAEX,iBAAIrF,KAAKqZ,IAAIgC,KAAKlZ,MAAQ2gB,EAAQ3gB,QAAlC,OAAInC,KAAKqZ,IAAIgC,KAAKlZ,MAAQ2gB,EAAQ3gB,QAA9BnC,KAAKqZ,IAAIgC,KAAKlZ,MAAQ2gB,EAAQ3gB,OAAlC,iBAAInC,KAAKqZ,IAAIgC,KAAKlZ,MAAQ2gB,EAAQ3gB,OAAlC,iBAA2C,GAAvCnC,KAAKqZ,IAAIgC,KAAKlZ,MAAQ2gB,EAAQ3gB,OAAS,EAA3C,GACI,OAAO,EAGX,IAAI4hB,EAAO1I,KAAK/V,IACZ0e,EAAOlB,EAAQxd,IAOnB,MANA,cAAI+V,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,iBAAIkZ,KAAKlZ,MAAT,iBAAiB2gB,EAAQ3gB,OAArBkZ,KAAKlZ,MAAQ2gB,EAAQ3gB,MAAzB,KACI6hB,EAAOtK,EAAWsK,IAEtB,cAAI3I,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,iBAAIkZ,KAAKlZ,MAAT,iBAAiB2gB,EAAQ3gB,OAArBkZ,KAAKlZ,MAAQ2gB,EAAQ3gB,MAAzB,KACI4hB,EAAOrK,EAAWqK,IAEtB,cAAO/jB,KAAKqZ,IAAI0K,EAAOC,IAAvB,OAAOhkB,KAAKqZ,IAAI0K,EAAOC,IAAhBhkB,KAAKqZ,IAAI0K,EAAOC,GAAvB,kBAAOhkB,KAAKqZ,IAAI0K,EAAOC,GAAvB,kBAAgC7G,EAAYnd,KAAKC,IAAID,KAAKqZ,IAAI0K,GAAO/jB,KAAKqZ,IAAI2K,KAAvEhkB,KAAKqZ,IAAI0K,EAAOC,IAAS7G,EAAYnd,KAAKC,IAAID,KAAKqZ,IAAI0K,GAAO/jB,KAAKqZ,IAAI2K,IAA9E,GAGGC,iBAAiB3kB,EAAsB6d,GAC1C,OAAO9B,KAAKgC,aAAa/d,EAAO6d,GAG7BG,cAAche,EAAsB6d,GACvC,oBAAQ9B,KAAKgC,aAAa/d,EAAO6d,IAAjC,OAAQ9B,KAAKgC,aAAa/d,EAAO6d,IAAzB9B,KAAKgC,aAAa/d,EAAO6d,GAAjC,iBAAQ9B,KAAKgC,aAAa/d,EAAO6d,GAAjC,oBAAQ9B,KAAKgC,aAAa/d,EAAO6d,GAAjC,GAGGI,oBAAoBje,EAAsB6d,GAC7C,OAAO9B,KAAKiC,cAAche,EAAO6d,GAG9BK,aAAale,EAAsB6d,GACtC,MAAM2F,EAAUrK,EAAEnZ,GAClB,MAAO,cAAC+b,KAAKgC,aAAayF,EAAS3F,IAA5B,OAAC9B,KAAKgC,aAAayF,EAAS3F,IAA3B9B,KAAKgC,aAAayF,EAAS3F,GAA5B,iBAAC9B,KAAKgC,aAAayF,EAAS3F,GAA5B,oBAAC9B,KAAKgC,aAAayF,EAAS3F,GAA5B,IAA0C9B,KAAKF,GAAG2H,GAGtDrF,cAAcne,EAAsB6d,GACvC,MAAM2F,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAKgC,aAAayF,EAAS3F,IAAc9B,KAAKF,GAAG2H,GAGrDpF,aAAape,EAAsB6d,GACtC,MAAM2F,EAAUrK,EAAEnZ,GAClB,MAAO,cAAC+b,KAAKgC,aAAayF,EAAS3F,IAA5B,OAAC9B,KAAKgC,aAAayF,EAAS3F,IAA3B9B,KAAKgC,aAAayF,EAAS3F,GAA5B,iBAAC9B,KAAKgC,aAAayF,EAAS3F,GAA5B,oBAAC9B,KAAKgC,aAAayF,EAAS3F,GAA5B,IAA0C9B,KAAK5E,GAAGqM,GAGtDnF,cAAcre,EAAsB6d,GACvC,MAAM2F,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAKgC,aAAayF,EAAS3F,IAAc9B,KAAK5E,GAAGqM,GAGrDlF,SACH,OAAIvC,KAAKF,GAAGzC,EAAQmC,OACTnC,EAAQmC,MAEZQ,KAAK7D,QAGTqG,WACH,OAAkB,IAAdxC,KAAKhW,KACEqT,EAAQgL,KACR,UAAJ,IAAIrI,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,iBAAIkZ,KAAKlZ,MAAT,iBAAiB,GAAbkZ,KAAKlZ,MAAQ,EAAb,GACAyW,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAhB,cAAsB+V,KAAKlZ,OAA3B,OAAsBkZ,KAAKlZ,OAALkZ,KAAKlZ,MAA3B,iBAAsBkZ,KAAKlZ,MAA3B,iBAAmC,GAAbkZ,KAAKlZ,MAAQ,EAAnC,GAAsCnC,KAAKqZ,IAAIgC,KAAK/V,MAEtDsT,EAAG,EAAG,EAAG5Y,KAAKwX,MAAM6D,KAAK/V,MAIjCkS,QACH,oBAAI6D,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,kBAAIgW,KAAKhW,KAAT,kBAAiB,GAAbgW,KAAKhW,MAAQ,EAAjB,GACWqT,EAAQgL,KACR,UAAJ,IAAIrI,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,iBAAIkZ,KAAKlZ,MAAT,iBAAiB,GAAbkZ,KAAKlZ,MAAQ,EAAb,GACAyW,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAhB,cAAsB+V,KAAKlZ,OAA3B,OAAsBkZ,KAAKlZ,OAALkZ,KAAKlZ,MAA3B,iBAAsBkZ,KAAKlZ,MAA3B,iBAAmC,GAAbkZ,KAAKlZ,MAAQ,EAAnC,GAAsCnC,KAAKqZ,IAAIgC,KAAK/V,MAEtDsT,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAKwX,MAAM6D,KAAK/V,MAIzC0R,IAAI8G,GAEP,OADAA,EAAOrF,EAAEqF,GACT,cAAIzC,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,kBAAIgW,KAAKhW,KAAT,kBAAiB,GAAbgW,KAAKhW,MAAQ,EAAjB,IAGA,cAAIyY,EAAKzY,MAAT,OAAIyY,EAAKzY,MAALyY,EAAKzY,KAAT,kBAAIyY,EAAKzY,KAAT,kBAAiB,GAAbyY,EAAKzY,MAAQ,EAAjB,IAGkB,IAAdyY,EAAKzY,MAA6B,IAAfyY,EAAK3b,OAA4B,IAAb2b,EAAKxY,IALrCoT,EAAQgL,KAOO,IAAfrI,KAAKlZ,OAA8B,IAAf2b,EAAK3b,MACzByW,EAAGyC,KAAKhW,KAAM,EAAZ,cAAerF,KAAKgX,IAAIqE,KAAK/V,MAA7B,OAAetF,KAAKgX,IAAIqE,KAAK/V,MAAdtF,KAAKgX,IAAIqE,KAAK/V,KAA7B,iBAAetF,KAAKgX,IAAIqE,KAAK/V,KAA7B,iBAAoCtF,KAAKgX,IAAI8G,EAAKxY,MAAnCtF,KAAKgX,IAAIqE,KAAK/V,KAAOtF,KAAKgX,IAAI8G,EAAKxY,KAAlD,IAGNoT,EAAQwC,IAAIG,KAAK7D,QAASsG,EAAKtG,SAGnCuG,OACH,oBAAI1C,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,kBAAIgW,KAAKhW,KAAT,kBAAiB,GAAbgW,KAAKhW,MAAQ,EAAjB,GACWqT,EAAQgL,KACO,IAAfrI,KAAKlZ,MACLyW,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAK+d,KAAK1C,KAAK/V,MACjB,IAAf+V,KAAKlZ,MACLyW,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAM,EAAtB,cAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAvC,OAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAdtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAAyBtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAA8C,qCAArBtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,IACa,IAAf+V,KAAKlZ,MACLyW,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAM,EAAtB,cAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAvC,OAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAdtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAAyBtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAA8C,mBAArBtF,KAAKqZ,IAAIgC,KAAK/V,KAAO,kBAA9C,IAEFsT,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAhB,cAAsB+V,KAAKlZ,OAA3B,OAAsBkZ,KAAKlZ,OAALkZ,KAAKlZ,MAA3B,iBAAsBkZ,KAAKlZ,MAA3B,iBAAmC,GAAbkZ,KAAKlZ,MAAQ,EAAnC,GAAsCnC,KAAKqZ,IAAIgC,KAAK/V,MAI9DyV,KACH,oBAAIM,KAAKhW,MAAT,OAAIgW,KAAKhW,MAALgW,KAAKhW,KAAT,kBAAIgW,KAAKhW,KAAT,kBAAiB,GAAbgW,KAAKhW,MAAQ,EAAjB,GACWqT,EAAQgL,KACO,IAAfrI,KAAKlZ,MACLyW,EAAGyC,KAAKhW,KAAM,EAAGrF,KAAKgX,IAAIqE,KAAK/V,MAChB,IAAf+V,KAAKlZ,MACLyW,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAM,EAAtB,cAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAvC,OAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAdtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAAyBtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAA8C,qCAArBtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,IACa,IAAf+V,KAAKlZ,MACLyW,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAM,EAAtB,cAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAvC,OAAyBtF,KAAKqZ,IAAIgC,KAAK/V,MAAdtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAAyBtF,KAAKqZ,IAAIgC,KAAK/V,KAAvC,iBAA8C,oBAArBtF,KAAKqZ,IAAIgC,KAAK/V,KAAO,mBAA9C,IAEFsT,EAAG5Y,KAAKqF,KAAKgW,KAAK/V,KAAhB,cAAsB+V,KAAKlZ,OAA3B,OAAsBkZ,KAAKlZ,OAALkZ,KAAKlZ,MAA3B,iBAAsBkZ,KAAKlZ,MAA3B,iBAAmC,GAAbkZ,KAAKlZ,MAAQ,EAAnC,GAAsCnC,KAAKqZ,IAAIgC,KAAK/V,MAI9D0Y,UAAUF,GACb,OAAOzC,KAAKrE,IAAI8G,GAGbvE,IAAIja,GACP,MAAMwjB,EAAUrK,EAAEnZ,GACZyjB,EAAI1H,KACJsF,EAAImC,EAGV,GAAe,IAAXC,EAAE1d,KACF,OAAOsb,EAAEjE,GAAG,GAAK5D,EAAM,EAAG,EAAG,GAAKiK,EAGtC,GAAe,IAAXA,EAAE1d,MAA0B,IAAZ0d,EAAE5gB,OAAyB,IAAV4gB,EAAEzd,IACnC,OAAOyd,EAGX,GAAe,IAAXpC,EAAEtb,KACF,OAAOyT,EAAM,EAAG,EAAG,GAGvB,GAAe,IAAX6H,EAAEtb,MAA0B,IAAZsb,EAAExe,OAAyB,IAAVwe,EAAErb,IACnC,OAAOyd,EAGX,MAAM3B,EAAS2B,EACVlF,WACA5C,IAAI0F,GACJ1C,QAEL,OAAI5C,KAAKhW,OAAL,KAAe,EAAf,qBAAe,EAAf,wBAAe,EAAf,GACuC,IAAnC,cAAArF,KAAKqZ,IAAIsH,EAAErK,WAAa,IAAxB,OAAAtW,KAAKqZ,IAAIsH,EAAErK,WAAa,IAAxBtW,KAAKqZ,IAAIsH,EAAErK,WAAa,GAAxB,iBAAAtW,KAAKqZ,IAAIsH,EAAErK,WAAa,GAAxB,iBAA6B,GAA7BtW,KAAKqZ,IAAIsH,EAAErK,WAAa,GAAK,EAA7B,GACO8K,EAAOhF,MAC4B,IAAnC,cAAApc,KAAKqZ,IAAIsH,EAAErK,WAAa,IAAxB,OAAAtW,KAAKqZ,IAAIsH,EAAErK,WAAa,IAAxBtW,KAAKqZ,IAAIsH,EAAErK,WAAa,GAAxB,iBAAAtW,KAAKqZ,IAAIsH,EAAErK,WAAa,GAAxB,iBAA6B,GAA7BtW,KAAKqZ,IAAIsH,EAAErK,WAAa,GAAK,EAA7B,GACA8K,EAEJ1I,EAAQgL,KAGZtC,EAGJnD,QASH,GAAI,cAAC7d,OAAOC,SAASgb,KAAKlZ,QAAtB,OAAC/B,OAAOC,SAASgb,KAAKlZ,QAArB/B,OAAOC,SAASgb,KAAKlZ,OAAtB,iBAAC/B,OAAOC,SAASgb,KAAKlZ,OAAtB,oBAAC/B,OAAOC,SAASgb,KAAKlZ,OAAtB,kBAAiC/B,OAAOC,SAASgb,KAAK/V,MAAtD,OAAiClF,OAAOC,SAASgb,KAAK/V,MAArBlF,OAAOC,SAASgb,KAAK/V,KAAtD,iBAAiClF,OAAOC,SAASgb,KAAK/V,KAAtD,oBAAiClF,OAAOC,SAASgb,KAAK/V,KAAtD,GACA,OAAOoT,EAAQgL,KAGnB,IAAIX,EAAI1H,KAGR,GAAgB,IAAZ0H,EAAE5gB,MAAa,CACf,MAAMkhB,EAASrjB,KAAKuZ,IAAI,GAAT,cAAawJ,EAAE1d,MAAf,OAAa0d,EAAE1d,MAAF0d,EAAE1d,KAAf,iBAAa0d,EAAE1d,KAAf,iBAAsB0d,EAAEzd,KAAXyd,EAAE1d,KAAO0d,EAAEzd,IAAxB,IACf,GAAIlF,OAAOC,SAASgjB,IAAhB,cAA2BrjB,KAAKqZ,IAAIgK,IAApC,OAA2BrjB,KAAKqZ,IAAIgK,IAATrjB,KAAKqZ,IAAIgK,GAApC,kBAA2BrjB,KAAKqZ,IAAIgK,GAApC,kBAA+C,IAApBrjB,KAAKqZ,IAAIgK,IAAW,GAA/C,GACA,OAAOzK,EAAG,EAAG,EAAGyK,GAEhB,GAAe,IAAXN,EAAE1d,KACF,OAAOqT,EAAQoC,KAEfiI,EAAIjK,EAAMiK,EAAE1d,KAAH,cAAS0d,EAAE5gB,OAAX,OAAS4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAAX,iBAAS4gB,EAAE5gB,MAAX,iBAAmB,GAAV4gB,EAAE5gB,MAAQ,EAAnB,GAAsBnC,KAAKwX,MAAMuL,EAAEzd,MAMxD,MAAI,cAAAyd,EAAE1d,MAAF,OAAA0d,EAAE1d,MAAF0d,EAAE1d,KAAF,iBAAA0d,EAAE1d,KAAF,iBAAS,GAAT0d,EAAE1d,KAAO,EAAT,kBAAc0d,EAAEzd,KAAhB,OAAcyd,EAAEzd,KAAFyd,EAAEzd,IAAhB,kBAAcyd,EAAEzd,IAAhB,kBAAuB,GAATyd,EAAEzd,KAAO,EAAvB,GACOsT,EAAGmK,EAAE1d,KAAH,cAAS0d,EAAE5gB,OAAX,OAAS4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAAX,iBAAS4gB,EAAE5gB,MAAX,iBAAmB,GAAV4gB,EAAE5gB,MAAQ,EAAnB,GAAsB4gB,EAAEzd,KAEjC,cAAAyd,EAAE1d,MAAF,OAAA0d,EAAE1d,MAAF0d,EAAE1d,KAAF,iBAAA0d,EAAE1d,KAAF,iBAAS,GAAT0d,EAAE1d,KAAO,EAAT,kBAAc0d,EAAEzd,KAAhB,OAAcyd,EAAEzd,KAAFyd,EAAEzd,IAAhB,kBAAcyd,EAAEzd,IAAhB,kBAAuB,GAATyd,EAAEzd,KAAO,EAAvB,GACOsT,EAAG,UAAD,IAAEmK,EAAE1d,MAAJ,OAAE0d,EAAE1d,MAAF0d,EAAE1d,KAAJ,qBAAE0d,EAAE1d,KAAJ,wBAAE0d,EAAE1d,KAAH,GAAD,cAAU0d,EAAE5gB,OAAZ,OAAU4gB,EAAE5gB,OAAF4gB,EAAE5gB,MAAZ,iBAAU4gB,EAAE5gB,MAAZ,iBAAoB,GAAV4gB,EAAE5gB,MAAQ,EAApB,iBAAwB4gB,EAAEzd,KAA1B,OAAwByd,EAAEzd,KAAFyd,EAAEzd,IAA1B,qBAAwByd,EAAEzd,IAA1B,wBAAwByd,EAAEzd,IAA1B,IAGNoT,EAAQoC,KAGZoJ,SAAS5kB,GACZ,OAAOmZ,EAAEnZ,GAAOia,IAAI8B,MAGjB6C,KAAK5e,GACR,MAAMwjB,EAAUrK,EAAEnZ,GAClB,OAAO+b,KAAK9B,IAAIuJ,EAAQxG,SAGrB8B,YACH,oBAAI/C,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,IAE0B,IAAf+V,KAAKlZ,MADLkZ,KAAKnZ,IAAI,GAAGmc,QAGG,IAAfhD,KAAKlZ,MACLuW,EAAQwB,IAAIxB,EAAQuC,IAAII,KAAM3C,EAAQqC,GAAGM,MAAML,IAAI,KAEnDtC,EAAQwB,IAAImB,MAKpBgD,QACH,iBAAIhD,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACI,OAAO+V,KAAKiB,QACT,GAAmB,IAAfjB,KAAKlZ,MAAa,CACzB,GAAIkZ,KAAKF,GAAGrC,EAAM,EAAG,EAAG,KACpB,OAAOL,EAAEkB,EAAQ,UAAD,IAAC0B,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAagW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAjB,KAGrB,MAAM6e,EAAI,UAAH,IAAG9I,KAAK/V,KAAR,OAAG+V,KAAK/V,KAAL+V,KAAK/V,IAAR,iBAAG+V,KAAK/V,IAAR,iBAAc,GAAX+V,KAAK/V,IAAM,EAAX,GACV,IAAIyU,EAAI,kBACRA,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,kBAAQoK,EAAI,IAAOnkB,KAAKgX,IAAImN,IAAzBpK,GAAKoK,EAAI,IAAOnkB,KAAKgX,IAAImN,GAAzB,GACJpK,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOoK,GAAJpK,EAAIoK,EAAJ,GACJ,MAAMnK,EAAK,UAAH,IAAGmK,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOA,GAAJA,EAAIA,EAAJ,GACX,IAAIlK,EAAKkK,EACLC,EAAK,QAAH,iBAAG,GAAH,iBAAQnK,GAAL,GAAKA,EAAL,GACLoK,EAAM,OAAH,iBAAG,EAAH,iBAAOD,GAAJ,EAAIA,EAAJ,GACNE,EAAK,UAAH,IAAGvK,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOsK,GAAJtK,EAAIsK,EAAJ,GACT,GAAIC,IAAOvK,EACP,OAAOrB,EAAQwB,IAAIH,GAQvB,GALAA,EAAIuK,EACJrK,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLoK,EAAK,SAAH,iBAAG,IAAH,iBAASnK,GAAN,IAAMA,EAAN,GACLoK,EAAM,OAAH,iBAAG,EAAH,iBAAOD,GAAJ,EAAIA,EAAJ,GACNE,EAAK,UAAH,IAAGvK,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOsK,GAAJtK,EAAIsK,EAAJ,GACDC,IAAOvK,EACP,OAAOrB,EAAQwB,IAAIH,GAGvBA,EAAIuK,EACJrK,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLoK,EAAK,UAAH,iBAAG,KAAH,iBAAUnK,GAAP,KAAOA,EAAP,GACL,IAAIkB,EAAK,OAAH,iBAAG,EAAH,iBAAOiJ,GAAJ,EAAIA,EAAJ,GAMT,OALArK,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOoB,GAAJpB,EAAIoB,EAAJ,GACJlB,EAAK,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAQD,GAALC,EAAKD,EAAL,GACLoK,EAAK,UAAH,iBAAG,KAAH,iBAAUnK,GAAP,KAAOA,EAAP,GACLkB,EAAK,OAAH,iBAAG,EAAH,iBAAOiJ,GAAJ,EAAIA,EAAJ,GACLrK,EAAI,UAAH,IAAGA,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAOoB,GAAJpB,EAAIoB,EAAJ,GACGzC,EAAQwB,IAAIH,GAChB,OAAmB,IAAfsB,KAAKlZ,MACLuW,EAAQwB,IAAIxB,EAAQuC,IAAII,KAAM3C,EAAQqC,GAAGM,MAAML,IAAI,KAEnDtC,EAAQwB,IAAImB,MAIpBiD,UACH,OAAOjD,KAAKgD,QAAQtD,KAGjBb,MACH,oBAAImB,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWoT,EAAQoC,KAEA,IAAfO,KAAKlZ,OAAL,cAAoBkZ,KAAK/V,KAAzB,OAAoB+V,KAAK/V,KAAL+V,KAAK/V,IAAzB,kBAAoB+V,KAAK/V,IAAzB,kBAAgC,OAAZ+V,KAAK/V,KAAO,MAAhC,GACOmT,EAAEzY,KAAKka,IAAL,cAASmB,KAAKhW,MAAd,OAASgW,KAAKhW,MAALgW,KAAKhW,KAAd,iBAASgW,KAAKhW,KAAd,iBAAqBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA1B,KACa,IAAf+V,KAAKlZ,MACLyW,EAAG,EAAG,EAAJ,KAAOyC,KAAKhW,KAAOrF,KAAKwX,MAAMxX,KAAKsY,UAAnC,GAAO+C,KAAKhW,KAAOrF,KAAKwX,MAAMxX,KAAKsY,KAAnC,OAAO+C,KAAKhW,KAAOrF,KAAKwX,MAAMxX,KAAKsY,IAAnC,kBAAO+C,KAAKhW,KAAOrF,KAAKwX,MAAMxX,KAAKsY,IAAnC,iBAAwC+C,KAAK/V,KAAtC+V,KAAKhW,KAAOrF,KAAKwX,MAAMxX,KAAKsY,GAAK+C,KAAK/V,IAA7C,IACa,IAAf+V,KAAKlZ,MACLyW,EAAG,EAAG,EAAJ,cAAOyC,KAAKhW,MAAZ,OAAOgW,KAAKhW,MAALgW,KAAKhW,KAAZ,iBAAOgW,KAAKhW,KAAZ,iBAAoBrF,KAAKwX,MAAM,mBAAsB6D,KAAK/V,KAAnD+V,KAAKhW,MAAQrF,KAAKwX,MAAM,mBAAsB6D,KAAK/V,KAA1D,IAEFsT,EAAG,EAAD,cAAIyC,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,iBAAIkZ,KAAKlZ,MAAT,iBAAiB,GAAbkZ,KAAKlZ,MAAQ,EAAjB,iBAAoBkZ,KAAKhW,MAAzB,OAAoBgW,KAAKhW,MAALgW,KAAKhW,KAAzB,iBAAoBgW,KAAKhW,KAAzB,iBAAgCgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAArC,IAIViZ,MACH,OAAOlD,KAAK9B,IAAI,GAGbiF,OACH,GAAmB,IAAfnD,KAAKlZ,MACL,OAAOsW,EAAEzY,KAAKwe,KAAL,cAAUnD,KAAKhW,MAAf,OAAUgW,KAAKhW,MAALgW,KAAKhW,KAAf,iBAAUgW,KAAKhW,KAAf,iBAAsBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA3B,KACN,GAAmB,IAAf+V,KAAKlZ,MACZ,OAAOyW,EAAG,EAAG,EAAJ,cAAO5Y,KAAKwX,MAAM6D,KAAK/V,MAAvB,OAAOtF,KAAKwX,MAAM6D,KAAK/V,MAAhBtF,KAAKwX,MAAM6D,KAAK/V,KAAvB,iBAAOtF,KAAKwX,MAAM6D,KAAK/V,KAAvB,iBAA8B,mBAAvBtF,KAAKwX,MAAM6D,KAAK/V,KAAO,kBAA9B,IACN,CACH,MAAM8b,EAAS1I,EAAQwC,IAAIpC,EAAMuC,KAAKhW,KAAN,cAAYgW,KAAKlZ,OAAjB,OAAYkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAjB,iBAAYkZ,KAAKlZ,MAAjB,iBAAyB,GAAbkZ,KAAKlZ,MAAQ,EAAzB,GAA4BkZ,KAAK/V,KAAMwT,EAAM,EAAG,EAAG,IAGnF,OAFAsI,EAAOjf,MAAP,cAAAif,EAAOjf,OAAP,OAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iBAAAif,EAAOjf,MAAP,iBAAgB,GAAhBif,EAAOjf,MAAS,EAAhB,GACAif,EAAON,YACAM,GAIR3C,OACH,OAAOpD,KAAK9B,IAAI,GAGbmF,OACH,OAAOrD,KAAK9B,IAAL,KAAS,EAAT,iBAAS,EAAT,iBAAa,GAAJ,EAAI,EAAb,IAMJsF,QAAQF,EAAS,EAAGC,EAAyB9F,EAAM,EAAG,EAAG,IAE5D,GAAe,IAAX6F,EACA,OAAOjG,EAAQa,IAAI8B,KAAMuD,GAG7B,GAAe,IAAXD,EACA,OAAO,IAAIjG,EAAQkG,GAGvB,GAAIvD,KAAKqB,GAAGhE,EAAQoC,MAChB,OAAOpC,EAAQoC,KAGnB,GAAIO,KAAKqB,GAAL,KAAS,EAAT,qBAAS,EAAT,wBAAS,EAAT,IACA,OAAOhE,EAAQa,IAAI8B,KAAMuD,GAG7B,GAAID,IAAWve,OAAO2b,kBAAmB,CACrC,MAAMwI,EAAWlJ,KAAK/E,WAEtB,GAAI,UAAQ,IAARiO,GAAQ,OAARA,GAAAA,EAAQ,kBAARA,EAAQ,kBAAI,mBAAZA,GAAY,kBAAZ,kBAAsCA,GAAtC,OAAsCA,GAAAA,EAAtC,kBAAsCA,EAAtC,kBAAkD,oBAAZA,GAAY,mBAAlD,GAA0E,CAE1E,iBAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAe,mBAAXA,EAAW,kBAAf,GACI,OAAO,IAAI7L,EAAQ1Y,KAAKsY,GAG5B,MAAMkM,EAAQ9L,EAAQqC,GAAGM,MAAMe,MAC/B,OAAOoI,EAAMpF,WAAWlE,IAAIsJ,GACzB,MAAI,UAAJ,IAAID,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAe,mBAAXA,EAAW,kBAAX,GAEA,IAAI7L,EAAQtY,OAAO2b,mBAInBrD,EAAQgL,KAMvB,GAAIrI,KAAKqB,GAAGhE,EAAQmC,OAAQ,CACxB,IAAIuG,EAASphB,KAAKqZ,IAAL,KAAUsF,EAAS,SAAnB,GAAUA,EAAS,IAAnB,OAAUA,EAAS,GAAnB,kBAAUA,EAAS,GAAnB,iBAAwB,IAAdA,EAAS,GAAK,EAAxB,IAIb,MAHA,cAAIyC,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAa,GAATA,EAAS,EAAb,KACIA,EAAS,OAAH,iBAAG,EAAH,iBAAOA,GAAJ,EAAIA,EAAJ,IAEN,IAAI1I,EAAQ0I,GAGvB,iBAAIzC,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAa,GAATA,EAAS,EAAb,GACI,OAAOjG,EAAQsG,YAAYJ,EAASvD,KAA7B,cAAoCsD,GAApC,OAAoCA,GAAAA,EAApC,qBAAoCA,EAApC,wBAAoCA,EAApC,IAGXC,EAAUnG,EAAEmG,GACZ,MAAM6F,EAAY9F,EAClBA,EAAS3e,KAAK4Z,MAAM+E,GACpB,MAAM+F,EAAa,UAAH,IAAGD,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAe9F,GAAZ8F,EAAY9F,EAAZ,GAEnB,GAAItD,KAAK5E,GAAGiC,EAAQmC,QAAUQ,KAAKuB,IAAI,mBAAyB,CAE5D+B,EAAS3e,KAAKG,IAAI,IAAOwe,GACzB,IAAK,IAAI1G,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoByG,GAAJ1G,EAAI0G,EAApB,iBAA8B1G,GAA9B,OAA8BA,GAA9B,kBAA8BA,GAAAA,EAA9B,OAAAC,IAAA,qBAA8BD,EAA9B,OAAAC,IAAA,yBAA8BD,EAA9B,GAAiC,CAC7B,MAAM0M,EAAuB/F,EAG7B,GAFAA,EAAUvD,KAAK9B,IAAIqF,GAEf+F,EAAYjI,GAAGkC,GACf,OAAOA,EAGf,iBAAI8F,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAkB,MAAdA,EAAJ,GAAqB,CACjB,MAAME,EAAevJ,KAAK9B,IAAIqF,GAC9B,OAAOA,EAAQ3D,IAAR,KAAY,EAAZ,iBAAY,EAAZ,iBAAgByJ,GAAJ,EAAIA,EAAhB,IAA4BxiB,IAAI0iB,EAAa3J,IAAIyJ,IAE5D,OAAO9F,EAIX,cAAI8F,GAAJ,OAAIA,GAAAA,EAAJ,mBAAIA,EAAJ,mBAAmB,OAAfA,EAAJ,KACQ9F,EAAQlC,GAAGhE,EAAQoC,MAEfO,KAAK5E,GAAG,IACRmI,EAAUvD,KAAK9B,IAAImL,IAEnB9F,EAAUnG,EAAEC,EAAQmM,iBAAiBxJ,KAAK/E,WAAYoO,IAGlDrJ,KAAKF,GAAG,KACRyD,EAAUA,EACL5D,IAAI,GACJC,IAAII,KAAK+H,MAAM,IACfvC,KAAK,KAKdjC,EADAvD,KAAKqB,GAAG,IACEkC,EAAQK,WAAWyF,GAEnB9F,EAAQM,SAASwF,EAAYrJ,OAKnD,IAAK,IAAIpD,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoByG,GAAJ1G,EAAI0G,EAApB,iBAA8B1G,GAA9B,OAA8BA,GAA9B,kBAA8BA,GAAAA,EAA9B,OAAAC,IAAA,qBAA8BD,EAA9B,OAAAC,IAAA,yBAA8BD,EAA9B,GAAiC,CAG7B,GAFA2G,EAAUvD,KAAK9B,IAAIqF,GAEf,cAACve,SAASue,EAAQzc,QAAlB,OAAC9B,SAASue,EAAQzc,QAAjB9B,SAASue,EAAQzc,OAAlB,iBAAC9B,SAASue,EAAQzc,OAAlB,oBAAC9B,SAASue,EAAQzc,OAAlB,kBAA6B9B,SAASue,EAAQtZ,MAA9C,OAA6BjF,SAASue,EAAQtZ,MAAjBjF,SAASue,EAAQtZ,KAA9C,iBAA6BjF,SAASue,EAAQtZ,KAA9C,oBAA6BjF,SAASue,EAAQtZ,KAA9C,GACA,OAAOsZ,EAAQkC,YAGnB,QAAIlC,EAAQzc,MAAQkZ,KAAKlZ,aAAzB,GAAIyc,EAAQzc,MAAQkZ,KAAKlZ,QAAzB,OAAIyc,EAAQzc,MAAQkZ,KAAKlZ,OAAzB,kBAAIyc,EAAQzc,MAAQkZ,KAAKlZ,OAAzB,iBAAiC,GAA7Byc,EAAQzc,MAAQkZ,KAAKlZ,MAAQ,EAAjC,GACI,OAAO2W,EAAM8F,EAAQvZ,KAAT,cAAeuZ,EAAQzc,OAAvB,OAAeyc,EAAQzc,OAARyc,EAAQzc,MAAvB,iBAAeyc,EAAQzc,MAAvB,iBAAgCwc,EAAS1G,EAAI,GAA9B2G,EAAQzc,OAASwc,EAAS1G,EAAI,GAA7C,GAAiD2G,EAAQtZ,KAGzE,iBAAI2S,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAQ,KAAJA,EAAI,IAAR,GACI,OAAO2G,EAGf,OAAOA,EAIJE,YAAYH,EAAS,EAAGC,EAAU9F,EAAM,EAAG,EAAG,IACjD,OAAOuC,KAAKwD,QAAQF,EAAQC,GAKzBI,YAAYlB,EAAsB,GAAIiB,EAAQ,GACjD,iBAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAY,GAARA,EAAQ,EAAZ,GACI,OAAOrG,EAAQmG,QAAQf,EAAhB,cAAuBiB,GAAvB,OAAuBA,GAAAA,EAAvB,qBAAuBA,EAAvB,wBAAuBA,EAAvB,GAA8B1D,MAGzCyC,EAAOrF,EAAEqF,GACT,IAAIsD,EAAS3I,EAAE4C,MACf,MAAMyJ,EAAY/F,EAClBA,EAAQ/e,KAAK4Z,MAAMmF,GACnB,MAAMgG,EAAW,UAAH,IAAGD,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAe/F,GAAZ+F,EAAY/F,EAAZ,GACjB,QAAIqC,EAAOjf,MAAQ2b,EAAK3b,aAAxB,GAAIif,EAAOjf,MAAQ2b,EAAK3b,QAAxB,OAAIif,EAAOjf,MAAQ2b,EAAK3b,OAAxB,kBAAIif,EAAOjf,MAAQ2b,EAAK3b,OAAxB,iBAAgC,GAA5Bif,EAAOjf,MAAQ2b,EAAK3b,MAAQ,EAAhC,GAAmC,CAC/B,MAAM6iB,EAAYhlB,KAAKG,IAAI4e,EAAT,KAAgBqC,EAAOjf,MAAQ2b,EAAK3b,aAApC,GAAgBif,EAAOjf,MAAQ2b,EAAK3b,QAApC,OAAgBif,EAAOjf,MAAQ2b,EAAK3b,OAApC,kBAAgBif,EAAOjf,MAAQ2b,EAAK3b,OAApC,iBAA4C,GAA5Bif,EAAOjf,MAAQ2b,EAAK3b,MAAQ,EAA5C,IAClB4c,EAAK,cAALA,GAAK,OAALA,GAAAA,EAAK,iBAALA,EAAK,iBAAIiG,GAATjG,EAASiG,EAAJ,GACL5D,EAAOjf,MAAP,cAAAif,EAAOjf,OAAP,OAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iBAAAif,EAAOjf,MAAP,iBAAgB6iB,GAAhB5D,EAAOjf,MAAS6iB,EAAhB,GAGJ,IAAK,IAAI/M,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoB6G,GAAJ9G,EAAI8G,EAApB,iBAA6B9G,GAA7B,OAA6BA,GAA7B,kBAA6BA,GAAAA,EAA7B,OAAAC,IAAA,qBAA6BD,EAA7B,OAAAC,IAAA,yBAA6BD,EAA7B,GAAgC,CAG5B,GAFAmJ,EAASA,EAAOpK,IAAI8G,GAEhB,cAACzd,SAAS+gB,EAAOjf,QAAjB,OAAC9B,SAAS+gB,EAAOjf,QAAhB9B,SAAS+gB,EAAOjf,OAAjB,iBAAC9B,SAAS+gB,EAAOjf,OAAjB,oBAAC9B,SAAS+gB,EAAOjf,OAAjB,kBAA4B9B,SAAS+gB,EAAO9b,MAA5C,OAA4BjF,SAAS+gB,EAAO9b,MAAhBjF,SAAS+gB,EAAO9b,KAA5C,iBAA4BjF,SAAS+gB,EAAO9b,KAA5C,oBAA4BjF,SAAS+gB,EAAO9b,KAA5C,GACA,OAAO8b,EAAON,YAGlB,iBAAI7I,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAQ,KAAJA,EAAI,IAAR,GACI,OAAOmJ,EAaf,MARI,UAAQ,IAAR2D,GAAQ,OAARA,GAAAA,EAAQ,iBAARA,EAAQ,iBAAG,GAAXA,EAAW,EAAX,kBAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,iBAAgBA,EAAhB,iBAA2B,GAAXA,EAAW,EAA3B,KAEI3D,EADAtD,EAAKpB,GAAG,IACC0E,EAAOnC,WAAP,cAAmB8F,GAAnB,OAAmBA,GAAAA,EAAnB,qBAAmBA,EAAnB,wBAAmBA,EAAnB,IAEA3D,EAAOlC,SAAP,cAAiB6F,GAAjB,OAAiBA,GAAAA,EAAjB,qBAAiBA,EAAjB,wBAAiBA,EAAjB,GAA2BjH,IAIrCsD,EAKJjC,KAAKrB,EAAsB,IAK9B,GAJAA,EAAOrF,EAAEqF,GAILA,EAAKlB,IAAIlE,EAAQmC,OACjB,OAAOnC,EAAQgL,KAGnB,GAAI5F,EAAKpB,GAAGhE,EAAQoC,MAChB,OAAOpC,EAAQgL,KAGnB,GAAI5F,EAAK3C,GAAGzC,EAAQoC,MAChB,OAAIO,KAAKqB,GAAGhE,EAAQoC,MACTpC,EAAQmC,MAEfQ,KAAKqB,GAAGhE,EAAQmC,OACTnC,EAAQuM,QAKZvM,EAAQgL,KAGnB,GAAI,cAAArI,KAAK/V,KAAL,OAAA+V,KAAK/V,KAAL+V,KAAK/V,IAAL,iBAAA+V,KAAK/V,IAAL,iBAAW,GAAX+V,KAAK/V,IAAM,EAAX,IAAgB+V,KAAKqB,GAAGhE,EAAQmC,OAChC,OAAOnC,EAAQuM,QAGnB,IAAI7D,EAAS,EACT8D,EAAOzM,EAAE4C,MACb,QAAI6J,EAAK/iB,MAAQ2b,EAAK3b,aAAtB,GAAI+iB,EAAK/iB,MAAQ2b,EAAK3b,QAAtB,OAAI+iB,EAAK/iB,MAAQ2b,EAAK3b,OAAtB,kBAAI+iB,EAAK/iB,MAAQ2b,EAAK3b,OAAtB,iBAA8B,GAA1B+iB,EAAK/iB,MAAQ2b,EAAK3b,MAAQ,EAA9B,GAAiC,CAC7B,MAAM6iB,EAAY,KAAAE,EAAK/iB,MAAQ2b,EAAK3b,aAArB,GAAG+iB,EAAK/iB,MAAQ2b,EAAK3b,QAArB,OAAG+iB,EAAK/iB,MAAQ2b,EAAK3b,OAArB,kBAAG+iB,EAAK/iB,MAAQ2b,EAAK3b,OAArB,iBAA6B,GAA1B+iB,EAAK/iB,MAAQ2b,EAAK3b,MAAQ,EAA1B,GAClBif,EAAM,cAANA,GAAM,OAANA,GAAAA,EAAM,iBAANA,EAAM,iBAAI4D,GAAV5D,EAAU4D,EAAJ,GACNE,EAAK/iB,MAAL,cAAA+iB,EAAK/iB,OAAL,OAAA+iB,EAAK/iB,OAAL+iB,EAAK/iB,MAAL,iBAAA+iB,EAAK/iB,MAAL,iBAAc6iB,GAAdE,EAAK/iB,MAAS6iB,EAAd,GAGJ,IAAK,IAAI/M,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoB,KAAJD,EAAI,IAApB,iBAA2BA,GAA3B,OAA2BA,GAA3B,kBAA2BA,GAAAA,EAA3B,OAAAC,IAAA,qBAA2BD,EAA3B,OAAAC,IAAA,yBAA2BD,EAA3B,GACI,GAAIiN,EAAK/J,GAAGzC,EAAQmC,OAChBqK,EAAOxM,EAAQa,IAAIuE,EAAMoH,GACzB9D,EAAM,cAANA,GAAM,OAANA,GAAAA,EAAM,iBAANA,EAAM,iBAAI,GAAVA,EAAU,EAAJ,OACH,IAAI8D,EAAKtI,IAAIlE,EAAQoC,MACxB,OAAOrC,EAAE,UAAD,IAAC2I,GAAD,OAACA,GAAAA,EAAD,iBAACA,EAAD,iBAAU1I,EAAQyM,cAAcrH,EAAKxH,WAAY4O,EAAK5O,aAArD8K,EAAS1I,EAAQyM,cAAcrH,EAAKxH,WAAY4O,EAAK5O,YAArD,IAET8K,EAAM,cAANA,GAAM,OAANA,GAAAA,EAAM,iBAANA,EAAM,iBAAI,GAAVA,EAAU,EAAJ,GACN8D,EAAOxM,EAAQ1B,IAAIkO,EAAMpH,GAGjC,OAAOrF,EAAE2I,GAIc,qBAACtD,EAAca,GAEtC,oBAAIb,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAW,IAAPA,EAAO,GAAX,GACI,cAAOa,GAAP,OAAOA,GAAAA,EAAP,iBAAOA,EAAP,iBAAgB,GAATA,EAAS,EAAhB,GAEGjG,EAAQ0M,iBAAiBtH,EAAMa,EAAQnG,GAGpB,wBAACsF,EAAca,GACzC,OAAOjG,EAAQ0M,iBAAiBtH,EAAMa,EAAQpG,GAGpB,wBAACuF,EAAca,EAAgB0G,GAEzD1G,EAAM,cAANA,GAAM,OAANA,GAAAA,EAAM,iBAANA,EAAM,iBAAI,OAAVA,EAAM,GACN,cAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAa,GAATA,EAAS,EAAb,KACIA,EAAS,GAEb,cAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAa,IAATA,EAAS,GAAb,KACIA,EAAS,IAGb,cAAIb,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAW,GAAPA,EAAO,EAAX,KACIA,EAAO,GAEX,cAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAW,IAAPA,EAAO,GAAX,KACIA,EAAO,IAEX,IAAIwH,EAAQ,EACRC,EAAQ,EAIZ,IAAK,IAAItN,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoBG,EAAiBxE,QAArBoE,EAAII,EAAiBxE,OAArC,iBAA+CoE,GAA/C,OAA+CA,GAA/C,kBAA+CA,GAAAA,EAA/C,OAAAC,IAAA,qBAA+CD,EAA/C,OAAAC,IAAA,yBAA+CD,EAA/C,GAAkD,CAC9C,iBAAII,EAAiBJ,IAArB,OAAII,EAAiBJ,IAAjBI,EAAiBJ,GAArB,kBAAII,EAAiBJ,GAArB,kBAA2B6F,GAAvBzF,EAAiBJ,IAAM6F,EAA3B,GAAiC,CAE7BwH,EAAQD,EAAKpN,GAAGjY,KAAK0b,MAAMiD,IAC3B4G,EAAQF,EAAKpN,GAAGjY,KAAKoZ,KAAKuF,IAC1B,MACG,GAAI,cAAAtG,EAAiBJ,IAAjB,OAAAI,EAAiBJ,IAAjBI,EAAiBJ,GAAjB,iBAAAI,EAAiBJ,GAAjB,iBAAsB6F,GAAtBzF,EAAiBJ,GAAK6F,EAAtB,kBAA8BzF,EAAiBJ,EAAI,IAAnD,OAA8BI,EAAiBJ,EAAI,IAArBI,EAAiBJ,EAAI,GAAnD,iBAA8BI,EAAiBJ,EAAI,GAAnD,iBAAwD6F,GAA1BzF,EAAiBJ,EAAI,GAAK6F,EAAxD,GAA8D,CAErE,MAAM0H,EAAQ,KACT1H,EAAOzF,EAAiBJ,UADf,GACT6F,EAAOzF,EAAiBJ,KADf,OACT6F,EAAOzF,EAAiBJ,IADf,kBACT6F,EAAOzF,EAAiBJ,IADf,iBACsBI,EAAiBJ,EAAI,GAAKI,EAAiBJ,KAA1E6F,EAAOzF,EAAiBJ,KAAOI,EAAiBJ,EAAI,GAAKI,EAAiBJ,IADjE,GAEdqN,EAAK,KACDD,EAAKpN,GAAGjY,KAAK0b,MAAMiD,KAAY,EAAI6G,UADlC,GACDH,EAAKpN,GAAGjY,KAAK0b,MAAMiD,KAAY,EAAI6G,KADlC,OACDH,EAAKpN,GAAGjY,KAAK0b,MAAMiD,KAAY,EAAI6G,IADlC,kBACDH,EAAKpN,GAAGjY,KAAK0b,MAAMiD,KAAY,EAAI6G,IADlC,iBAEDH,EAAKpN,EAAI,GAAGjY,KAAK0b,MAAMiD,IAAW6G,GADlCH,EAAKpN,GAAGjY,KAAK0b,MAAMiD,KAAY,EAAI6G,GACnCH,EAAKpN,EAAI,GAAGjY,KAAK0b,MAAMiD,IAAW6G,EAFjC,GAGLD,EAAK,KACDF,EAAKpN,GAAGjY,KAAKoZ,KAAKuF,KAAY,EAAI6G,UADjC,GACDH,EAAKpN,GAAGjY,KAAKoZ,KAAKuF,KAAY,EAAI6G,KADjC,OACDH,EAAKpN,GAAGjY,KAAKoZ,KAAKuF,KAAY,EAAI6G,IADjC,kBACDH,EAAKpN,GAAGjY,KAAKoZ,KAAKuF,KAAY,EAAI6G,IADjC,iBAEDH,EAAKpN,EAAI,GAAGjY,KAAKoZ,KAAKuF,IAAW6G,GADjCH,EAAKpN,GAAGjY,KAAKoZ,KAAKuF,KAAY,EAAI6G,GAClCH,EAAKpN,EAAI,GAAGjY,KAAKoZ,KAAKuF,IAAW6G,EAFhC,GAGL,OAGR,MAAMC,EAAO,UAAH,IAAG9G,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAY3e,KAAK0b,MAAMiD,IAApBA,EAAS3e,KAAK0b,MAAMiD,GAApB,GACPyC,EAAS,KAAAkE,GAAS,EAAIG,UAAhB,GAAGH,GAAS,EAAIG,KAAhB,OAAGH,GAAS,EAAIG,IAAhB,kBAAGH,GAAS,EAAIG,IAAhB,iBAAwBF,EAAQE,GAA7BH,GAAS,EAAIG,GAAQF,EAAQE,EAA7B,GACf,OAAOrE,EAKJnC,WAAWnf,GACdA,EAAO4Y,EAAQC,kBAAkB7Y,GAAMwW,WACvC,MAAM8K,EAAS3I,EAAE4C,MACjB,iBAAIvb,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAY,GAARA,GAAQ,EAAZ,GAAe,CAEP,cAAAshB,EAAO9b,KAAP,OAAA8b,EAAO9b,KAAP8b,EAAO9b,IAAP,iBAAA8b,EAAO9b,IAAP,iBAAa,GAAb8b,EAAO9b,IAAM,EAAb,kBAAkB8b,EAAOjf,OAAzB,OAAkBif,EAAOjf,OAAPif,EAAOjf,MAAzB,iBAAkBif,EAAOjf,MAAzB,iBAAiC,GAAfif,EAAOjf,MAAQ,EAAjC,IACAif,EAAO/b,KAAO,EACd+b,EAAO9b,IAAM,EACb8b,EAAOjf,MAAQ,GACRif,EAAO/b,OAAP,KAAiB,EAAjB,qBAAiB,EAAjB,wBAAiB,EAAjB,kBAAsB+b,EAAOjf,OAA7B,OAAsBif,EAAOjf,OAAPif,EAAOjf,MAA7B,kBAAsBif,EAAOjf,MAA7B,kBAAsC,MAAhBif,EAAOjf,MAA7B,KAEPif,EAAO/b,KAAO,EACd+b,EAAO9b,IAAP,cAAc8b,EAAO9b,KAArB,OAAc8b,EAAO9b,KAAP8b,EAAO9b,IAArB,qBAAc8b,EAAO9b,IAArB,wBAAc8b,EAAO9b,IAArB,IAEJ,MAAM4Z,EAAWlf,KAAK4Z,MAAM9Z,GAC5BA,EAAI,cAAJA,GAAI,OAAJA,GAAAA,EAAI,iBAAJA,EAAI,iBAAIof,GAARpf,EAAQof,EAAJ,GACJkC,EAAOjf,MAAP,cAAAif,EAAOjf,OAAP,OAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iBAAAif,EAAOjf,MAAP,iBAAgB+c,GAAhBkC,EAAOjf,MAAS+c,EAAhB,GAEJ,iBAAIpf,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,mBAAa,GAATA,IAAS,EAAb,GAAgB,CACZ,MAAMof,EAAWlf,KAAK4Z,MAAM9Z,GAG5B,GAFAA,EAAI,cAAJA,GAAI,OAAJA,GAAAA,EAAI,iBAAJA,EAAI,iBAAIof,GAARpf,EAAQof,EAAJ,GACJkC,EAAOjf,MAAP,cAAAif,EAAOjf,OAAP,OAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iBAAAif,EAAOjf,MAAP,iBAAgB+c,GAAhBkC,EAAOjf,MAAS+c,EAAhB,GACA,cAAIkC,EAAOjf,OAAX,OAAIif,EAAOjf,OAAPif,EAAOjf,MAAX,iBAAIif,EAAOjf,MAAX,iBAAmB,GAAfif,EAAOjf,MAAQ,EAAnB,GACI,IAAK,IAAI8V,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoB,KAAJD,EAAI,IAApB,iBAA2BA,GAA3B,OAA2BA,GAA3B,kBAA2BA,GAAAA,EAA3B,OAAAC,IAAA,qBAA2BD,EAA3B,OAAAC,IAAA,yBAA2BD,EAA3B,GAA8B,CAG1B,GAFA,eAAAmJ,EAAOjf,OAAP,OAAAif,EAAOjf,OAAP,kBAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iCAAAif,EAAOjf,MAAP,mCAAAif,EAAOjf,SAAP,GACAif,EAAO9b,IAAMtF,KAAKwX,MAAM4J,EAAO9b,KAC/B,cAAKjF,SAAS+gB,EAAO9b,MAArB,OAAKjF,SAAS+gB,EAAO9b,MAAhBjF,SAAS+gB,EAAO9b,KAArB,iBAAKjF,SAAS+gB,EAAO9b,KAArB,oBAAKjF,SAAS+gB,EAAO9b,KAArB,GASI,OAPoB,IAAhB8b,EAAO/b,OACP+b,EAAO/b,KAAO,GAGlB,cAAI+b,EAAOjf,OAAX,OAAIif,EAAOjf,OAAPif,EAAOjf,MAAX,iBAAIif,EAAOjf,MAAX,iBAAmB,GAAfif,EAAOjf,MAAQ,EAAnB,KACIif,EAAOjf,MAAQ,GAEZif,EAAON,YAElB,iBAAIM,EAAOjf,OAAX,OAAIif,EAAOjf,OAAPif,EAAOjf,MAAX,kBAAIif,EAAOjf,MAAX,kBAAoB,GAAhBif,EAAOjf,OAAS,EAApB,GACI,OAMhB,oBAAOif,EAAOjf,OAAd,OAAOif,EAAOjf,OAAPif,EAAOjf,MAAd,iBAAOif,EAAOjf,MAAd,iBAAsB,GAAfif,EAAOjf,MAAQ,EAAtB,GACI,eAAAif,EAAOjf,OAAP,OAAAif,EAAOjf,OAAP,kBAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iCAAAif,EAAOjf,MAAP,mCAAAif,EAAOjf,SAAP,GACAif,EAAO9b,IAAMtF,KAAKwX,MAAM4J,EAAO9b,KAanC,OAVoB,IAAhB8b,EAAO/b,OACP+b,EAAO/b,KAAO,EACK,IAAf+b,EAAO9b,KAAP,cAAoB8b,EAAOjf,OAA3B,OAAoBif,EAAOjf,OAAPif,EAAOjf,MAA3B,kBAAoBif,EAAOjf,MAA3B,kBAAoC,GAAhBif,EAAOjf,OAAS,EAApC,KACAif,EAAOjf,MAAP,cAAAif,EAAOjf,OAAP,OAAAif,EAAOjf,OAAPif,EAAOjf,MAAP,iBAAAif,EAAOjf,MAAP,iBAAgB,GAAhBif,EAAOjf,MAAS,EAAhB,GACAif,EAAO9b,IAAM,IAGrB8b,EAAON,YAGP,cAAIhhB,GAAJ,OAAIA,GAAAA,EAAJ,mBAAIA,EAAJ,mBAAa,OAATA,EAAJ,GACWshB,EAAOlC,SAASpf,EAAM,IAG1BshB,EAIJlC,SAASpf,EAAcge,GAC1B,MAAM4H,EAAWrK,KAAK8D,KAAKrB,GAAMxH,WAC3BqP,EAAW,UAAH,IAAGD,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAc5lB,GAAX4lB,EAAW5lB,EAAX,GACjB,oBAAI6lB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAgB,GAAZA,GAAY,EAAhB,GACWjN,EAAQmG,QAAQf,EAAM6H,GACtB,UAAJ,IAAKvlB,OAAOC,SAASslB,IAArB,OAAKvlB,OAAOC,SAASslB,IAAhBvlB,OAAOC,SAASslB,GAArB,iBAAKvlB,OAAOC,SAASslB,GAArB,oBAAKvlB,OAAOC,SAASslB,GAAjB,GACAjN,EAAQgL,KACR,UAAJ,IAAIiC,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,mBAAiB,GAAbA,IAAa,EAAb,GACAjN,EAAQ1B,IAAI0B,EAAQmG,QAAQf,EAAhB,cAAsB6H,GAAtB,OAAsBA,GAAAA,EAAtB,iBAAsBA,EAAtB,iBAAiC,GAAXA,EAAW,EAAjC,IAAqC7H,GAEjDpF,EAAQ1B,IAAI0B,EAAQ1B,IAAI0B,EAAQmG,QAAQf,EAAhB,cAAsB6H,GAAtB,OAAsBA,GAAAA,EAAtB,iBAAsBA,EAAtB,iBAAiC,GAAXA,EAAW,EAAjC,IAAqC7H,GAAOA,GAO5EsB,WACH,GAAI/D,KAAKF,GAAL,KAAS,kBAAT,qBAAS,kBAAT,wBAAS,kBAAT,IACA,MAAMja,MAAM,8DACT,GAAI,UAAJ,IAAIma,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAX,GACP,OAAOmT,EAAE2B,EAAWiB,KAAK/E,aACtB,GAAmB,IAAf+E,KAAKlZ,MACZ,OAAOsW,EAAE2B,EAAW,UAAD,IAACiB,KAAKhW,MAAN,OAACgW,KAAKhW,MAALgW,KAAKhW,KAAN,iBAACgW,KAAKhW,KAAN,iBAAagW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAAjB,KACjB,GAAmB,IAAf+V,KAAKlZ,MACZ,OAAOuY,EAAWW,MACf,GAAmB,IAAfA,KAAKlZ,MACZ,OAAOuY,EAAWW,MAEtB,iBAAIA,KAAKlZ,OAAT,OAAIkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAT,kBAAIkZ,KAAKlZ,MAAT,kBAAkB,GAAdkZ,KAAKlZ,OAAS,EAAlB,GACI,OAAO2W,EAAMuC,KAAKhW,KAAN,cAAYgW,KAAKlZ,OAAjB,OAAYkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAjB,iBAAYkZ,KAAKlZ,MAAjB,iBAAyB,GAAbkZ,KAAKlZ,MAAQ,EAAzB,GAA4BkZ,KAAK/V,KAGjD,KAAM,mCAMH+Z,QACH,GAAI,cAAAhE,KAAKhW,MAAL,OAAAgW,KAAKhW,MAALgW,KAAKhW,KAAL,kBAAAgW,KAAKhW,KAAL,kBAAa,MAAbgW,KAAKhW,KAAL,kBAAkBgW,KAAKlZ,OAAvB,OAAkBkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAvB,kBAAkBkZ,KAAKlZ,MAAvB,kBAAgC,GAAdkZ,KAAKlZ,OAAS,EAAhC,GACA,OAAO2W,EAAMuC,KAAKhW,KAAN,cAAYgW,KAAKlZ,OAAjB,OAAYkZ,KAAKlZ,OAALkZ,KAAKlZ,MAAjB,iBAAYkZ,KAAKlZ,MAAjB,iBAAyB,GAAbkZ,KAAKlZ,MAAQ,EAAzB,GAA4BkZ,KAAK/V,KAEjD,MAAMsgB,EAAMvK,KAAKN,KACjB,OAAO6K,EAAI1K,IAAI0K,EAAIxG,YAqLhBE,QAAQX,EAAS,EAAGC,EAAyB9F,EAAM,EAAG,EAAG,IAC5D8F,EAAUnG,EAAEmG,GACZ,MAAM6F,EAAY9F,EAClBA,EAAS3e,KAAK4Z,MAAM+E,GACpB,MAAM+F,EAAa,UAAH,IAAGD,GAAH,OAAGA,GAAAA,EAAH,iBAAGA,EAAH,iBAAe9F,GAAZ8F,EAAY9F,EAAZ,GAGnB,cAAI+F,GAAJ,OAAIA,GAAAA,EAAJ,mBAAIA,EAAJ,mBAAmB,OAAfA,EAAJ,KACQ9F,EAAQlC,GAAGhE,EAAQoC,OACnB,eAAE6D,GAAF,OAAEA,GAAF,kBAAEA,GAAAA,EAAF,gCAAEA,EAAF,oCAAEA,GAAF,GACAC,EAAU,IAAIlG,EAAQgM,IAGlB9F,EADAvD,KAAKqB,GAAG,IACEkC,EAAQK,WAAWyF,GAEnB9F,EAAQM,SAASwF,EAAYrJ,OAKnD,IAAK,IAAIpD,EAAI,EAAb,cAAgBA,GAAhB,OAAgBA,GAAAA,EAAhB,OAAAC,IAAA,MAAgBD,EAAhB,OAAAC,IAAA,MAAoByG,GAAJ1G,EAAI0G,EAApB,iBAA8B1G,GAA9B,OAA8BA,GAA9B,kBAA8BA,GAAAA,EAA9B,OAAAC,IAAA,qBAA8BD,EAA9B,OAAAC,IAAA,yBAA8BD,EAA9B,GAAiC,CAG7B,GAFA2G,EAAUvD,KAAKwD,QAAQD,EAAQtI,YAE3B,cAACjW,SAASue,EAAQzc,QAAlB,OAAC9B,SAASue,EAAQzc,QAAjB9B,SAASue,EAAQzc,OAAlB,iBAAC9B,SAASue,EAAQzc,OAAlB,oBAAC9B,SAASue,EAAQzc,OAAlB,kBAA6B9B,SAASue,EAAQtZ,MAA9C,OAA6BjF,SAASue,EAAQtZ,MAAjBjF,SAASue,EAAQtZ,KAA9C,iBAA6BjF,SAASue,EAAQtZ,KAA9C,oBAA6BjF,SAASue,EAAQtZ,KAA9C,GACA,OAAOsZ,EAAQkC,YAGnB,iBAAI7I,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAQ,IAAJA,EAAI,GAAR,GACI,OAAO2G,EAIf,OAAOA,EAIJiH,MACH,oBAAIxK,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACW+V,KAEQ,IAAfA,KAAKlZ,MACEsW,EAAEzY,KAAK6lB,IAAL,cAASxK,KAAKhW,MAAd,OAASgW,KAAKhW,MAALgW,KAAKhW,KAAd,iBAASgW,KAAKhW,KAAd,iBAAqBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA1B,KAENwT,EAAM,EAAG,EAAG,GAGhBgN,MACH,oBAAIzK,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWoT,EAAQoC,KAEA,IAAfO,KAAKlZ,MACEsW,EAAEzY,KAAK8lB,IAAL,cAASzK,KAAKhW,MAAd,OAASgW,KAAKhW,MAALgW,KAAKhW,KAAd,iBAASgW,KAAKhW,KAAd,iBAAqBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA1B,KAENwT,EAAM,EAAG,EAAG,GAGhBiN,MACH,oBAAI1K,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACW+V,KAEQ,IAAfA,KAAKlZ,MACEsW,EAAEzY,KAAK+lB,IAAL,cAAS1K,KAAKhW,MAAd,OAASgW,KAAKhW,MAALgW,KAAKhW,KAAd,iBAASgW,KAAKhW,KAAd,iBAAqBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA1B,KAENwT,EAAM,EAAG,EAAG,GAGhBkN,OACH,oBAAI3K,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACW+V,KAEQ,IAAfA,KAAKlZ,MACEsW,EAAEzY,KAAKgmB,KAAL,cAAU3K,KAAKhW,MAAf,OAAUgW,KAAKhW,MAALgW,KAAKhW,KAAf,iBAAUgW,KAAKhW,KAAf,iBAAsBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA3B,KAENwT,EAAM1Y,OAAO4V,IAAK5V,OAAO4V,IAAK5V,OAAO4V,KAGzCiQ,OACH,oBAAI5K,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACWmT,EAAEzY,KAAKimB,KAAK5K,KAAK/E,aAET,IAAf+E,KAAKlZ,MACEsW,EAAEzY,KAAKimB,KAAL,cAAU5K,KAAKhW,MAAf,OAAUgW,KAAKhW,MAALgW,KAAKhW,KAAf,iBAAUgW,KAAKhW,KAAf,iBAAsBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA3B,KAENwT,EAAM1Y,OAAO4V,IAAK5V,OAAO4V,IAAK5V,OAAO4V,KAGzCkQ,OACH,oBAAI7K,KAAK/V,KAAT,OAAI+V,KAAK/V,KAAL+V,KAAK/V,IAAT,iBAAI+V,KAAK/V,IAAT,iBAAe,GAAX+V,KAAK/V,IAAM,EAAf,GACW+V,KAEQ,IAAfA,KAAKlZ,MACEsW,EAAEzY,KAAKkmB,KAAL,cAAU7K,KAAKhW,MAAf,OAAUgW,KAAKhW,MAALgW,KAAKhW,KAAf,iBAAUgW,KAAKhW,KAAf,iBAAsBgW,KAAK/V,KAAjB+V,KAAKhW,KAAOgW,KAAK/V,IAA3B,KAENmT,EAAEzY,KAAKkmB,KAAL,cAAU7K,KAAKhW,MAAf,OAAUgW,KAAKhW,MAALgW,KAAKhW,KAAf,iBAAUgW,KAAKhW,KAAf,iBAAsB,mBAAZgW,KAAKhW,KAAf,KAGN8gB,OACH,OAAO9K,KAAKnB,MACPc,IAAIK,KAAKsH,SAASzI,OAClBgB,IAAI,GAGNkL,OACH,OAAO/K,KAAKnB,MACPhY,IAAImZ,KAAKsH,SAASzI,OAClBgB,IAAI,GAGNmL,OACH,OAAOhL,KAAK8K,OAAOjL,IAAIG,KAAK+K,QAGzBE,QACH,OAAO5N,EAAQqC,GACXM,KAAKnZ,IACDmZ,KAAKkD,MACArc,IAAI,GACJsc,SAKV+H,QACH,OAAO7N,EAAQqC,GACXM,KAAKnZ,IACDmZ,KAAKkD,MACAvD,IAAI,GACJwD,SAKVgI,QACH,OAAInL,KAAKhC,MAAMwD,IAAI,GACR/D,EAAM1Y,OAAO4V,IAAK5V,OAAO4V,IAAK5V,OAAO4V,KAGzC0C,EAAQqC,GAAGM,KAAKnZ,IAAI,GAAGgZ,IAAIzC,EAAE,GAAGuC,IAAIK,QAAQH,IAAI,GAMpDuL,iBAAiBC,GACpB,OAAmB,IAAfA,EACOrL,KAGJA,KAAK6C,KAAKxF,EAAQa,IAAI,GAAImN,IAM9BC,MACH,OAAOtL,KAAKnZ,IAAI,GAGb0kB,kBAAkBvK,GACrB,oBAAOhB,KAAKmB,IAAIH,IAAhB,OAAOhB,KAAKmB,IAAIH,IAAThB,KAAKmB,IAAIH,GAAhB,iBAAOhB,KAAKmB,IAAIH,GAAhB,iBAAyB,GAAlBhB,KAAKmB,IAAIH,GAAS,EAAzB,GAGGwK,SAASxK,GACZ,oBAAOhB,KAAKmB,IAAIH,IAAhB,OAAOhB,KAAKmB,IAAIH,IAAThB,KAAKmB,IAAIH,GAAhB,iBAAOhB,KAAKmB,IAAIH,GAAhB,iBAAyB,GAAlBhB,KAAKmB,IAAIH,GAAS,EAAzB,GAGGyK,qBAAqBzK,GACxB,oBAAOhB,KAAKmB,IAAIH,IAAhB,OAAOhB,KAAKmB,IAAIH,IAAThB,KAAKmB,IAAIH,GAAhB,iBAAOhB,KAAKmB,IAAIH,GAAhB,kBAA0B,GAAnBhB,KAAKmB,IAAIH,IAAU,EAA1B,GAGG0K,YAAY1K,GACf,oBAAOhB,KAAKmB,IAAIH,IAAhB,OAAOhB,KAAKmB,IAAIH,IAAThB,KAAKmB,IAAIH,GAAhB,iBAAOhB,KAAKmB,IAAIH,GAAhB,iBAAyB,GAAlBhB,KAAKmB,IAAIH,GAAS,EAAzB,K,OAxoFa3D,EAAA,QACcI,EAAM,EAAG,EAAG,K,OAD1BJ,EAAA,OAEaI,EAAM,EAAG,EAAG,K,OAFzBJ,EAAA,UAGgBI,EAAM,KAAC,EAAF,qBAAE,EAAF,wBAAE,EAAD,GAAI,EAAG,K,OAH7BJ,EAAA,OAIaI,EAAM,EAAG,EAAG,K,OAJzBJ,EAAA,OAKaI,EAAM,EAAG,EAAG,M,OALzBJ,EAAA,OAMaI,EAAM1Y,OAAO4V,IAAK5V,OAAO4V,IAAK5V,OAAO4V,O,OANlD0C,EAAA,OAOaI,EAAM,EAAG1Y,OAAO2b,kBAAmB3b,OAAO2b,qB,OAPvDrD,EAAA,UAQgBI,EAAM,KAAC,EAAF,qBAAE,EAAF,wBAAE,EAAD,GAAI1Y,OAAOyZ,kBAAmBzZ,OAAOyZ,qB,OAR3DnB,EAAA,aASmBE,EAAG,EAAG,EAAGxY,OAAO4mB,a,OATnCtO,EAAA,aAUmBE,EAAG,EAAG,EAAGxY,OAAO6mB,Y,cCnfxD,IAEA,MAAMC,EAAa,IAAIxO,EAAQ,GAEzB,SAAUyO,EAAkBC,EAAoBC,EAAmBpL,GAAW,GAChF,IAAIvK,EAAIgH,EAAQlB,MAAM4P,GAAK1L,QACvBD,EAAI/C,EAAQwC,IAAIkM,EAAK1O,EAAQa,IAAI,GAAI7H,IACM,OAA3C+J,EAAE8G,0BAA0B8E,KAC5B5L,EAAIyL,EACJxV,EAAIA,EAAExP,IAAI,IAEd,MAAMolB,EAAU5V,EAAEmL,IAAI,KAChB1L,GAAOO,EAAG1R,KAAKC,IAAID,KAAKC,IAAIonB,EAAW,GAAInd,EAASqd,uBACpD7V,EAAEmL,IAAI,KACN2K,EAAY9V,EAAG,GACfA,EAAE6Q,0BAA0B,GAClC,OAAItG,EACA,KAAOR,EAAE8G,0BAA0B8E,GAAa,WAAhD,GAAO5L,EAAE8G,0BAA0B8E,GAAa,MAAhD,OAAO5L,EAAE8G,0BAA0B8E,GAAa,KAAhD,kBAAO5L,EAAE8G,0BAA0B8E,GAAa,KAAhD,iBAAsDC,GAA/C7L,EAAE8G,0BAA0B8E,GAAa,IAAMC,EAAtD,GAEA,KAAO,IAAP,iBAAO,IAAP,iBAAaA,GAAN,IAAMA,EAAb,GAIF,SAAUE,EAAYJ,EAAoBC,GAC5C,GAAY,OAARD,QAAwB7nB,IAAR6nB,EAChB,MAAO,MAGX,GADAA,EAAM,IAAI1O,EAAQ0O,GAClB,cAAIA,EAAI9hB,KAAR,OAAI8hB,EAAI9hB,KAAJ8hB,EAAI9hB,IAAR,iBAAI8hB,EAAI9hB,IAAR,iBAAc,MAAV8hB,EAAI9hB,IAAM,KAAd,GACI,OAAQ,GAAGmU,QAAQ4N,GAEvB,MAAMI,EAAOL,EAAI7E,0BAA0B8E,GACrCK,EAAWD,EAAKrmB,MAAM,KAE5B,OADAsmB,EAAS,GAAKA,EAAS,GAAGzG,QAAQ,2BAA4B,OAC9D,cAAIyG,EAAS7T,QAAb,OAAI6T,EAAS7T,QAAT6T,EAAS7T,OAAb,kBAAI6T,EAAS7T,OAAb,kBAAuB,MAAnB6T,EAAS7T,OAAb,GAAiC6T,EAAS,GAC1C,KAAOA,EAAS,GAAK,WAArB,GAAOA,EAAS,GAAK,MAArB,OAAOA,EAAS,GAAK,KAArB,kBAAOA,EAAS,GAAK,KAArB,iBAA2BA,EAAS,IAA7BA,EAAS,GAAK,IAAMA,EAAS,GAApC,GAGE,SAAUC,EAAcP,EAAoBC,GAC9C,OAAY,OAARD,QAAwB7nB,IAAR6nB,EACT,OAEXA,EAAM,IAAI1O,EAAQ0O,GAClB,cAAIA,EAAI9hB,KAAR,OAAI8hB,EAAI9hB,KAAJ8hB,EAAI9hB,IAAR,iBAAI8hB,EAAI9hB,IAAR,iBAAc,MAAV8hB,EAAI9hB,IAAM,KAAd,IACY,GAAGmU,QAAQ4N,IAEnB,cAAAD,EAAI9hB,KAAJ,OAAA8hB,EAAI9hB,KAAJ8hB,EAAI9hB,IAAJ,iBAAA8hB,EAAI9hB,IAAJ,iBAAU,IAAV8hB,EAAI9hB,IAAM,GAAV,kBAAiB+hB,GAAjB,OAAiBA,GAAAA,EAAjB,mBAAiBA,EAAjB,mBAA+B,OAAdA,EAAjB,KACAA,EAAYrnB,KAAKC,IAAID,KAAKC,IAAIonB,EAAW,GAAInd,EAASqd,uBAEnDH,EAAI7E,0BAA0B8E,KAGzC,MAAMO,EAAW,IAAIlP,EAAQ,YACvBmP,EAAU,IAAInP,EAAQ,WACtBoP,EAAQ,IAAIpP,EAAQ,SACpBqP,EAAK,IAAIrP,EAAQ,KACjBsP,EAAK,IAAItP,EAAQ,KACjBuP,EAAK,IAAIvP,EAAQ,KACjBwP,EAAU,IAAIxP,EAAQ,KACtByP,EAAa,IAAIzP,EAAQ,MACzB0P,EAAO,IAAI1P,EAAQ,GACnB,SAAUvH,GAAOiW,EAAoBC,EAAoBgB,GAI3D,GAHA,cAAIhB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAiB,YAAbA,EAAJ,KAAuBA,EAAYnd,EAASqd,sBAC5Cc,EAAQA,GAASne,EAASoe,iBAC1BlB,EAAM,IAAI1O,EAAQ0O,GACdhiB,MAAMgiB,EAAI/hB,OAASD,MAAMgiB,EAAIjlB,QAAUiD,MAAMgiB,EAAI9hB,KACjD,MAAO,MAEX,iBAAI8hB,EAAI/hB,MAAR,OAAI+hB,EAAI/hB,MAAJ+hB,EAAI/hB,KAAR,iBAAI+hB,EAAI/hB,KAAR,iBAAe,GAAX+hB,EAAI/hB,KAAO,EAAf,GACI,WAAO,IAAP,iBAAO,IAAP,iBAAa8L,GAAOiW,EAAIhL,MAAOiL,IAAxB,IAAMlW,GAAOiW,EAAIhL,MAAOiL,GAA/B,GAEJ,GAAID,EAAI9hB,MAAQlF,OAAO2b,kBACnB,MAAO,WAEX,GAAIqL,EAAIvK,IAAI+K,GAAW,CACnB,MAAMzI,EAAOiI,EAAIjI,OACjB,OAAIA,EAAKtC,IAAImL,GACT,KAAO,IAAP,iBAAO,IAAP,iBAAa7W,GAAOgO,EAAKzD,UAAlB,IAAMvK,GAAOgO,EAAKzD,SAAzB,GAEA,KACIhD,EAAQa,IAAI,GAAI4F,EAAKnE,IAAImE,EAAKzD,UAAU6G,0BAA0B,GAClE,WAFJ,GACI7J,EAAQa,IAAI,GAAI4F,EAAKnE,IAAImE,EAAKzD,UAAU6G,0BAA0B,GAClE,MAFJ,OACI7J,EAAQa,IAAI,GAAI4F,EAAKnE,IAAImE,EAAKzD,UAAU6G,0BAA0B,GAClE,KAFJ,kBACI7J,EAAQa,IAAI,GAAI4F,EAAKnE,IAAImE,EAAKzD,UAAU6G,0BAA0B,GAClE,KAFJ,iBAGIiF,EAAYrI,EAAKzD,QAAS,IAF1BhD,EAAQa,IAAI,GAAI4F,EAAKnE,IAAImE,EAAKzD,UAAU6G,0BAA0B,GAClE,IACAiF,EAAYrI,EAAKzD,QAAS,GAH9B,GAMD,GAAI0L,EAAIvK,IAAIgL,GACf,OAAOV,EAAkBC,EAAK,GAAG,GAC9B,GAAIA,EAAIvK,IAAIiL,GACf,OAAOX,EAAkBC,EAAK,GAC3B,GAAIA,EAAIvK,IAAIkL,GACf,OAAOZ,EAAkBC,EAAKC,GAC3B,GAAID,EAAIvK,IAAIoL,GACf,OAAOT,EAAYJ,EAAK,GACrB,GAAIA,EAAIvK,IAAIsL,IAAR,cAAwBE,GAAxB,OAAwBA,GAAAA,EAAxB,iBAAwBA,EAAxB,oBAAwBA,EAAxB,GACP,OAAOV,EAAcP,EAAKC,GACvB,GAAID,EAAI1K,GAAG0L,GACd,OAAQ,GAAG3O,QAAQ4N,GAIvB,GADAD,EAAMmB,GAAUnB,GACZA,EAAIjM,GAAG2M,GAAQ,CACf,MAAMU,EAAMrB,EAAkBC,EAAKC,GACnC,OAAOmB,EAAIvH,QAAQ,iBAAkB,OAErC,oBAAO9P,GAAOiW,EAAKC,IAAnB,OAAOlW,GAAOiW,EAAKC,IAAZlW,GAAOiW,EAAKC,GAAnB,iBAAOlW,GAAOiW,EAAKC,GAAnB,iBAAgC,MAAzBlW,GAAOiW,EAAKC,GAAa,KAAhC,GAIF,SAAUoB,GAAYrB,GAExB,OADAA,EAAM,IAAI1O,EAAQ0O,GAClB,cAAIA,EAAI/hB,MAAR,OAAI+hB,EAAI/hB,MAAJ+hB,EAAI/hB,KAAR,iBAAI+hB,EAAI/hB,KAAR,iBAAe,GAAX+hB,EAAI/hB,KAAO,EAAf,GACI,KAAO,IAAP,iBAAO,IAAP,iBAAaojB,GAAYrB,EAAIhL,QAAtB,IAAMqM,GAAYrB,EAAIhL,OAA7B,GAEAgL,EAAIvK,IAAIkL,IAGRX,EAAIxK,IAAIsL,IAAR,cAAqBd,EAAI1K,GAAG0L,IAA5B,OAAqBhB,EAAI1K,GAAG0L,IAAPhB,EAAI1K,GAAG0L,GAA5B,iBAAqBhB,EAAI1K,GAAG0L,GAA5B,oBAAqBhB,EAAI1K,GAAG0L,GAA5B,GAFOjX,GAAOiW,GAKXjW,GAAOiW,EAAK,GAGjB,SAAUsB,GAAWC,GACvB,OAAIjQ,EAAQyC,GAAGwN,EAAS,GACpB,KAAO,IAAP,iBAAO,IAAP,iBAAaD,GAAWhQ,EAAQ0D,IAAIuM,KAA7B,IAAMD,GAAWhQ,EAAQ0D,IAAIuM,IAApC,GAEAjQ,EAAQjC,GAAGkS,EAAX,KAAoB,EAApB,kBAAoB,EAApB,kBAAyB,IAAL,GAAK,GAAzB,IAEA,cAAOxX,GAAOuH,EAAQwC,IAAIyN,EAAS,WAAnC,OAAOxX,GAAOuH,EAAQwC,IAAIyN,EAAS,WAA5BxX,GAAOuH,EAAQwC,IAAIyN,EAAS,UAAnC,iBAAOxX,GAAOuH,EAAQwC,IAAIyN,EAAS,UAAnC,iBAAgD,KAAzCxX,GAAOuH,EAAQwC,IAAIyN,EAAS,UAAa,IAAhD,IAEJA,EAAU,IAAIjQ,EAAQiQ,GAASrS,WAC/B,cAAIqS,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAc,IAAVA,EAAU,GAAd,GACI,cAAOxX,GAAOwX,IAAd,OAAOxX,GAAOwX,IAAPxX,GAAOwX,GAAd,iBAAOxX,GAAOwX,GAAd,iBAAyB,KAAlBxX,GAAOwX,GAAW,IAAzB,GACO,UAAJ,IAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAc,MAAVA,EAAU,KAAV,GACP,KAAOF,GAAYzoB,KAAK0b,MAAMiN,EAAU,KAAO,KAAOxX,GAAOwX,EAAU,WAAvE,GAAOF,GAAYzoB,KAAK0b,MAAMiN,EAAU,KAAO,KAAOxX,GAAOwX,EAAU,MAAvE,OAAOF,GAAYzoB,KAAK0b,MAAMiN,EAAU,KAAO,KAAOxX,GAAOwX,EAAU,KAAvE,kBAAOF,GAAYzoB,KAAK0b,MAAMiN,EAAU,KAAO,KAAOxX,GAAOwX,EAAU,KAAvE,iBAA6E,KAAtEF,GAAYzoB,KAAK0b,MAAMiN,EAAU,KAAO,KAAOxX,GAAOwX,EAAU,IAAM,IAA7E,GACO,UAAJ,IAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAc,OAAVA,EAAU,MAAV,GACP,KACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,IACvC,KACAF,GAAYE,EAAU,WAL1B,GACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,IACvC,KACAF,GAAYE,EAAU,MAL1B,OACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,IACvC,KACAF,GAAYE,EAAU,KAL1B,kBACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,IACvC,KACAF,GAAYE,EAAU,KAL1B,iBAMI,KALAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,IACvC,KACAF,GAAYE,EAAU,IACtB,IANJ,GAQO,UAAJ,IAAIA,GAAJ,OAAIA,GAAAA,EAAJ,iBAAIA,EAAJ,iBAAc,SAAVA,EAAU,QAAV,GACP,KACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,IACzC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,WAL3C,GACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,IACzC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,MAL3C,OACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,IACzC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,KAL3C,kBACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,IACzC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,KAL3C,iBAMI,KALAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,IACzC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,IAAM,IACvC,IANJ,GASA,KACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,UACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,WAL7C,GACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,UACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,MAL7C,OACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,UACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,KAL7C,kBACIF,GAAYzoB,KAAK0b,MAAMiN,EAAU,UACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,KAL7C,iBAMI,KALAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,UACjC,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,OAAS,KAC1C,KACAF,GAAYzoB,KAAK0b,MAAMiN,EAAU,MAAQ,IACzC,IANJ,IAWF,SAAUC,GAASC,EAAkBxB,EAAmByB,GAC1DD,EAAI,IAAInQ,EAAQmQ,GAChB,IAAIzH,EAASyH,EAAEtG,0BAA0B8E,GAMzC,OALI,IAAI3O,EAAQ0I,GAAQvE,IAAIiM,KACxB1H,EAAS1I,EAAQsC,IAAI8N,EAAa9oB,KAAKuZ,IAAI,GAAK8N,IAAY9E,0BACxD8E,IAGDjG,EAIL,SAAU2H,GAAYF,EAAkBxB,GAC1C,OAAOlW,GAAO0X,EAAGxB,GAAW,GAG1B,SAAUkB,GAAUM,GACtB,IAAInX,EAAIgH,EAAQlB,MAAMqR,GAAGzP,OACzB,MAAMqC,EAAI/C,EAAQwC,IAAI2N,EAAGnQ,EAAQa,IAAI,GAAI7H,IAIzC,OAHAA,EAAIA,EAAE0K,MACNyM,EAAI,IAAInQ,EAAQ,IAAIa,IAAI7H,GAAGqN,MAAMtD,GAE1BoN,ECzLJ,MACH1B,kBADS,GAETK,YAFS,GAGTG,cAHS,GAITxW,OAJS,GAKTsX,YALS,GAMTC,WANS,GAOTE,SAPS,GAQTG,YARS,GASTR,UAAS,IACT,EAIJ3iB,OAAO8S,QAAU,EACjB9S,OAAOuhB,kBAAoB,GAC3BvhB,OAAO4hB,YAAc,GACrB5hB,OAAO+hB,cAAgB,GACvB/hB,OAAOuL,OAAS,GAChBvL,OAAO6iB,YAAc,GACrB7iB,OAAO8iB,WAAa,GACpB9iB,OAAOgjB,SAAW,GAClBhjB,OAAOmjB,YAAc,GACrBnjB,OAAO2iB,UAAY,GAEnB,U,kCC1BM,SAAUS,EAAaC,GACzB,IAAItc,EAAQsc,EAAMhI,QAAQ,WAAY,OAEtC,OADAtU,EAAQ,UAAH,IAAGA,EAAMkV,OAAO,GAAGqH,eAAnB,OAAGvc,EAAMkV,OAAO,GAAGqH,eAAhBvc,EAAMkV,OAAO,GAAGqH,cAAnB,iBAAGvc,EAAMkV,OAAO,GAAGqH,cAAnB,iBAAmCvc,EAAMtL,MAAM,IAA5CsL,EAAMkV,OAAO,GAAGqH,cAAgBvc,EAAMtL,MAAM,GAA5C,GACDsL,EAGL,SAAUwc,EAAc/pB,GAC1B,MAAkD,oBAA3CsD,OAAO0mB,UAAU3O,SAAS4O,KAAKjqB,GAIpC,SAAUkqB,EAAWpqB,GACvB,MAAuB,oBAATA,EAGlB,IAAYqqB,E,yGAAZ,SAAYA,GACR,aACA,iBACA,iBACA,mBACA,kBALJ,CAAYA,IAAAA,EAAS,M,2IChBd,MAAMC,EAAa7qB,OAAO,cAyB3B,SAAU8qB,EACZlnB,EACAlD,GAEA,MAAMqqB,EAAannB,EAAIlD,IAEnB,QAAWqqB,IAAqC,IAAtBA,EAAW7V,QAArC,cAAuD6V,EAAmBF,IAA1E,OAAuDE,EAAmBF,IAAnBE,EAAmBF,GAA1E,iBAAuDE,EAAmBF,GAA1E,oBAAuDE,EAAmBF,GAA1E,KAGAjnB,EAAIlD,IAAO,IAAA4K,UAASyf,EAAWC,KAAKpnB,KAItC,SAAUqnB,EAAqBrnB,GAOjC,OALI,QAAWA,IAAX,cAAqBA,EAAYinB,IAAjC,OAAqBjnB,EAAYinB,IAAZjnB,EAAYinB,GAAjC,iBAAqBjnB,EAAYinB,GAAjC,oBAAqBjnB,EAAYinB,GAAjC,KAGAjnB,GAAM,IAAA0H,UAAS1H,IAEZA,I,mHC9CJ,MAAMsnB,EAAalrB,OAAO,cACpBmrB,EAAYnrB,OAAO,aAgB1B,SAAUorB,EACZC,EACAC,EAAgB,IAEhB,MAAM1nB,EAAsB0nB,EAC5B,IAAIC,GAAa,EACjB,SAASC,IAKL,MAJA,cAAKD,GAAL,OAAKA,GAAAA,EAAL,iBAAKA,EAAL,oBAAKA,EAAL,KACIxnB,OAAOiE,OAAOpE,EAAKynB,EAAWznB,IAC9B2nB,GAAa,GAEV3nB,EAGX,OAAO,IAAIyC,MAAMzC,EAAK,CAClBuC,IAAIC,EAAQ1F,GACR,OAAIA,IAAQwqB,EACDM,IAGHA,IAAuB9qB,IAEnC4F,IAAIF,EAAQ1F,EAAKC,GAIb,OADC6qB,IAAuB9qB,GAAOC,GACxB,GAEXoG,IAAIX,EAAQ1F,GACR,OAAIA,IAAQwqB,GAGLpkB,QAAQC,IAAIykB,IAAgB9qB,IAEvCmG,UACI,OAAOC,QAAQD,QAAQ2kB,MAE3BxkB,yBAAyBZ,EAAQ1F,GAK7B,MAJA,cAAK6qB,GAAL,OAAKA,GAAAA,EAAL,iBAAKA,EAAL,oBAAKA,EAAL,KACIxnB,OAAOiE,OAAOpE,EAAKynB,EAAWznB,IAC9B2nB,GAAa,GAEVxnB,OAAOiD,yBAAyBZ,EAAQ1F,Q,iQCvDrD,SAAU+qB,EAAkB3lB,EAA8B,IAC5D,OAAO/B,OAAOiE,OACV,CACI9H,GAAI,GAAG,SACPgF,KAAM,eACNC,KAAM,sBACNC,KAAMlE,KAAKD,MACXoE,UAAU,EACVC,aAAa,EACbC,YAAa,EACbC,WAAY,EACZC,WAAW,EACXC,MAAO,KACPC,WAAY,gBACZC,OAAQ,IAEZE,GAIF,SAAUwL,EAAKwB,GACjB,IAAI4Y,GAAkB,OAAc5Y,GAAc,IAAO,OACzD,OAAQ,gBACJ,QACI1P,QAAQC,KAAK,0BAA0B,oCAC3C,IAAK,KACDqoB,EAAkB,oBAAyBA,GAC3C,MACJ,IAAK,SACDA,EAAkBxjB,KAAKC,SAASC,mBAAmBsjB,KACnD,MACJ,IAAK,QACD,MAGR,OADAjkB,aAAaY,SAASyK,GAAc,IAAO,OAAa5S,GAAIwrB,GACrDA,EAGJ3pB,eAAe4pB,KAElB,UAEA,IACI,IAAIra,EAAO7J,aAAaC,QAAQ,aAChC,iBAAI4J,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAY,YAARA,EAAJ,GAEI,kBADMsa,EAASC,KAGnB,GAAgB,MAAZva,EAAK,SAEF,GAAgB,MAAZA,EAAK,GAEZA,EAAO3J,mBAAmBC,OAAOC,KAAKyJ,SACnC,IAAgB,MAAZA,EAAK,GAKZ,KAAM,oCAFNA,EAAO,wBAA6BA,GAIxC,MAAMxL,EAASC,KAAKgC,MAAMuJ,GAC1B,iBAAIxL,EAAOJ,OAAX,OAAII,EAAOJ,OAAPI,EAAOJ,MAAX,mBAAII,EAAOJ,MAAX,mBAAqB,MAAjBI,EAAOJ,QAAU,KAArB,GAEI,kBADMkmB,EAASC,KAGnB/lB,EAAO5F,GAAK,kBACN0rB,EAAS9lB,GACjB,MAAOiN,GACL3P,QAAQyB,MAAM,mDAAoDkO,SAC5D6Y,EAASC,MAIjB,SAAUA,IACZ,MAAM3rB,EAAKC,IACL2F,EAAS2lB,EAAkB,CAAEvrB,GAAAA,IAKnC,OAJAoR,EAAKxL,GAEL,gBAAoB5F,GAEb4F,EAGL,SAAU3F,IACZ,IAAID,EACAoZ,EAAI,EACR,GACIpZ,EAAK,GAAG,QAAH,cAAkBoZ,GAAlB,OAAkBA,GAAlB,kBAAkBA,GAAAA,EAAlB,iCAAkBA,EAAlB,mCAAkBA,IAAlB,WACA7R,aAAaC,QAAQxH,IAC9B,OAAOA,EAGJ6B,eAAe6pB,EAASE,GAC3B1oB,QAAQqS,KAAK,eAAgBqW,GAC7B,MAAM,OAAElmB,EAAF,YAAUmmB,EAAV,SAAuBC,SAAmB,wCAC1C,WAAEC,EAAF,iBAAcC,SAA2B,uCAE/C,IAAK,MAAM1oB,KAASoC,EAEhBmmB,EAAYnmB,EAAOpC,IAEvB0oB,EAAiBJ,GAAW7nB,SAAQT,GAASwoB,EAASxoB,EAAOsoB,KAE7DA,EAAYL,EAAkBK,GAC1BA,EAAUxmB,aAAewmB,EAAU1mB,OACnC,cAAI0mB,EAAUvmB,aAAd,OAAIumB,EAAUvmB,aAAVumB,EAAUvmB,YAAd,kBAAIumB,EAAUvmB,YAAd,uBAA6B3E,QAAAA,GAAzBkrB,EAAUvmB,YAAd,KAAwCumB,EAAUvmB,YAAc,GAChEumB,EAAUvmB,YAAV,cAAAumB,EAAUvmB,aAAV,OAAAumB,EAAUvmB,aAAVumB,EAAUvmB,YAAV,iBAAAumB,EAAUvmB,YAAV,kBAA0BrE,KAAKD,MAAQ6qB,EAAU1mB,MAAQ,KAAzD0mB,EAAUvmB,aAAgBrE,KAAKD,MAAQ6qB,EAAU1mB,MAAQ,IAAzD,IAEJ0mB,EAAU1mB,KAAOlE,KAAKD,MACtB,cAAI6qB,EAAUnmB,YAAd,OAAImmB,EAAUnmB,YAAVmmB,EAAUnmB,WAAd,mBAAImmB,EAAUnmB,WAAd,mBAA6B,iBAAzBmmB,EAAUnmB,aAAe,gBAA7B,IACIsmB,EAAWH,EAAUnmB,WAAYmmB,GAGrC/nB,OAAOiE,OAAO,IAAQ8jB,GACtB,YAAkB,OAGtBhqB,aAAY,KACJ,cACAwP,MAEL,KACHrK,OAAOklB,eAAiB,KAChB,cACA7a,KAGRrK,OAAOqK,KAAOA,EACP,MAAM8a,EAAanlB,OAAOmlB,UAAYrqB,gBACnC6pB,EAASC,O,gMCnInB,GAA4B,qBAAiB,CAC3CphB,MAAO,CACLoB,MAAO,CAAE1B,QAAS,OAClB6V,OAAQ,CAAE7V,QAAS,SAErBiB,MAAMwB,GAIR,MAAO,CAAC1D,EAAUC,MACR,kBAAc,wBAAoB,MAAO,CAC/CO,OAAO,oBAAgB,CAAEmC,MAAOe,EAAQf,MAAOmU,OAAQpT,EAAQoT,UAC9D,KAAM,OCbX,MAAM5T,EAAc,EAEpB,Q,wCCOM,SAAUigB,EACZrpB,EACAspB,EAAc,SACd5D,EAAY,EACZgB,GAEA,MAAM6C,GAAiC,IAAAtpB,OAAMD,GACvCA,GACA,QAAWA,GAIjB,OAHAupB,EAASD,YAAcA,EACvBC,EAAS7D,UAAYA,EACrB6D,EAAS7C,MAAQA,EACV6C,EAGL,SAAUC,EAAUD,GACtB,MAAME,GAAO,QAAWF,EAAS5rB,OAMjC,OALA,IAAAsB,OAAMsqB,GAAUG,IACR,QAAWA,EAAQD,EAAK9rB,SACxB8rB,EAAK9rB,MAAQ+rB,MAGdD,EAGL,SAAUE,EAAWJ,GACvB,MAAMK,GAAQ,QAAWL,EAAS5rB,OAMlC,OALA,IAAAsB,OAAMsqB,GAAU,CAACG,EAAQG,KACjB,QAAWH,EAAQG,KACnBD,EAAMjsB,MAAQ,SAAYisB,EAAMjsB,MAAO,SAAY+rB,EAAQG,QAG5DD,EAGX,MAAME,EAAS,IAAI,KAAQ,SACrBC,EAAO,IAAI,KAAQ,SACnB,SAAUC,EACZT,EACAU,GAEA,MAAMC,GAAQ,IAAAhqB,KAAmB,GAC3BiqB,GAAW,IAAAjqB,KAAI,GACfkqB,GAAa,IAAAlqB,KAAmB,GAEtC,EAAArC,UAAA,GAAa,UAAUM,IAEnB,GADAgsB,EAASxsB,MAAQ,EACb,SAAY4rB,EAAS5rB,MAAOosB,GAE5B,YADAK,EAAWzsB,MAAQ4rB,EAAS5rB,OAIhC,IAAI2D,EAAOioB,EAAS5rB,MAChB0sB,EAAOD,EAAWzsB,MAEtB,GADAysB,EAAWzsB,MAAQ2D,EACf,QAAWA,EAAM+oB,GACjB,GAAI,SAAY/oB,EAAMwoB,GAClBxoB,EAAO,UAAaA,EAAM,MAC1B+oB,EAAO,UAAaA,EAAM,MAC1BH,EAAMvsB,MAAQ2D,EAAK+X,IAAIgR,GAAM9Q,IAAIpb,GACjCgsB,EAASxsB,MAAT,KAAkB,EAAlB,qBAAkB,EAAlB,wBAAkB,EAAlB,QAEA,MACI,SAAY2D,EAAM+oB,GAAMhV,IAAI,IAAIkE,IAAIpb,GAAM+c,IAAI,QAA9C,cACAiP,EAASxsB,OADT,OACAwsB,EAASxsB,OAATwsB,EAASxsB,MADT,kBACAwsB,EAASxsB,MADT,kBACkB,GAAlBwsB,EAASxsB,OAAS,EADlB,IAEA,QAAW0sB,EAAM,GAEjB/oB,EAAO,WAAcA,GACrB+oB,EAAO,WAAcA,GACrBH,EAAMvsB,MAAQ2D,EAAK+X,IAAIgR,GAAM9Q,IAAIpb,GACjC,eAAAgsB,EAASxsB,OAAT,OAAAwsB,EAASxsB,OAAT,kBAAAwsB,EAASxsB,OAATwsB,EAASxsB,MAAT,iCAAAwsB,EAASxsB,MAAT,mCAAAwsB,EAASxsB,SAAT,MAMhB,MAAM2sB,GAAc,IAAAhiB,WAAS,IACF,IAAnB6hB,EAASxsB,MACFssB,EAAS,MACV,QAAOA,EAAUtsB,MAAO4rB,EAAS7D,UAAW6D,EAAS7C,OACjD,IACA6C,EAASD,mBAHH,IACV,QAAOW,EAAUtsB,MAAO4rB,EAAS7D,UAAW6D,EAAS7C,OACjD,IACA6C,EAASD,cAHH,QACV,QAAOW,EAAUtsB,MAAO4rB,EAAS7D,UAAW6D,EAAS7C,OACjD,IACA6C,EAASD,aAHH,mBACV,QAAOW,EAAUtsB,MAAO4rB,EAAS7D,UAAW6D,EAAS7C,OACjD,IACA6C,EAASD,aAHH,iBAIN,OAHJ,QAAOW,EAAUtsB,MAAO4rB,EAAS7D,UAAW6D,EAAS7C,OACjD,IACA6C,EAASD,YACT,KAJM,GAKV,GAEV,MACI,QAAOY,EAAMvsB,OACb,QACCwsB,EAASxsB,MAAQ,EAAI,OAAS,IAAMwsB,EAASxsB,cAHlD,IACI,QAAOusB,EAAMvsB,OACb,QACCwsB,EAASxsB,MAAQ,EAAI,OAAS,IAAMwsB,EAASxsB,SAHlD,QACI,QAAOusB,EAAMvsB,OACb,QACCwsB,EAASxsB,MAAQ,EAAI,OAAS,IAAMwsB,EAASxsB,QAHlD,mBACI,QAAOusB,EAAMvsB,OACb,QACCwsB,EAASxsB,MAAQ,EAAI,OAAS,IAAMwsB,EAASxsB,QAHlD,iBAII,UAHA,QAAOusB,EAAMvsB,OACb,QACCwsB,EAASxsB,MAAQ,EAAI,OAAS,IAAMwsB,EAASxsB,OAC9C,QAJJ,KAOJ,OAAO2sB,EAGL,SAAUC,EAAgBhB,EAAoBiB,GAChD,MAAMd,EAASc,GAAkBjB,EAAS5rB,MAC1C,OAAI,QAAW4rB,EAAS7D,UAAW,IACxB,QAAYgE,IAEhB,QAAOA,EAAQH,EAAS7D,UAAW6D,EAAS7C,OC9GjD,SAAUzgB,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMkkB,GAAmB,sBAAkB,SAE3C,OAAQ,kBAAc,wBAAoB,WAAW,KAAM,GACxD,kBAAc,kBAAa,6BAAyBvkB,EAAKwkB,aACzDxkB,EAAKykB,gBACD,kBAAc,kBAAa,6BAAyBzkB,EAAKykB,eAAgB,CAAEjtB,IAAK,MACjF,wBAAoB,IAAI,GAC3BwI,EAAK0kB,iBACD,kBAAc,kBAAa,6BAAyB1kB,EAAK0kB,gBAAiB,CAAEltB,IAAK,MAClF,wBAAoB,IAAI,GAC3BwI,EAAK2kB,WACD,kBAAc,iBAAaJ,EAAkB,CAC5C/sB,IAAK,EACLotB,MAAO5kB,EAAKjD,MAAMiD,EAAK2kB,WACtB,KAAM,EAAG,CAAC,YACb,wBAAoB,IAAI,IAC3B,I,wBChBL,MAAMthB,EAAa,CAAC,KAAM,KAAM,KAAM,MAOtC,OAA4B,qBAAiB,CAC3C9B,MAAO,CACLsjB,KAAM,KACNC,UAAW,KACXC,QAAS,KACTC,aAAc,MAEhB9iB,MAAMwB,GAER,MAAMmB,EAASnB,EAQTnC,GAAQ,IAAAY,QAAO0C,GAEfogB,GAAgB,IAAA7iB,WAAS,KAC3B,MAAM8iB,EAAO3jB,EAAMujB,UAAUrtB,MAAMytB,KAC7BF,EAAezjB,EAAMyjB,aAAavtB,MAClC0tB,EAAWH,EACX,CACIhE,EAAG,KAAAkE,EAAKlE,EAAIkE,EAAKviB,MAAQ,SAAxB,GAAEuiB,EAAKlE,EAAIkE,EAAKviB,MAAQ,IAAxB,OAAEuiB,EAAKlE,EAAIkE,EAAKviB,MAAQ,GAAxB,kBAAEuiB,EAAKlE,EAAIkE,EAAKviB,MAAQ,GAAxB,iBAA4BqiB,EAAahE,GAAvCkE,EAAKlE,EAAIkE,EAAKviB,MAAQ,EAAIqiB,EAAahE,EAAvC,GACHoE,EAAG,KAAAF,EAAKE,EAAIF,EAAKpO,OAAS,SAAzB,GAAEoO,EAAKE,EAAIF,EAAKpO,OAAS,IAAzB,OAAEoO,EAAKE,EAAIF,EAAKpO,OAAS,GAAzB,kBAAEoO,EAAKE,EAAIF,EAAKpO,OAAS,GAAzB,iBAA6BkO,EAAaI,GAAxCF,EAAKE,EAAIF,EAAKpO,OAAS,EAAIkO,EAAaI,EAAxC,IAEP,CAAEpE,EAAG,EAAGoE,EAAG,GAKjB,OAJI7jB,EAAMsjB,KAAKptB,MAAM4tB,cACjBF,EAASnE,EAAT,cAAAmE,EAASnE,GAAT,OAAAmE,EAASnE,GAATmE,EAASnE,EAAT,iBAAAmE,EAASnE,EAAT,iBAAczf,EAAMsjB,KAAKptB,MAAM4tB,YAAYrE,GAA3CmE,EAASnE,EAAKzf,EAAMsjB,KAAKptB,MAAM4tB,YAAYrE,EAA3C,GACAmE,EAASC,EAAT,cAAAD,EAASC,GAAT,OAAAD,EAASC,GAATD,EAASC,EAAT,iBAAAD,EAASC,EAAT,iBAAc7jB,EAAMsjB,KAAKptB,MAAM4tB,YAAYD,GAA3CD,EAASC,EAAK7jB,EAAMsjB,KAAKptB,MAAM4tB,YAAYD,EAA3C,IAEGD,KAGLG,GAAc,IAAAljB,WAAS,KACzB,MAAM8iB,EAAO3jB,EAAMwjB,QAAQttB,MAAMytB,KAC3BF,EAAezjB,EAAMyjB,aAAavtB,MAClC0tB,EAAWH,EACX,CACIhE,EAAG,KAAAkE,EAAKlE,EAAIkE,EAAKviB,MAAQ,SAAxB,GAAEuiB,EAAKlE,EAAIkE,EAAKviB,MAAQ,IAAxB,OAAEuiB,EAAKlE,EAAIkE,EAAKviB,MAAQ,GAAxB,kBAAEuiB,EAAKlE,EAAIkE,EAAKviB,MAAQ,GAAxB,iBAA4BqiB,EAAahE,GAAvCkE,EAAKlE,EAAIkE,EAAKviB,MAAQ,EAAIqiB,EAAahE,EAAvC,GACHoE,EAAG,KAAAF,EAAKE,EAAIF,EAAKpO,OAAS,SAAzB,GAAEoO,EAAKE,EAAIF,EAAKpO,OAAS,IAAzB,OAAEoO,EAAKE,EAAIF,EAAKpO,OAAS,GAAzB,kBAAEoO,EAAKE,EAAIF,EAAKpO,OAAS,GAAzB,iBAA6BkO,EAAaI,GAAxCF,EAAKE,EAAIF,EAAKpO,OAAS,EAAIkO,EAAaI,EAAxC,IAEP,CAAEpE,EAAG,EAAGoE,EAAG,GAKjB,OAJI7jB,EAAMsjB,KAAKptB,MAAM8tB,YACjBJ,EAASnE,EAAT,cAAAmE,EAASnE,GAAT,OAAAmE,EAASnE,GAATmE,EAASnE,EAAT,iBAAAmE,EAASnE,EAAT,iBAAczf,EAAMsjB,KAAKptB,MAAM8tB,UAAUvE,GAAzCmE,EAASnE,EAAKzf,EAAMsjB,KAAKptB,MAAM8tB,UAAUvE,EAAzC,GACAmE,EAASC,EAAT,cAAAD,EAASC,GAAT,OAAAD,EAASC,GAATD,EAASC,EAAT,iBAAAD,EAASC,EAAT,iBAAc7jB,EAAMsjB,KAAKptB,MAAM8tB,UAAUH,GAAzCD,EAASC,EAAK7jB,EAAMsjB,KAAKptB,MAAM8tB,UAAUH,EAAzC,IAEGD,KAGX,MAAO,CAACnlB,EAAUC,MACR,kBAAc,wBAAoB,QAAQ,gBAAY,CAC5D,eAAgB,OAChBulB,OAAQ,SACP9hB,EAAQmhB,KAAM,CACfY,IAAI,WAAOR,GAAejE,EAC1B0E,IAAI,WAAOT,GAAeG,EAC1BO,IAAI,WAAOL,GAAatE,EACxB4E,IAAI,WAAON,GAAaF,IACtB,KAAM,GAAI/hB,OCnEhB,MAAM,EAAc,EAEpB,QCIA,GAA4B,qBAAiB,CAC3C9B,MAAO,CACLqjB,MAAO,MAET1iB,MAAMwB,GAER,MAAMmB,EAASnB,EAGTkhB,GAAQ,IAAArX,OAAM1I,EAAQ,SAEtBghB,EAAiB,IAAIC,eAAeC,GAGpC9jB,GAAQ,IAAA+jB,QAAO,EAAAC,mBAEfC,GAAiB,IAAAlsB,KAAoB,OAE3C,IAAA2M,YAAU,KAEN,MAAMwf,EAAcD,EAAezuB,MACnC,cAAI0uB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAmB,YAAfA,EAAJ,IACIN,EAAeO,QAAQD,MAI/B,IAAIE,GAAU,EACVrB,GAAe,IAAAhrB,KAAIksB,EAAezuB,OAAO6uB,yBAC7C,SAASP,IACD,cAAAG,EAAezuB,OAAf,OAAAyuB,EAAezuB,OAAfyuB,EAAezuB,MAAf,kBAAAyuB,EAAezuB,MAAf,kBAAwB,YAAxByuB,EAAezuB,MAAf,IAAgC4uB,IAChCA,GAAU,GACV,IAAA7jB,WAAS,KACLwiB,EAAavtB,MAAQyuB,EAAezuB,OAAO6uB,wBAC1CzrB,OAAO0rB,OAAOtkB,EAAMxK,OAAyBsD,SAC1CyrB,GAASA,EAAKtB,KAAOsB,EAAKhb,QAAQ8a,0BAEtCD,GAAU,MAItB/b,SAASmc,MAAMC,MAAMC,KAAKZ,GAE1B,MAAMa,GAAa,IAAAxkB,WAAS,KACxB,MAAMgB,EAAInB,EAAMxK,MAChB,OACImtB,EAAMntB,OAAOovB,QAAOhC,GAAQzhB,EAAEyhB,EAAKC,UAAU9tB,KAAKkuB,MAAQ9hB,EAAEyhB,EAAKC,UAAU9tB,KAAKkuB,QAAS,MAIjG,MAAO,CAACllB,EAAUC,MACR,kBAAc,wBAAoB,WAAW,KAAM,EACxD,WAAO2mB,KACH,kBAAc,wBAAoB,OAAO,qBAAgB,gBAAY,CAAEpvB,IAAK,GAAKwI,EAAK4M,SAAU,GAC9F,gBAAW,IAAO,wBAAoB,WAAW,MAAM,iBAAY,WAAOga,IAAa,CAAC/B,EAAMrjB,MACrF,kBAAc,iBAAaslB,EAAS,CAC1CtvB,IAAKgK,EACLqjB,KAAMA,EACNG,cAAc,WAAOA,GACrBF,WAAW,WAAO7iB,GAAO4iB,EAAKC,UAAU9tB,IACxC+tB,SAAS,WAAO9iB,GAAO4iB,EAAKE,QAAQ/tB,KACnC,KAAM,EAAG,CAAC,OAAQ,eAAgB,YAAa,eAChD,OACH,MACH,wBAAoB,IAAI,IAC5B,wBAAoB,MAAO,CACzBgQ,QAAS,iBACThN,IAAKksB,EACL3lB,MAAO,mBACN,KAAM,MACR,Q,UCxEL,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCAA,GAAe,IAAAa,iBAAgB,CAC3BG,MAAO,CACHU,MAAO,CACHzG,MAAM,QAAuCuG,OAC7CN,UAAU,GAEdslB,eAAe,QAAqChlB,OACpDilB,gBAAgB,QAAqCjlB,OACrD4iB,UAAU,QAAgC5iB,QAE9CV,WAAY,CAAE4lB,MAAK,GACnB/kB,MAAMX,GACF,MAAM,MAAEU,EAAF,cAAS8kB,EAAT,eAAwBC,IAAmB,IAAA7kB,QAAOZ,GAElDijB,GAAY,IAAA0C,eAClB,IAAA3Y,cAAY,KACR,MAAM4Y,GAAY,QAAUllB,GAC5BuiB,EAAU/sB,OAAQ,SACd,SAAI,KAAM,iBAAC,iBAEF0vB,EAAU1tB,KAAI2tB,IAAO,yBAAJ,MACF,eADE,MACmB,sBADnB,CAETA,EAAI3tB,IAAI,kBAQjC,MAAMgrB,GAAgB,IAAAyC,eACtB,IAAA3Y,cAAY,KACR,MAAM4Y,GAAY,QAAUJ,GAC5BtC,EAAchtB,MAAQ0vB,GAChB,SACI,SAAI,KAAM,yBAAN,MACY,yBADZ,CACqCA,EAAU1tB,IAAI,WAG3D,MAGV,MAAMirB,GAAiB,IAAAwC,cAUvB,OATA,IAAA3Y,cAAY,KACR,MAAM4Y,GAAY,QAAUH,GAC5BtC,EAAejtB,MAAQ0vB,GACjB,SACI,SAAI,KAAM,yBAAN,MAAkB,oBAAlB,CAAsCA,EAAU1tB,IAAI,WAE5D,MAGH,CACHsD,MADG,QAEHynB,UAAAA,EACAC,cAAAA,EACAC,eAAAA,MCzDZ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS3kB,GAAQ,CAAC,YAAY,qBAEzF,QCPM,SAAU,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMgnB,GAAsB,sBAAkB,YACxCC,GAAkB,sBAAkB,QAE1C,MAAO,cAACtnB,EAAKjD,MAAMiD,EAAKunB,aAAjB,OAACvnB,EAAKjD,MAAMiD,EAAKunB,aAAhBvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAACvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAAiCvnB,EAAK7I,WAAWqwB,MAAhDxnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWqwB,KAAjD,KACF,kBAAc,wBAAoB,MAAO,CACxChwB,IAAK,EACLgJ,OAAO,oBAAgB,CAAE+mB,WAAYvnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWswB,OAAS,cAAW/vB,IACzG6I,OAAO,oBAAgB,CACnBmnB,UAAU,EACVC,IAAK3nB,EAAKjD,MAAMiD,EAAK4nB,aAClB5nB,EAAKjD,MAAMiD,EAAKgB,WAEvBL,QAASV,EAAO,KAAOA,EAAO,GAEtC,IAAIW,IAAUZ,EAAKW,SAAWX,EAAKW,WAAWC,IACtCinB,YAAa5nB,EAAO,KAAOA,EAAO,GAE1C,IAAIW,IAAUZ,EAAK8nB,OAAS9nB,EAAK8nB,SAASlnB,IAClCmnB,aAAc9nB,EAAO,KAAOA,EAAO,GAE3C,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCqnB,UAAWhoB,EAAO,KAAOA,EAAO,GAExC,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCsnB,aAAcjoB,EAAO,KAAOA,EAAO,GAE3C,IAAIW,IAAUZ,EAAK8nB,OAAS9nB,EAAK8nB,SAASlnB,IAClCunB,WAAYloB,EAAO,KAAOA,EAAO,GAEzC,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCwnB,cAAenoB,EAAO,KAAOA,EAAO,GAE5C,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,KAC/B,EACD,wBAAoB,MAAO,CACzBJ,OAAO,oBAAgB,CACjB,CACI6nB,gBAAiBroB,EAAKjD,MAAMiD,EAAKS,OACjC6nB,UAAW,qDAAqDtoB,EAAKjD,MACjEiD,EAAKuoB,cAGbvoB,EAAKjD,MAAMiD,EAAKQ,QAAU,MAE/B,GACA,kBAAc,kBAAa,6BAAyBR,EAAKjD,MAAMiD,EAAKwoB,UACpE,IACH,iBAAanB,EAAqB,CAChCoB,KAAMzoB,EAAKjD,MAAMiD,EAAKyoB,OACrB,KAAM,EAAG,CAAC,UACb,iBAAanB,EAAiB,CAAEtwB,GAAIgJ,EAAKhJ,IAAM,KAAM,EAAG,CAAC,QACxD,MACH,wBAAoB,IAAI,GChD9B,OAA4B,qBAAiB,CAC3CuK,MAAO,CACLvK,GAAI,MAENkL,MAAMwB,GAER,MAAMmB,EAASnB,EAGTnC,GAAQ,IAAAY,QAAO0C,GAEf6jB,GAAW,IAAA1C,QAAO,EAAA2C,0BAClBC,GAAa,IAAA5C,QAAO,EAAA6C,4BAEpBrC,GAAO,IAAAxsB,KAAwB,MAC/B8uB,GAAa,IAAA1mB,WAAS,IAAMokB,EAAK/uB,OAAS+uB,EAAK/uB,MAAMsxB,gBAe3D,OAbIL,GAAYE,KACZ,IAAA7vB,OAAM,CAAC+vB,EAAYvnB,EAAMvK,KAAK,EAAEgyB,EAASC,IAASC,EAAUC,MACpDD,GACAN,GAAW,IAAA7rB,OAAMosB,IAEjBH,GACAN,EAASO,EAAOD,OAIxB,IAAAI,cAAY,IAAMR,GAAW,IAAA7rB,OAAMwE,EAAMvK,QAGtC,CAACgJ,EAAUC,MACR,kBAAc,wBAAoB,MAAO,CAC/CM,MAAO,OACPyG,QAAS,OACThN,IAAKwsB,GACJ,KAAM,SCpCX,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCLA,MACM,EAAa,CAAEhvB,IAAK,GACpB8L,EAAa,CACjB9L,IAAK,EACL+I,MAAO,aAEHiD,EAAa,CAAC,OAGpB,OAA4B,qBAAiB,CAC3CjC,MAAO,CACLknB,KAAM,CAAEjtB,KAAM,CAACwG,QAASH,UAE1BK,MAAMwB,GAIR,MAAO,CAAC1D,EAAUC,IACRyD,EAAQ+kB,OACX,kBAAc,wBAAoB,MAAO,EAAY,EAClC,IAAjB/kB,EAAQ+kB,OACJ,kBAAc,wBAAoB,MAAOnlB,MACzC,kBAAc,wBAAoB,MAAO,CACxC9L,IAAK,EACL+I,MAAO,OACPgF,IAAK7B,EAAQ+kB,MACZ,KAAM,EAAGjlB,QAElB,wBAAoB,IAAI,MCzB9B,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QCIA,GAAe,IAAApC,iBAAgB,CAC3BG,MAAO,CACHK,SAAS,QAAsC/G,OAAQgH,OAAQF,UAC/D4lB,WAAY,CACR/rB,MAAM,QAA8BjD,QACpCkJ,UAAU,GAEdjB,OAAO,QAA8BqB,OAAQhH,OAAQkH,OACrDf,SAAS,QAA2CnG,QACpD8F,QAASgB,SACT0nB,OAAQ1nB,SACRlB,OAAO,QAA0BoB,QACjC0mB,WAAW,QAA0B1mB,QACrC+lB,SAAU,CACNpsB,MAAM,QAA2BwG,SACjCP,UAAU,GAEdgnB,MAAM,QAAoCzmB,QAASH,QACnD7K,GAAI,CACAwE,KAAMqG,OACNJ,UAAU,IAGlBJ,WAAY,CACRioB,SADQ,EAERC,KAAI,GAERrnB,MAAMX,GACF,MAAM,QAAEZ,EAAF,OAAW0oB,EAAX,QAAmBznB,IAAY,IAAAO,QAAOZ,GAEtCinB,GAAO,QAAyB5mB,IAEhC,MAAEkmB,EAAF,KAASE,IAAS,QAAiBrnB,EAAS0oB,GAElD,MAAO,CACHvB,MAAAA,EACAE,KAAAA,EACAQ,KAAAA,EACAzrB,MAJG,QAKH5F,WALG,KAMHqyB,qBAAoB,SC7ChC,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,oBCmBO,MAAMC,EAAe3yB,OAAO,YACtB4yB,EAAW5yB,OAAO,QA6CzB,SAAU6yB,EACZC,GAEA,OAAO,SAAgB,KACnB,MAAMlC,EAAWkC,OAAoB,GAgBrC,GAfAlC,EAAS1wB,IAAK,QAAY,aAC1B0wB,EAASlsB,KAAOiuB,EAChB/B,EAAS,MAAamC,GAEtB,QAAkBnC,EAAe,eACjC,QAAWA,EAAU,aAAc,eACnC,QAAkBA,EAAe,aACjC,QAAWA,EAAU,YAAY,IACjC,QAAkBA,EAAe,UACjC,QAAkBA,EAAe,YACjC,QAAkBA,EAAe,cACjC,QAAkBA,EAAe,YACjC,QAAkBA,EAAe,UACjC,QAAkBA,EAAe,QAE7BA,EAAS/mB,QAAS,CAClB,MAAMA,EAAU+mB,EAAS/mB,QAAQmhB,KAAK4F,GACtCA,EAAS/mB,QAAU,YACX,IAAA5D,OAAM2qB,EAASE,WACfjnB,KAIZ,GAAI+mB,EAAS2B,OAAQ,CACjB,MAAMA,EAAS3B,EAAS2B,OAAOvH,KAAK4F,GACpCA,EAAS2B,OAAS,YACV,IAAAtsB,OAAM2qB,EAASE,WACfyB,KAkCZ,OA7BA3B,EAAS,MAAe,WACpB,MAAM,QACF9lB,EADE,WAEF2lB,EAFE,MAGF/mB,EAHE,QAIFQ,EAJE,QAKFL,EALE,OAMF0oB,EANE,MAOF5oB,EAPE,UAQF8nB,EARE,SASFX,EATE,KAUFa,EAVE,GAWFzxB,GACAwc,KACJ,MAAO,CACH5R,QAAAA,EACA2lB,WAAAA,EACA/mB,MAAAA,EACAQ,QAAAA,EACAL,QAAAA,EACA0oB,OAAAA,EACA5oB,MAAAA,EACA8nB,UAAAA,EACAX,SAAAA,EACAa,KAAAA,EACAzxB,GAAAA,IAID0wB,KAgDT,SAAUoC,EACZF,GAEA,OAAO,SAAgB,KACnB,MAAMG,EAAOH,IAkCb,OAjCAG,EAAK/yB,IAAK,QAAY,SACtB+yB,EAAKvuB,KAAOkuB,EACZK,EAAK,MAAaC,EAElBD,EAAKE,aAAc,IAAAjwB,MAAI,GACvB+vB,EAAKG,eAAgB,IAAAhD,YAAW,MAEhC6C,EAAKI,MAAQ,SAAU3D,GACnB,MAAM4D,EAAcL,EACpBK,EAAYH,YAAYxyB,OAAQ,EAChC2yB,EAAYF,cAAczyB,MAAQ+uB,EAClC4D,EAAYC,mBAAmBD,EAAa5D,GAC5C4D,EAAYE,UAAU9D,GACtB4D,EAAYH,YAAYxyB,OAAQ,EAChC2yB,EAAYF,cAAczyB,MAAQ,MAEtCsyB,EAAKnF,OAAQ,IAAAxiB,WAAS,KAClB,MAAMgoB,EAAcL,EACpB,OAAO,IAAAhtB,OAAMqtB,EAAYzF,WAAa,OAG1C,QAAkBoF,EAAW,eAC7B,QAAWA,EAAM,aAAc,eAC/B,QAAkBA,EAAW,UAC7B,QAAkBA,EAAW,kBAC7B,QAAkBA,EAAW,mBAC7B,QAAkBA,EAAW,YAE7BA,EAAK,MAAe,WAChB,MAAM,MAAE9nB,EAAF,cAAS8kB,EAAT,eAAwBC,EAAxB,SAAwCrC,GAAanR,KAC3D,MAAO,CAAEvR,MAAAA,EAAO8kB,cAAAA,EAAeC,eAAAA,EAAgBrC,SAAAA,IAG5CoF,KAQR,MAsBMQ,EAA2B,SACpCR,EACAG,GAEA,MAAMM,EAAe,CAACN,GACtB,IAAIO,EAAe,CAACP,GACpB,iBAAIH,EAAKpF,UAAT,OAAIoF,EAAKpF,UAALoF,EAAKpF,SAAT,kBAAIoF,EAAKpF,SAAT,kBAAqB,YAAjBoF,EAAKpF,SAAT,GAA2B,CACvB,MAAMA,GAAW,IAAA5nB,OAAMgtB,EAAKpF,UAC5B,oBAAO8F,EAAaze,QAApB,OAAOye,EAAaze,QAAbye,EAAaze,OAApB,iBAAOye,EAAaze,OAApB,iBAA6B,GAAtBye,EAAaze,OAAS,EAA7B,GAAgC,CAC5B,MAAM0e,EAA+B,GACrCD,EAAa1vB,SAAQyrB,IACjB7B,EACKkC,QAAO8D,GAAUA,EAAO7F,YAAc0B,GAAQmE,EAAO5F,UAAYyB,IACjE/sB,KAAIkxB,GACGA,EAAO7F,YAAc0B,EACdmE,EAAO5F,QAEX4F,EAAO7F,YAEjB+B,QAAOL,GAAQ,UAAJ,IAAKgE,EAAajvB,SAASirB,IAA3B,OAAKgE,EAAajvB,SAASirB,IAAtBgE,EAAajvB,SAASirB,GAA3B,iBAAKgE,EAAajvB,SAASirB,GAA3B,oBAAKgE,EAAajvB,SAASirB,GAAvB,KACfzrB,SAAQyrB,IAGL,cAAKkE,EAAUnvB,SAASirB,IAAxB,OAAKkE,EAAUnvB,SAASirB,IAAnBkE,EAAUnvB,SAASirB,GAAxB,iBAAKkE,EAAUnvB,SAASirB,GAAxB,oBAAKkE,EAAUnvB,SAASirB,GAAxB,KACIkE,EAAUjvB,KAAK+qB,GACfA,EAAK2D,OAAOA,eAI5BM,EAAeC,EACfF,EAAa/uB,QAAQgvB,MAK3B,SAAUG,EACZvH,EACAwH,EAAoC,KACpCC,EAAyC,GAEzC,MAAMC,GAAM,QAAkBD,GAC9B,OAAO,IAAA1oB,WAAS,IACR,UAAgB,IAAhByoB,GAAgB,OAAhBA,GAAAA,EAAgB,kBAAhBA,EAAgB,kBAAI,YAApBA,EAAA,IAA4B,SAAYxH,EAAS5rB,OAAO,IAAAsF,OAAMguB,IAC9D,KAAO1G,EAAgBhB,GAAY,WAAnC,GAAOgB,EAAgBhB,GAAY,MAAnC,OAAOgB,EAAgBhB,GAAY,KAAnC,kBAAOgB,EAAgBhB,GAAY,KAAnC,iBAAyCA,EAASD,aAA3CiB,EAAgBhB,GAAY,IAAMA,EAASD,YAAlD,GAEG,SACH,QAAWyH,EAAiBrL,UAAW,IACjC,SAAY,IAAAziB,OAAMguB,KAClB,SAAO,IAAAhuB,OAAMguB,GAAMF,EAAiBrL,cAC1CqL,EAAiBzH,mCACjB,QAAWyH,EAAiBrL,UAAW,IACjC,QAAYqL,EAAiBpzB,QAC7B,QAAOozB,EAAiBpzB,MAAOozB,EAAiBrL,gB,mCClTlE,MACM,GAAa,CAAC,YAEd,SAAU,GAAOxf,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMgnB,GAAsB,sBAAkB,YACxCC,GAAkB,sBAAkB,QAE1C,MAAO,cAACtnB,EAAKjD,MAAMiD,EAAKunB,aAAjB,OAACvnB,EAAKjD,MAAMiD,EAAKunB,aAAhBvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAACvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAAiCvnB,EAAK7I,WAAWqwB,MAAhDxnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWqwB,KAAjD,KACF,kBAAc,wBAAoB,MAAO,CACxChwB,IAAK,EACLgJ,OAAO,oBAAgB,CACnB,CACI+mB,WAAYvnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWswB,OAAS,cAAW/vB,GAEpFsI,EAAKgrB,YACLhrB,EAAKjD,MAAMiD,EAAKQ,QAAU,KAE9BD,OAAO,oBAAgB,CACnB0qB,SAAS,EACTC,WAAW,EACXC,KAAMnrB,EAAKjD,MAAMiD,EAAKorB,WACtBC,SAAUrrB,EAAKjD,MAAMiD,EAAKqrB,WAAhB,cAA8BrrB,EAAKjD,MAAMiD,EAAKsrB,QAA9C,OAA8BtrB,EAAKjD,MAAMiD,EAAKsrB,QAAhBtrB,EAAKjD,MAAMiD,EAAKsrB,OAA9C,iBAA8BtrB,EAAKjD,MAAMiD,EAAKsrB,OAA9C,oBAA8BtrB,EAAKjD,MAAMiD,EAAKsrB,OAA9C,GACVA,MAAOtrB,EAAKjD,MAAMiD,EAAKsrB,UACpBtrB,EAAKjD,MAAMiD,EAAKgB,YAEtB,EACD,wBAAoB,SAAU,CAC5BT,MAAO,kBACPI,QAASV,EAAO,KAAOA,EAAO,GAExC,IAAIW,IAAUZ,EAAKurB,QAAUvrB,EAAKurB,UAAU3qB,IAClCsG,SAAU,cAAClH,EAAKjD,MAAMiD,EAAKqrB,WAAjB,OAACrrB,EAAKjD,MAAMiD,EAAKqrB,WAAhBrrB,EAAKjD,MAAMiD,EAAKqrB,UAAjB,iBAACrrB,EAAKjD,MAAMiD,EAAKqrB,UAAjB,oBAACrrB,EAAKjD,MAAMiD,EAAKqrB,UAAjB,IAA8BrrB,EAAKjD,MAAMiD,EAAKsrB,SACvD,qBAAiBtrB,EAAKwrB,YAAa,EAAG,IACxCxrB,EAAKjD,MAAMiD,EAAKwoB,QACZ,kBAAc,kBAAa,6BAAyBxoB,EAAKjD,MAAMiD,EAAKwoB,OAAQ,CAAEhxB,IAAK,MACpF,wBAAoB,IAAI,IAC5B,iBAAa6vB,EAAqB,CAChCoB,KAAMzoB,EAAKjD,MAAMiD,EAAKyoB,OACrB,KAAM,EAAG,CAAC,UACb,iBAAanB,EAAiB,CAAEtwB,GAAIgJ,EAAKhJ,IAAM,KAAM,EAAG,CAAC,QACxD,KACH,wBAAoB,IAAI,G,sBCrCxB,SAAUy0B,GAAehrB,EAAQ,QAASirB,EAAW,OACvD,MAAO,CACHC,UAAW,oBACXC,YAAa,uBACbtD,UAAW,gDAAgDoD,KAAYjrB,IACvEorB,OAAQ,GAIV,SAAUC,KACZ,OAAOL,GAAe,MAAO,QAZjC,EAAA9zB,UAAA,GAAa,YAAYyX,GAAOA,EAAI2c,IAAI,SCgBxC,QAAe,IAAA3qB,iBAAgB,CAC3BG,MAAO,CACHvD,OAAQ,CACJxC,MAAM,QAA2BwG,SACjCP,UAAU,GAEd6pB,MAAO,CACH9vB,MAAM,QAA2BwG,SACjCP,UAAU,GAEduqB,YAAa,CACTxwB,MAAM,QAA2BwG,SACjCP,UAAU,GAEdG,SAAS,QACLC,OACAhH,OACA8G,UAEJ4lB,WAAY,CACR/rB,MAAM,QAA8BjD,QACpCkJ,UAAU,GAEdjB,OAAO,QAA8BqB,OAAQhH,OAAQkH,OACrDf,SAAS,QAA2CnG,QACpDuwB,UAAW,CACP5vB,MAAM,QAA2BwG,SACjCP,UAAU,GAEd4pB,SAAU,CACN7vB,MAAM,QAA2BwG,SACjCP,UAAU,GAEdgnB,MAAM,QAAoCzmB,QAASH,QACnD7K,GAAI,CACAwE,KAAMqG,OACNJ,UAAU,GAEd8pB,OAAQ,CACJ/vB,KAAMmG,SACNF,UAAU,IAGlBJ,WAAY,CACRioB,SADQ,EAERC,KAAI,GAERrnB,MAAMX,GACF,MAAM,OAAEvD,EAAF,MAAUstB,EAAV,YAAiBU,EAAjB,QAA8BpqB,IAAY,IAAAO,QAAOZ,GAEjDiqB,GAAa,IAAAppB,WAAS,IACpBpE,EAAOvG,MACAu0B,EAAYv0B,MAAQ,SAAW,aAEtC6zB,EAAM7zB,MACC,YAEJ,UAGL+wB,GAAO,IAAAtB,YAA+B,IAEtC8D,GAAc,IAAA5oB,WAAS,KACzB,MAAM6pB,GAAa,QAAUjuB,GACvBkuB,GAAkB,QAAUF,GAClC,OAAIC,EACIC,EACOJ,KAEJL,KAEJ,MAiDX,OA9CA,IAAAld,cAAY,KACR,MAAM4d,GAAc,QAAUvqB,GAC9B,iBAAIuqB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAmB,YAAfA,EAAJ,GAEI,YADA3D,EAAK/wB,MAAQ,IAGjB,IAAI,QAAqB00B,GAErB,YADA3D,EAAK/wB,OAAQ,QAAgB00B,IAGjC,MAAMC,GAAQ,QAAgBD,EAAYrnB,OAAS,GAAI,MACjDunB,GAAc,QAAgBF,EAAYG,YAAa,OACvDC,GAAO,QAAgBJ,EAAYK,MAAQ,IAC3CC,GAAS,QAAgBN,EAAYO,QAAU,IAC/CC,GAAgB,QAAgBR,EAAYS,eAAiB,IACnEpE,EAAK/wB,OAAQ,SACT,SAAI,KAAM,8BAED00B,EAAYrnB,OAAZ,8DAIG,MANR,8BAQKqnB,EAAYK,MAAZ,gIAKG,KACHL,EAAYO,QAAZ,kIAKG,KACHP,EAAYS,eAAZ,mGAIG,aAMb,CACHpB,WAAAA,EACAR,YAAAA,EACAxC,KAAAA,EACArxB,WAJG,KAKH4F,MAAK,YC1IjB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,WCsBO,MAAM8vB,GAAgB/1B,OAAO,iBAmE9B,SAAUg2B,GACZlD,GAEA,MAAMmD,GAAc,QAAW,GACzB/uB,GAAS,SAAW,GAC1B,OAAO,SAAgB,KACnB,MAAMktB,EAAYtB,IAElB,GACI,cAAAsB,EAAUc,aAAV,OAAAd,EAAUc,aAAVd,EAAUc,YAAV,kBAAAd,EAAUc,YAAV,kBAAyB,YAAzBd,EAAUc,YAAV,KACC,cAAAd,EAAU7H,UAAV,OAAA6H,EAAU7H,UAAV6H,EAAU7H,SAAV,kBAAA6H,EAAU7H,SAAV,kBAAsB,YAAtB6H,EAAU7H,SAAV,kBAA8B6H,EAAUsB,MAAxC,OAA8BtB,EAAUsB,MAAVtB,EAAUsB,KAAxC,kBAA8BtB,EAAUsB,KAAxC,kBAAgD,YAAlBtB,EAAUsB,KAAxC,IAMD,MAJAtyB,QAAQC,KACJ,yFACA+wB,GAEE,yFAGVA,EAAUl0B,IAAK,QAAY,cAC3Bk0B,EAAU1vB,KAAOqxB,GACjB3B,EAAU,MAAa8B,GAEvB9B,EAAU6B,YAAcA,EACxB7B,EAAUltB,OAASA,EACnBktB,EAAUE,WAAY,IAAAhpB,WAAS,IAC3B,QAAY8oB,EAA+B6B,YAAYt1B,MAAO,KAElEyzB,EAAUI,OAAQ,IAAAlpB,WAAS,IACvB,SACK8oB,EAA+B6B,YAAYt1B,OAC5C,IAAAsF,OAAOmuB,EAA+B+B,oBAG9C/B,EAAUK,OAAS,WACf,MAAM2B,EAAmBhC,EACzB,GAAIgC,EAAiBlvB,OAAOvG,MAAO,CAC/B,IAAI,IAAAsF,OAAMmwB,EAAiBlB,cAAvB,cAAwCkB,EAAiB5B,MAAM7zB,OAA/D,OAAwCy1B,EAAiB5B,MAAM7zB,OAAvBy1B,EAAiB5B,MAAM7zB,MAA/D,iBAAwCy1B,EAAiB5B,MAAM7zB,MAA/D,oBAAwCy1B,EAAiB5B,MAAM7zB,MAA/D,GAAsE,CACtE,IAAIs1B,GAAuC,IAAAhwB,OAAMmwB,EAAiBlB,aACvC,mBAAhBe,IACPA,EAAc,GAElBG,EAAiBH,YAAYt1B,MAAQ,SACjC,SAAYy1B,EAAiBH,YAAYt1B,MAAOs1B,IAChD,IAAAhwB,OAAMmwB,EAAiBD,kBAE3BC,EAAiBC,eAErBD,EAAiBlvB,OAAOvG,OAAQ,EAChCy1B,EAAiBE,WACjBF,EAAiB/C,OAAOA,aAExB,IAAAptB,OAAMmwB,EAAiB7B,YACvB,IAAAtuB,OAAMmwB,EAAiB3F,cAAgB,cADvC,cAEC2F,EAAiB5B,MAAM7zB,OAFxB,OAECy1B,EAAiB5B,MAAM7zB,OAAvBy1B,EAAiB5B,MAAM7zB,MAFxB,iBAECy1B,EAAiB5B,MAAM7zB,MAFxB,oBAECy1B,EAAiB5B,MAAM7zB,MAFxB,KAIAy1B,EAAiB/C,OAAOA,QACxB+C,EAAiBlvB,OAAOvG,OAAQ,EAChCy1B,EAAiBG,cAGzBnC,EAAUoC,SAAW,SAAUC,GAC3B,MAAML,EAAmBhC,EACzB,IAAI6B,GAAuC,IAAAhwB,OAAMmwB,EAAiBlB,aAE9DkB,EAAiBlvB,OAAOvG,OAAxB,cACAs1B,GADA,OACAA,GAAAA,EADA,mBACAA,EADA,oBACgB,QAAhBA,EADA,MAEiB,IAAhBA,GAAwB,SAAY,EAAGA,KAFxC,cAGCG,EAAiB5B,MAAM7zB,OAHxB,OAGCy1B,EAAiB5B,MAAM7zB,OAAvBy1B,EAAiB5B,MAAM7zB,MAHxB,iBAGCy1B,EAAiB5B,MAAM7zB,MAHxB,oBAGCy1B,EAAiB5B,MAAM7zB,MAHxB,KAK2B,mBAAhBs1B,IACPA,EAAc,GAElBG,EAAiBH,YAAYt1B,MAAQ,SACjC,SAAYy1B,EAAiBH,YAAYt1B,MAAOs1B,IAChD,IAAAhwB,OAAMmwB,EAAiBD,kBAE3BC,EAAiBC,eACjB,cAAII,GAAJ,OAAIA,GAAAA,EAAJ,mBAAIA,EAAJ,oBAA0B,QAAtBA,EAAJ,KACIL,EAAiBlvB,OAAOvG,OAAQ,EAChCy1B,EAAiBE,WACjBF,EAAiB/C,OAAOA,YAIpC,QAAkBe,EAAgB,eAClC,QAAWA,EAAW,aAAc,cACpC,MAAM3D,EAAa2D,EAAU3D,WA8E7B,OA7EA2D,EAAU3D,YAAa,IAAAnlB,WAAS,KACI,IAA5BxD,GAAA,oBAAoC,IAAA7B,OAAMmuB,EAAUI,OAC7C,WAEJ,IAAAvuB,OAAMwqB,KAEjB,cAAI2D,EAAUc,aAAd,OAAId,EAAUc,aAAVd,EAAUc,YAAd,kBAAId,EAAUc,YAAd,kBAA6B,YAAzBd,EAAUc,YAAd,KACId,EAAUc,aAAc,IAAA5pB,WAAS,KAC7B,MAAM8qB,EAAmBhC,EACzB,QACI,cAACgC,EAAiBlvB,OAAOvG,OAAzB,OAACy1B,EAAiBlvB,OAAOvG,OAAxBy1B,EAAiBlvB,OAAOvG,MAAzB,iBAACy1B,EAAiBlvB,OAAOvG,MAAzB,oBAACy1B,EAAiBlvB,OAAOvG,MAAzB,kBACAy1B,EAAiB7J,UADjB,OACA6J,EAAiB7J,UAAjB6J,EAAiB7J,SADjB,kBACA6J,EAAiB7J,SADjB,kBAC6B,YAA7B6J,EAAiB7J,SADjB,kBAEA6J,EAAiBV,MAFjB,OAEAU,EAAiBV,MAAjBU,EAAiBV,KAFjB,kBAEAU,EAAiBV,KAFjB,kBAEyB,YAAzBU,EAAiBV,KAFjB,KAMG,SAAYU,EAAiB7J,SAAS5rB,OAAO,IAAAsF,OAAMmwB,EAAiBV,WAGnF,cAAItB,EAAUzC,MAAd,OAAIyC,EAAUzC,MAAVyC,EAAUzC,KAAd,kBAAIyC,EAAUzC,KAAd,kBAAsB,YAAlByC,EAAUzC,KAAd,KACIyC,EAAUzC,MAAO,IAAArmB,WACb,IACI,SAAW,IAAArF,OAAOmuB,EAA+B+B,iBAAkB,IAAnE,gBACE,IAAAlwB,OAAMmuB,EAAUI,QADlB,SACE,IAAAvuB,OAAMmuB,EAAUI,WAAhB,IAAAvuB,OAAMmuB,EAAUI,QADlB,oBACE,IAAAvuB,OAAMmuB,EAAUI,QADlB,sBACE,IAAAvuB,OAAMmuB,EAAUI,OADlB,OAKZ,QAAkBJ,EAAgB,aAClC,QAAWA,EAAW,YAAY,IAClC,QAAkBA,EAAgB,gBAClC,QAAkBA,EAAgB,oBAClC,QAAWA,EAAW,kBAAmB,IACzC,QAAkBA,EAAgB,SAClC,QAAkBA,EAAgB,SAClC,QAAkBA,EAAgB,YAClC,QAAkBA,EAAgB,UAClC,QAAkBA,EAAgB,WAElC,cAAIA,EAAUf,OAAd,OAAIe,EAAUf,OAAVe,EAAUf,MAAd,kBAAIe,EAAUf,MAAd,kBAAuB,YAAnBe,EAAUf,MAAd,IACI,EAAAxyB,UAAA,GAAa,SAAS61B,IACdA,IAAiBtC,EAAUf,OAAUe,EAAUltB,OAAwBvG,OACtEyzB,EAAUK,YAKvBL,EAAU,MAAe,WACrB,MAAM,OACFltB,EADE,MAEFstB,EAFE,YAGFU,EAHE,QAIFpqB,EAJE,WAKF2lB,EALE,MAMF/mB,EANE,QAOFQ,EAPE,UAQFoqB,EARE,SASFC,EATE,KAUF5C,EAVE,GAWFzxB,EAXE,OAYFu0B,GACA/X,KACJ,MAAO,CACHxV,OAAAA,EACAstB,MAAAA,EACAU,YAAAA,EACApqB,QAAAA,EACA2lB,WAAAA,EACA/mB,OAAO,IAAAzD,OAAMyD,GACbQ,QAAAA,EACAoqB,UAAAA,EACAC,SAAAA,EACA5C,KAAAA,EACAzxB,GAAAA,EACAu0B,OAAAA,IAIDL,KC7IT,SAAUuC,GACZ7D,GAEA,OAAO,SAAgB,KACnB,MAAM8D,EAAa9D,IAuDnB,MArDA,cAAI8D,EAAWC,aAAf,OAAID,EAAWC,aAAXD,EAAWC,YAAf,kBAAID,EAAWC,YAAf,kBAA8B,YAA1BD,EAAWC,YAAf,KACID,EAAWC,aAAc,IAAAvrB,WAAS,KAC9B,IAAIwrB,EAAOF,EAAWG,aAChBH,EAAWG,aAAaC,MACpBJ,EAAWK,QAAQJ,YAAYD,IAEnCA,EAAWK,QAAQJ,YAAYD,GAMrC,OALAE,EAAO,WAAcA,GAAMx1B,IAAI,GAE/B,eAAK,IAAA2E,OAAM2wB,EAAWM,SAAtB,QAAK,IAAAjxB,OAAM2wB,EAAWM,UAAjB,IAAAjxB,OAAM2wB,EAAWM,QAAtB,kBAAK,IAAAjxB,OAAM2wB,EAAWM,QAAtB,qBAAK,IAAAjxB,OAAM2wB,EAAWM,QAAtB,KACIJ,EAAOA,EAAKt1B,IAAI,IAEbs1B,MAGf,cAAIF,EAAWO,YAAf,OAAIP,EAAWO,YAAXP,EAAWO,WAAf,kBAAIP,EAAWO,WAAf,kBAA6B,YAAzBP,EAAWO,WAAf,KACIP,EAAWO,WAAaP,EAAWC,aAEvC,cAAID,EAAWQ,WAAf,OAAIR,EAAWQ,WAAXR,EAAWQ,UAAf,kBAAIR,EAAWQ,UAAf,kBAA4B,YAAxBR,EAAWQ,UAAf,KACIR,EAAWQ,WAAY,IAAA9rB,WAAS,KAC5B,IAAI+rB,EAAUT,EAAWK,QAAQG,UAAUR,GAE3C,OADIA,EAAWU,cAAaD,EAAU,UAAaA,IAC5CA,MAGf,cAAIT,EAAWW,QAAf,OAAIX,EAAWW,QAAXX,EAAWW,OAAf,kBAAIX,EAAWW,OAAf,kBAAyB,YAArBX,EAAWW,OAAf,KACIX,EAAWW,QAAS,IAAAjsB,WAAS,KACzB,IAAIksB,EAAOZ,EAAWK,QAAQM,OAAOX,GAErC,OADIA,EAAWU,cAAaE,EAAO,UAAaA,IACzCA,MAIf,cAAIZ,EAAWa,SAAf,OAAIb,EAAWa,SAAXb,EAAWa,QAAf,kBAAIb,EAAWa,QAAf,kBAA0B,YAAtBb,EAAWa,QAAf,KACIb,EAAWa,QAAU,WACjBb,EAAWc,aAAa/2B,MAAQ,SAC5Bi2B,EAAWc,aAAa/2B,OACxB,IAAAsF,OAAO2wB,EAAiCC,cAG5CD,EAAWe,aAAah3B,MAAQ,KAIxC,QAAkBi2B,EAAiB,gBACnC,QAAkBA,EAAiB,eACnC,QAAkBA,EAAiB,cACnC,QAAkBA,EAAiB,WACnC,QAAkBA,EAAiB,WACnC,QAAWA,EAAY,UAAU,IACjC,QAAkBA,EAAiB,gBACnC,QAAWA,EAAY,eAAe,GAE/BA,KAqGT,SAAUgB,GACZzY,EACAhC,GAEA,MAAM0a,GAAgB,QAAkB1Y,GAClC2Y,GAAoB,QAAkB3a,GAC5C,MAAO,CACH0Z,YAAYD,GACR,GAAI,QAAWA,EAAWe,aAAah3B,OAAO,IAAAsF,OAAM4xB,IAChD,OAAO,EAGX,MAAMf,EAAO,SAAYF,EAAWe,aAAah3B,OAAO,IAAAsF,OAAM4xB,IAAgBjd,KAC1E,IAAA3U,OAAM6xB,IAGV,OAAIhB,EAAK/e,QACE,IAAI,KAAQ,GAEhB+e,GAEXM,UAAUR,GACN,IAAIS,GAAyB,IAAApxB,OAAM2wB,EAAWC,aAK9C,OAJID,EAAWG,eACXM,EAAUT,EAAWG,aAAagB,OAAOV,IAE7CA,EAAU,SAAY,EAAGA,GAClB,UAAaA,GAAS,IAAApxB,OAAM6xB,IAAoB1X,OAAM,IAAAna,OAAM4xB,KAEvEN,OAAOX,GACH,IAAIY,EAAsB,UAAY,IAAAvxB,OAAM2wB,EAAWC,aAAc,GAKrE,OAJID,EAAWG,eACXS,EAAOZ,EAAWG,aAAagB,OAAOP,IAE1CA,EAAO,SAAY,EAAGA,GACf,UAAaA,GAAM,IAAAvxB,OAAM6xB,IAC3B1X,OAAM,IAAAna,OAAM4xB,IACZv2B,KAAI,IAAA2E,OAAM4xB,MAKrB,SAAUG,GACZC,EACA9Y,EACAhC,GAEA,MAAO,CACH0Z,YAAYD,GACR,MAAME,EAAO,SAAYF,EAAWe,aAAah3B,OAAO,IAAAsF,OAAMgyB,IACzD5f,KAAI,IAAApS,OAAMkZ,IACVI,MAAK,IAAAtZ,OAAMkX,IACX5Z,IAAI,GAET,OAAIuzB,EAAK/e,QACE,IAAI,KAAQ,GAEhB+e,GAEXM,UAAUR,GACN,IAAIS,GAAyB,IAAApxB,OAAM2wB,EAAWC,aAK9C,OAJID,EAAWG,eACXM,EAAUT,EAAWG,aAAagB,OAAOV,IAE7CA,EAAU,SAAY,EAAGA,GAClB,UAAY,IAAApxB,OAAMkZ,GAAO,SAAYkY,EAAQhb,IAAI,IAAI,IAAApW,OAAMkX,KAAYiD,OAC1E,IAAAna,OAAMgyB,KAGdV,OAAOX,GACH,IAAIY,EAAsB,UAAY,IAAAvxB,OAAM2wB,EAAWC,aAAc,GAKrE,OAJID,EAAWG,eACXS,EAAOZ,EAAWG,aAAagB,OAAOP,IAE1CA,EAAO,SAAY,EAAGA,GACf,UAAY,IAAAvxB,OAAMkZ,GAAO,SAAYqY,EAAKnb,IAAI,IAAI,IAAApW,OAAMkX,KAC1DiD,OAAM,IAAAna,OAAMgyB,IACZ32B,KAAI,IAAA2E,OAAMkZ,MAWrB,SAAU+Y,GACZpF,GAEA,OAAO6D,GAAiB7D,GAQtB,SAAUqF,GACZrF,GAEA,OAAO6D,IAAiB,KACpB,MAAMC,EAAgB9D,IA4CtB,OA1CA,QAAW8D,EAAY,UAAU,GAEjC,cAAIA,EAAWC,aAAf,OAAID,EAAWC,aAAXD,EAAWC,YAAf,kBAAID,EAAWC,YAAf,kBAA8B,YAA1BD,EAAWC,YAAf,KACID,EAAWC,aAAc,IAAAvrB,WAAS,KAC9B,IAAIwrB,EAAOF,EAAWG,aAChBH,EAAWG,aAAaC,MACpBJ,EAAWK,QAAQJ,YAAYD,IAEnCA,EAAWK,QAAQJ,YAAYD,GAMrC,OALAE,EAAO,WAAcA,GAAMx1B,IAAIs1B,EAAWc,aAAa/2B,OAEvD,eAAK,IAAAsF,OAAM2wB,EAAWM,SAAtB,QAAK,IAAAjxB,OAAM2wB,EAAWM,UAAjB,IAAAjxB,OAAM2wB,EAAWM,QAAtB,kBAAK,IAAAjxB,OAAM2wB,EAAWM,QAAtB,qBAAK,IAAAjxB,OAAM2wB,EAAWM,QAAtB,KACIJ,EAAOA,EAAKt1B,IAAI,SAAYo1B,EAAWc,aAAa/2B,MAAO,KAExDm2B,MAGf,cAAIF,EAAWO,YAAf,OAAIP,EAAWO,YAAXP,EAAWO,WAAf,kBAAIP,EAAWO,WAAf,kBAA6B,YAAzBP,EAAWO,WAAf,KACIP,EAAWO,YAAa,IAAA7rB,WAAS,KAC7B,IAAIwrB,EAAO,SACPF,EAAWK,QAAQJ,YAAYD,GAC/BA,EAAWc,aAAa/2B,OAC1BW,IAAI,GAKN,MAHA,eAAK,IAAA2E,OAAM2wB,EAAWM,SAAtB,QAAK,IAAAjxB,OAAM2wB,EAAWM,UAAjB,IAAAjxB,OAAM2wB,EAAWM,QAAtB,kBAAK,IAAAjxB,OAAM2wB,EAAWM,QAAtB,qBAAK,IAAAjxB,OAAM2wB,EAAWM,QAAtB,KACIJ,EAAOA,EAAKt1B,IAAI,IAEbs1B,OAGf,QAAWF,EAAY,WAAW,WAC9BA,EAAWc,aAAa/2B,MAAQi2B,EAAWG,aACrCH,EAAWG,aAAaC,OACpB,IAAA/wB,OAAO2wB,EAAiCC,eAE5C,IAAA5wB,OAAO2wB,EAAiCC,aAI9CD,EAAWe,aAAah3B,MAAQ,KAG7Bi2B,KDhIf,EAAA/1B,UAAA,GAAa,gBAAgBiH,KACzB,QAAWA,EAAU,kBAAkB,OAG3C,UACI,SAAI,KAAM,iBAAC,MAAP,MAEU,wBAFV,sBAGyBnH,GAAUmH,GAAA,kBAA0BnH,EAH7D,WAIgBmH,GAAA,mBAJhB,S,eEhTF,SAAU,GAAOoB,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMinB,GAAkB,sBAAkB,QAE1C,MAAO,cAACtnB,EAAKjD,MAAMiD,EAAKunB,aAAjB,OAACvnB,EAAKjD,MAAMiD,EAAKunB,aAAhBvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAACvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAAiCvnB,EAAK7I,WAAWqwB,MAAhDxnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWqwB,KAAjD,KACF,kBAAc,wBAAoB,MAAO,CACxChwB,IAAK,EACLgJ,OAAO,oBAAgB,CACnB,CACI+mB,WAAYvnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWswB,OAAS,cAAW/vB,GAEpFsI,EAAKjD,MAAMiD,EAAKQ,QAAU,KAE9BD,OAAO,oBAAgB,CAAE0qB,SAAS,EAAMiE,WAAW,EAAM/D,KAAMnrB,EAAKjD,MAAMiD,EAAKmvB,WAAYnvB,EAAKjD,MAAMiD,EAAKgB,YAC1G,GACA,kBAAc,kBAAa,6BAAyBhB,EAAKjD,MAAMiD,EAAKwoB,UACrE,iBAAalB,EAAiB,CAAEtwB,GAAIgJ,EAAKhJ,IAAM,KAAM,EAAG,CAAC,QACxD,KACH,wBAAoB,IAAI,GCX9B,QAAe,IAAAoK,iBAAgB,CAC3BG,MAAO,CACHgmB,WAAY,CACR/rB,MAAM,QAA8BjD,QACpCkJ,UAAU,GAEdG,QAAS,CACLpG,MAAM,QACFqG,OACAhH,OACA8G,UAEJF,UAAU,GAEdjB,OAAO,QAA8BqB,OAAQhH,OAAQkH,OACrDf,SAAS,QAA2CnG,QACpDs0B,OAAQ,CACJ3zB,MAAM,QAA2BwG,SACjCP,UAAU,GAEdzK,GAAI,CACAwE,KAAMqG,OACNJ,UAAU,IAGlBJ,WAAY,CACRkoB,KAAI,GAERrnB,MAAMX,GACF,MAAM,QAAEK,IAAY,IAAAO,QAAOZ,GAErBinB,GAAO,IAAAtB,YAA+B,IAkC5C,OAhCA,IAAA3Y,cAAY,KACR,MAAM4d,GAAc,QAAUvqB,GAC9B,iBAAIuqB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAmB,YAAfA,EAAJ,GAEI,YADA3D,EAAK/wB,MAAQ,IAGjB,IAAI,QAAqB00B,GAErB,YADA3D,EAAK/wB,OAAQ,QAAgB00B,IAGjC,MAAMiD,GAAc,QAAgBjD,EAAYrB,YAAa,MACvD6B,GAAgB,QAAgBR,EAAYS,eAAiB,GAAI,KACjEyC,GAAiB,QAAgBlD,EAAYmD,gBAAkB,GAAI,QACzE9G,EAAK/wB,OAAQ,SACT,SAAI,KAAM,6DAGD00B,EAAYS,eAAZ,8DAIG,KACHT,EAAYmD,gBAAZ,8BACc,gBADd,kCAIG,aAMb,CACH9G,KAAAA,EACAzrB,MAFG,QAGH5F,WAAU,SCrEtB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,WCsBA,MAAMo4B,IAAQ,WAEDC,GAAgB14B,OAAO,aAEpC,IAAY24B,GAkDN,SAAUC,GACZ9F,GAEA,MAAMuF,GAAS,SAAoB,GACnC,OAAO,SAAgB,KACnB,MAAMD,EAAYtF,OAAoB,GACtCsF,EAAUl4B,IAAK,QAAY,cAC3Bk4B,EAAU1zB,KAAOg0B,GACjBN,EAAU,MAAaS,GAEvBT,EAAUC,OAASA,EACnBD,EAAU5B,SAAW,WACjB6B,EAAO13B,OAAQ,IAGnB,QAAkBy3B,EAAgB,eAClC,QAAWA,EAAW,aAAc,cACpC,MAAM3H,EAAa2H,EAAU3H,WAsC7B,GArCA2H,EAAU3H,YAAa,IAAAnlB,WAAS,KAC5B,MAAMR,GAAU,IAAA7E,OAAOmyB,EAA+BttB,SACtD,OAAQhD,GAAA,cACJ,QACA,KAAK6wB,GAAiBG,IAClB,OAAO,IAAA7yB,OAAMwqB,GACjB,KAAKkI,GAAiBI,aAClB,OACI,IAAA9yB,OAAMmyB,EAAUC,SAAhB,eAEe,MAAXvtB,GACkB,iBAAXA,GACP,mBAAqBA,IAJzB,QAEe,MAAXA,GACkB,iBAAXA,GACP,mBAAqBA,KAFV,MAAXA,GACkB,iBAAXA,GACP,mBAAqBA,GAJzB,kBAEe,MAAXA,GACkB,iBAAXA,GACP,mBAAqBA,GAJzB,qBAEe,MAAXA,GACkB,iBAAXA,GACP,mBAAqBA,GAJzB,GAOO,WAEJ,IAAA7E,OAAMwqB,GACjB,KAAKkI,GAAiBK,WAClB,OAAI,IAAA/yB,OAAMmyB,EAAUC,QACT,WAEJ,IAAApyB,OAAMwqB,GACjB,KAAKkI,GAAiBjI,KAClB,OAAO,eAInB,QAAkB0H,EAAgB,UAClC,QAAkBA,EAAgB,YAClC,QAAkBA,EAAgB,WAElCA,EAAU,MAAe,WACrB,MAAM,WAAE3H,EAAF,QAAc3lB,EAAd,MAAuBpB,EAAvB,QAA8BQ,EAA9B,OAAuCmuB,EAAvC,GAA+Cn4B,GAAOwc,KAC5D,MAAO,CAAE+T,WAAAA,EAAY3lB,QAAAA,EAASpB,OAAO,IAAAzD,OAAMyD,GAAQQ,QAAAA,EAASmuB,OAAAA,EAAQn4B,GAAAA,IAGpEk4B,EAAUa,WAAY,CACtB,MAAMC,EAAmBd,GACzB,IAAA3gB,cAAY,KACR,GACI,cAACyhB,EAAiBb,OAAO13B,OAAzB,OAACu4B,EAAiBb,OAAO13B,OAAxBu4B,EAAiBb,OAAO13B,MAAzB,iBAACu4B,EAAiBb,OAAO13B,MAAzB,oBAACu4B,EAAiBb,OAAO13B,MAAzB,KACA,IAAAsF,OAAMizB,EAAiBzI,cAAgB,cACvCyI,EAAiBD,iBAEjBC,EAAiBb,OAAO13B,OAAQ,EAChCu4B,EAAiB7C,eACb6C,EAAiBpuB,SAAS,CAC1B,MAAMA,GAAU,IAAA7E,OAAMizB,EAAiBpuB,SACjCquB,GAAU,SACZ,QAAqBruB,GAAWA,EAAUA,EAAQkpB,aAEtDyE,IAAM,kLAetB,OAAOL,MAvIf,SAAYO,GACR,eAEA,iCACA,6BACA,kBALJ,CAAYA,KAAAA,GAAgB,KAiJ5B,EAAA93B,UAAA,GAAa,gBAAgBiH,KACzB,QAAWA,EAAU,YAAa6wB,GAAiBG,QAGvD,MAAMM,GAAmBr1B,OAAO0rB,OAAOkJ,IAAkBh2B,KAAI02B,IAAU,CACnExqB,OAAO,SAAawqB,GACpB14B,MAAO04B,OAGX,UACI,SAAI,KAAM,iBAAC,MAAP,MAEU,kBAFV,QAGaD,GAHb,sBAIyBz4B,GAAUmH,GAAA,aAAqBnH,EAJxD,WAKgBmH,GAAA,cALhB,SCpLD,MAAMwxB,GAAYt5B,OAAO,SAsB1B,SAAUu5B,GACZzG,GAEA,OAAO,SAAgB,KACnB,MAAMO,EAAQP,IAyBd,OAxBAO,EAAMnzB,IAAK,QAAY,UACvBmzB,EAAM3uB,KAAO40B,GAEbjG,EAAMA,MAAQ,WACV,MAAM1vB,EAAgBC,IACdA,GAAsB,kBAARA,IACd,cAAI,MAAJ,OAAI,WAAJ,kBAAI,KAAJ,kBAAuBA,GAAnB,QAAmBA,EAAvB,GACKA,EAAmB,MAAiBjD,MAASiD,EAC1C,MAEG,KAAEA,aAAe,YAAjB,GAAEA,aAAe,OAAjB,OAAEA,aAAe,MAAjB,kBAAEA,aAAe,MAAjB,qBAAEA,aAAe,MAAjB,mBAA8B,IAAAX,OAAMW,IAApC,QAA8B,IAAAX,OAAMW,KAAN,IAAAX,OAAMW,GAApC,kBAA8B,IAAAX,OAAMW,GAApC,qBAA8B,IAAAX,OAAMW,GAApC,IACPG,OAAO0rB,OAAO7rB,GAAKK,SAAQL,GACvBD,EAAaC,QAK7B,IAAAqC,OAAOotB,EAAuBmG,eAAev1B,QAAQN,GACrD,EAAA9C,UAAA,KAAe,QAASwyB,GACxBA,EAAMG,cAGV,QAAkBH,EAAY,iBAEvBA,KAIf,MAAMoG,GAAqD,GAa3D,EAAA54B,UAAA,GAAa,eAAe2C,IAExBi2B,GAAUj2B,EAAMtD,QAChBu5B,GAAUj2B,EAAMtD,SAAMU,KC1E1B,QAA4B,qBAAiB,CAC3C6J,MAAO,CACL8hB,SAAU,KACV5iB,MAAO,MAETyB,MAAMwB,GAER,MAAMnC,EAAQmC,EAOR8f,GAAS,IAAAphB,WAAS,IAAMiiB,EAAgB9iB,EAAM8hB,YAEpD,MAAO,CAACrjB,EAAUC,MACR,kBAAc,wBAAoB,KAAM,CAC9CO,OAAO,oBAAgB,CAAEC,MAAOiD,EAAQjD,MAAO,mBAAe,gBAAf,iBAAe,gBAAf,iBAAiCiD,EAAQjD,OAA1B,gBAAkBiD,EAAQjD,MAAzC,OAC9C,sBAAiB,WAAO+iB,IAAU,OCvBvC,MAAM,GAAc,GAEpB,UCFA,MAAM,GAAa,CAAEhsB,IAAK,GACpB,GAAa,CAAEA,IAAK,GACpB,IAA0B,qBAAiB,MAC3CiM,IAA0B,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,IAC7CQ,IAA0B,wBAAoB,KAAM,KAAM,KAAb,KAAoB,EAApB,qBAAoB,EAApB,wBAAoB,EAApB,IAUnD,QAA4B,qBAAiB,CAC3C1C,MAAO,CACL8hB,SAAU,KACV5iB,MAAO,KACPO,QAAS,KACTR,MAAO,KACPosB,cAAe,MAEjB1qB,MAAMwB,GAER,MAAMmB,EAASnB,EASTnC,GAAQ,IAAAY,QAAO0C,GAEf2rB,GAAkB,QACpBjvB,EAAMqrB,eAGJ6D,GAAa,IAAAruB,WAAS,IACjB,QAAWb,EAAM8hB,SAAS5rB,MAAO,YAG5C,MAAO,CAACuI,EAAUC,MACR,kBAAc,wBAAoB,MAAO,KAAM,EACpD,WAAOwwB,KACH,kBAAc,wBAAoB,OAAQ,GAAY,eACvD,wBAAoB,IAAI,IAC5B,iBAAaC,GAAa,CACxBrN,SAAU3f,EAAQ2f,SAClB5iB,MAAOiD,EAAQjD,OAAS,SACvB,KAAM,EAAG,CAAC,WAAY,WACzB,qBAAiB,SAAD,iBAAC,IAAD,kBAAO,qBAAiBiD,EAAQ2f,SAASD,cAAxC,KAAM,qBAAiB1f,EAAQ2f,SAASD,aAAxC,GAAsD,IACtE,WAAOoN,KACH,kBAAc,wBAAoB,OAAQ,GAAY,CACrD,KACC,kBAAc,kBAAa,8BAAyB,WAAOA,UAE9D,wBAAoB,IAAI,GAC5B/sB,GACAQ,SC5DJ,MAAM,GAAc,GAEpB,U,UC4DM,SAAU0sB,GACZnlB,EACAtF,GA4CA,OA1CA,QAAkBA,EAAc,YAChC,QAAkBA,EAAc,YAChC,QAAkBA,EAAc,UAChC,QAAkBA,EAAc,cAChC,QAAWA,EAAS,YAAa,WACjC,QAAkBA,EAAc,YAChC,QAAkBA,EAAc,YAEhC,IAAA1D,WAAS,KACD0D,EAAQ0qB,WACR,KAAI,SAAJ,kBAAI,SAAJ,kBAAgBplB,GAAZ,WAAYA,EAAhB,IACItR,QAAQyB,MACJ,sFAEJuK,EAAQ0qB,UAAW,GAGlBplB,EAAgBqlB,OAAS3qB,EAAQ2qB,QAAS,SAAoB,IAIvE,MAAMC,EAAmBtlB,EAAQ,MACjCA,EAAQ,MAAaqB,GAAA,EACrB,MAAMkkB,EAAsBvlB,EAAQ,MAAasW,KAAKtW,GACtDA,EAAQ,MAAe,WACnB,MAAM,QAAE5J,EAAF,QAAWZ,EAAX,MAAoBR,EAApB,UAA2BsM,EAA3B,QAAsCG,EAAtC,QAA+CD,EAA/C,OAAwD6jB,GAAWrd,KACzE,MAAO,CACHhI,QAAS,CACL,CAAC,MAAYslB,EACb,CAAC,MAAcC,GAEnBnvB,QAAAA,EACAZ,QAAAA,EACAR,OAAO,IAAAzD,OAAMyD,GACbsM,UAAAA,EACAG,QAAAA,EACAD,QAAAA,EACA6jB,OAAAA,IAEN/O,KAAK5b,MAGJA,EC7GL,SAAU,GAAOlG,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMgnB,GAAsB,sBAAkB,YACxCC,GAAkB,sBAAkB,QAE1C,MAAO,cAACtnB,EAAKjD,MAAMiD,EAAKunB,aAAjB,OAACvnB,EAAKjD,MAAMiD,EAAKunB,aAAhBvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAACvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAAiCvnB,EAAK7I,WAAWqwB,MAAhDxnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWqwB,KAAjD,KACF,kBAAc,wBAAoB,SAAU,CAC3ChwB,IAAK,EACLgJ,OAAO,oBAAgB,CACnB,CAAE+mB,WAAYvnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWswB,OAAS,cAAW/vB,GAClFsI,EAAKjD,MAAMiD,EAAKQ,QAAU,KAE9BG,QAASV,EAAO,KAAOA,EAAO,GAEtC,IAAIW,IAAUZ,EAAKW,SAAWX,EAAKW,WAAWC,IACtCinB,YAAa5nB,EAAO,KAAOA,EAAO,GAE1C,IAAIW,IAAUZ,EAAK8nB,OAAS9nB,EAAK8nB,SAASlnB,IAClCmnB,aAAc9nB,EAAO,KAAOA,EAAO,GAE3C,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCqnB,UAAWhoB,EAAO,KAAOA,EAAO,GAExC,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCsnB,aAAcjoB,EAAO,KAAOA,EAAO,GAE3C,IAAIW,IAAUZ,EAAK8nB,OAAS9nB,EAAK8nB,SAASlnB,IAClCunB,WAAYloB,EAAO,KAAOA,EAAO,GAEzC,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCwnB,cAAenoB,EAAO,KAAOA,EAAO,GAE5C,IAAIW,IAAUZ,EAAKgoB,MAAQhoB,EAAKgoB,QAAQpnB,IAChCL,OAAO,oBAAgB,CACnB0qB,SAAS,EACT+F,WAAW,EACXrJ,IAAK3nB,EAAKjD,MAAMiD,EAAK4nB,UACrBqJ,OAAQ,UAAF,IAAGjxB,EAAKjD,MAAMiD,EAAK4nB,WAAnB,OAAG5nB,EAAKjD,MAAMiD,EAAK4nB,WAAhB5nB,EAAKjD,MAAMiD,EAAK4nB,UAAnB,iBAAG5nB,EAAKjD,MAAMiD,EAAK4nB,UAAnB,oBAAG5nB,EAAKjD,MAAMiD,EAAK4nB,UAAjB,GACRpH,MAAOxgB,EAAKwgB,SACTxgB,EAAKjD,MAAMiD,EAAKgB,YAEtB,CACAhB,EAAKjD,MAAMiD,EAAKwoB,QACZ,kBAAc,kBAAa,6BAAyBxoB,EAAKjD,MAAMiD,EAAKwoB,OAAQ,CAAEhxB,IAAK,MACpF,wBAAoB,IAAI,IAC5B,iBAAa6vB,EAAqB,CAChCoB,KAAMzoB,EAAKjD,MAAMiD,EAAKyoB,OACrB,KAAM,EAAG,CAAC,UACb,iBAAanB,EAAiB,CAAEtwB,GAAIgJ,EAAKhJ,IAAM,KAAM,EAAG,CAAC,QACxD,MACH,wBAAoB,IAAI,GC3B9B,QAAe,IAAAoK,iBAAgB,CAC3BG,MAAO,CACHK,QAAS,CACLpG,MAAM,QACFX,OACAgH,OACAF,UAEJF,UAAU,GAEd8lB,WAAY,CACR/rB,MAAM,QAA8BjD,QACpCkJ,UAAU,GAEdjB,OAAO,QAA8B3F,OAAQgH,OAAQE,OACrDf,SAAS,QAA2CnG,QACpD8F,QAASgB,SACT0nB,OAAQ1nB,SACRimB,SAAU,CACNpsB,MAAM,QAA2BwG,SACjCP,UAAU,GAEd+e,MAAOxe,QACPymB,MAAM,QAAoCzmB,QAASH,QACnD7K,GAAI,CACAwE,KAAMqG,OACNJ,UAAU,IAGlBJ,WAAY,CACRkoB,KADQ,EAERD,SAAQ,GAEZpnB,MAAMX,GACF,MAAM,QAAEK,EAAF,QAAWjB,EAAX,OAAoB0oB,IAAW,IAAAlnB,QAAOZ,GAEtCinB,GAAO,IAAAtB,YAA+B,KAE5C,IAAA3Y,cAAY,KACR,MAAM4d,GAAc,QAAUvqB,GAC9B,iBAAIuqB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAmB,YAAfA,EAAJ,GAEI,YADA3D,EAAK/wB,MAAQ,IAGjB,IAAI,QAAqB00B,GAErB,YADA3D,EAAK/wB,OAAQ,QAAgB00B,IAGjC,MAAMC,GAAQ,QAAgBD,EAAYrnB,OAAS,GAAI,MACjDunB,GAAc,QAAgBF,EAAYG,YAAa,OAC7D9D,EAAK/wB,OAAQ,SACT,SAAI,KAAM,8BAED00B,EAAYrnB,OAAZ,8DAIG,MANR,sCAaZ,MAAM,MAAEgjB,EAAF,KAASE,IAAS,QAAiBrnB,EAAS0oB,GAElD,MAAO,CACHvB,MAAAA,EACAE,KAAAA,EACAQ,KAAAA,EACArxB,WAJG,KAKH4F,MAAK,YCxFjB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCeO,MAAMm0B,GAAgBp6B,OAAO,aA+C9B,SAAUq6B,GACZvH,GAEA,OAAO,SAAgB,KACnB,MAAMoH,EAAYpH,OAAoB,GActC,GAbAoH,EAAUh6B,IAAK,QAAY,cAC3Bg6B,EAAUx1B,KAAO01B,GACjBF,EAAU,MAAaI,IAEvB,QAAkBJ,EAAgB,eAClC,QAAWA,EAAW,aAAc,eACpC,QAAkBA,EAAgB,aAClC,QAAWA,EAAW,YAAY,IAClC,QAAkBA,EAAgB,YAClC,QAAkBA,EAAgB,UAClC,QAAkBA,EAAgB,SAClC,QAAkBA,EAAgB,WAE9BA,EAAUrwB,QAAS,CACnB,MAAMA,EAAUqwB,EAAUrwB,QAAQmhB,KAAKkP,GACvCA,EAAUrwB,QAAU,SAAUkJ,IACtB,IAAA9M,OAAMi0B,EAAUpJ,WAChBjnB,EAAQkJ,IAIpB,GAAImnB,EAAU3H,OAAQ,CAClB,MAAMA,EAAS2H,EAAU3H,OAAOvH,KAAKkP,GACrCA,EAAU3H,OAAS,YACX,IAAAtsB,OAAMi0B,EAAUpJ,WAChByB,KAgCZ,OA3BA2H,EAAU,MAAe,WACrB,MAAM,QACFpvB,EADE,WAEF2lB,EAFE,MAGF/mB,EAHE,QAIFQ,EAJE,QAKFL,EALE,OAMF0oB,EANE,SAOFzB,EAPE,MAQFpH,EARE,KASFiI,EATE,GAUFzxB,GACAwc,KACJ,MAAO,CACH5R,QAAAA,EACA2lB,WAAAA,EACA/mB,OAAO,IAAAzD,OAAMyD,GACbQ,QAAAA,EACAL,QAAAA,EACA0oB,OAAAA,EACAzB,SAAAA,EACApH,MAAAA,EACAiI,KAAAA,EACAzxB,GAAAA,IAIDg6B,KC3DT,SAAUK,GACZzH,GAEA,OAAOuH,IAAgB,KACnB,MAAMG,EAAc1H,KAEpB,QAAkB0H,EAAkB,eACpC,QAAWA,EAAa,cAAc,IACtC,QAAWA,EAAa,cAAe,GAEvC,cAAIA,EAAYC,kBAAhB,OAAID,EAAYC,kBAAZD,EAAYC,iBAAhB,kBAAID,EAAYC,iBAAhB,kBAAoC,YAAhCD,EAAYC,iBAAhB,GACID,EAAYC,kBAAmB,IAAAnvB,WAAS,IACpC,QAAWkvB,EAAY5D,WAAWc,aAAa/2B,MAAO,KAAO,aAAe,MAGhF,QAAkB65B,EAAkB,oBAGxC,cAAIA,EAAY1vB,SAAhB,OAAI0vB,EAAY1vB,SAAZ0vB,EAAY1vB,QAAhB,kBAAI0vB,EAAY1vB,QAAhB,kBAA2B,YAAvB0vB,EAAY1vB,QAAhB,KACI0vB,EAAY1vB,SAAU,SAAI,KAAM,+BAEvB,IAAA7E,OAAMu0B,EAAYC,mBAFD,2BAIblN,EACGiN,EAAY5D,WAAWc,aACvB,UACI,IAAAzxB,OAAMu0B,EAAY5D,WAAWO,aAC7B,IAAAlxB,OAAMu0B,EAAYE,iBAGzB,IACJF,EAAY5D,WAAWc,aAAapL,aAZnB,qBAAC,+DAedkO,EAAY5D,WAAWM,OAAS,QAAU,OAAQ,IAClD3J,EACGiN,EAAY5D,WAAWe,aACvB6C,EAAY5D,WAAWM,QACnB,YAAc,IAAAjxB,OAAMu0B,EAAY5D,WAAWO,aAAa7f,IAAI,IAC1D,IAAArR,OAAMu0B,EAAY5D,WAAWW,SAC7B,IAAAtxB,OAAMu0B,EAAY5D,WAAWQ,YACpC,IACFoD,EAAY5D,WAAWe,aAAarL,cAvBvB,WAaL,IAAArmB,OAAMu0B,EAAYG,oBAgB3C,cAAIH,EAAY1J,UAAhB,OAAI0J,EAAY1J,UAAZ0J,EAAY1J,SAAhB,kBAAI0J,EAAY1J,SAAhB,kBAA4B,YAAxB0J,EAAY1J,SAAhB,KACI0J,EAAY1J,UAAW,IAAAxlB,WAAS,IAC5B,UACI,IAAArF,OAAMu0B,EAAY5D,WAAWO,aAC7B,IAAAlxB,OAAMu0B,EAAYE,iBAK9B,MAAM7wB,EAAU2wB,EAAY3wB,QAU5B,OATA2wB,EAAY3wB,QAAU,WAClB,eAAK,IAAA5D,OAAMu0B,EAAY1J,WAAvB,QAAK,IAAA7qB,OAAMu0B,EAAY1J,YAAlB,IAAA7qB,OAAMu0B,EAAY1J,UAAvB,kBAAK,IAAA7qB,OAAMu0B,EAAY1J,UAAvB,qBAAK,IAAA7qB,OAAMu0B,EAAY1J,UAAvB,KAGA0J,EAAY5D,WAAWa,UACvB+C,EAAYvH,KAAKI,MAAMmH,EAAY5J,UACnC/mB,QAGG2wB,KAyBT,SAAUI,GACZ9H,GAEA,OAAOD,GAAe,KAClB,MAAMzjB,EAAU0jB,IAIhB,OAHA,QAAkB1jB,EAAc,YAChC,QAAWA,EAAS,UAAWA,EAAQyrB,UACvC,QAAkBzrB,EAAc,UACzB,IACAA,EACHtE,QAASsE,EAAQtE,QACjBjB,SAAS,IAAA5D,OAAOmJ,EAA4C0rB,QACtD,WACI,GAAIh1B,EAAA,gBAAqBsJ,EAAQyrB,SAAU,CACvC,MAAMnwB,EAAQ5E,EAAA,mBAAwBsJ,EAAQyrB,SAC9C/0B,EAAA,cAAmB4E,EAAO,QAE1B5E,EAAA,YAAiBsJ,EAAQyrB,UAGjC,WACI/0B,EAAA,cAAmB,EAAG,EAAGsJ,EAAQyrB,cCzLvD,MACM,GAAa,CAAC,YAEd,SAAU,GAAO3xB,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMgnB,GAAsB,sBAAkB,YACxCC,GAAkB,sBAAkB,QAE1C,MAAO,cAACtnB,EAAKjD,MAAMiD,EAAKunB,aAAjB,OAACvnB,EAAKjD,MAAMiD,EAAKunB,aAAhBvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAACvnB,EAAKjD,MAAMiD,EAAKunB,YAAjB,mBAAiCvnB,EAAK7I,WAAWqwB,MAAhDxnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWqwB,KAAjD,KACF,kBAAc,wBAAoB,SAAU,CAC3ChwB,IAAK,EACLgJ,OAAO,oBAAgB,CACnB,CACI+mB,WAAYvnB,EAAKjD,MAAMiD,EAAKunB,cAAgBvnB,EAAK7I,WAAWswB,OAAS,cAAW/vB,GAEpFsI,EAAKjD,MAAMiD,EAAKQ,QAAU,KAE9BG,QAASV,EAAO,KAAOA,EAAO,GAEtC,IAAIW,IAAUZ,EAAK6xB,UAAY7xB,EAAK6xB,YAAYjxB,IACxCL,OAAO,oBAAgB,CACnB0qB,SAAS,EACT6G,SAAS,EACTnK,IAAK3nB,EAAKjD,MAAMiD,EAAK+xB,aACrBd,OAAQ,UAAF,IAAGjxB,EAAKjD,MAAMiD,EAAK+xB,cAAnB,OAAG/xB,EAAKjD,MAAMiD,EAAK+xB,cAAhB/xB,EAAKjD,MAAMiD,EAAK+xB,aAAnB,iBAAG/xB,EAAKjD,MAAMiD,EAAK+xB,aAAnB,oBAAG/xB,EAAKjD,MAAMiD,EAAK+xB,aAAjB,GACRC,OAAQhyB,EAAKjD,MAAMiD,EAAKgyB,WACrBhyB,EAAKjD,MAAMiD,EAAKgB,WAEvBkG,SAAU,UAAF,IAAGlH,EAAKjD,MAAMiD,EAAK+xB,cAAnB,OAAG/xB,EAAKjD,MAAMiD,EAAK+xB,cAAhB/xB,EAAKjD,MAAMiD,EAAK+xB,aAAnB,iBAAG/xB,EAAKjD,MAAMiD,EAAK+xB,aAAnB,oBAAG/xB,EAAKjD,MAAMiD,EAAK+xB,aAAjB,IACT,CACA/xB,EAAKjD,MAAMiD,EAAKR,aACZ,kBAAc,kBAAa,6BAAyBQ,EAAKjD,MAAMiD,EAAKR,YAAa,CAAEhI,IAAK,MACzF,wBAAoB,IAAI,IAC5B,iBAAa6vB,EAAqB,CAChCoB,KAAMzoB,EAAKjD,MAAMiD,EAAKyoB,OACrB,KAAM,EAAG,CAAC,UACb,iBAAanB,EAAiB,CAAEtwB,GAAIgJ,EAAKhJ,IAAM,KAAM,EAAG,CAAC,QACxD,GAAI,MACP,wBAAoB,IAAI,GCnB9B,QAAe,IAAAoK,iBAAgB,CAC3BG,MAAO,CACHK,QAAS,CACLpG,MAAM,QAAwDqG,OAAQhH,OAAQ8G,UAC9EF,UAAU,GAEd8lB,WAAY,CACR/rB,MAAM,QAA8BjD,QACpCkJ,UAAU,GAEdjB,OAAO,QAA8BqB,OAAQhH,OAAQkH,OACrDf,SAAS,QAA2CnG,QACpDwoB,SAAUxoB,OACVud,MAAM,QAAiCvW,OAAQhH,OAAQtC,QACvDw5B,YAAa,CACTv2B,MAAM,QAA2BwG,SACjCP,UAAU,GAEduwB,OAAQ,CACJx2B,MAAM,QAA2BwG,SACjCP,UAAU,GAEdgnB,MAAM,QAAoCzmB,QAASH,QACnD7K,GAAI,CACAwE,KAAMqG,OACNJ,UAAU,GAEdowB,SAAU,CACNr2B,KAAMmG,SACNF,UAAU,IAGlBJ,WAAY,CACRkoB,KADQ,EAERD,SAAQ,GAEZpnB,MAAMX,GACF,MAAM,QAAEK,EAAF,KAAWwW,IAAS,IAAAjW,QAAOZ,GAE3B/B,GAAY,IAAA0nB,YAA+B,IA2CjD,OAzCA,IAAA3Y,cAAY,KACR,MAAM4d,GAAc,QAAUvqB,GAC9B,iBAAIuqB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAmB,YAAfA,EAAJ,GAEI,YADA3sB,EAAU/H,MAAQ,IAGtB,IAAI,QAAqB00B,GAErB,YADA3sB,EAAU/H,OAAQ,QAAgB00B,IAGtC,MAAM8F,GAAW,QAAU7Z,GACrBgU,GAAQ,QAAgBD,EAAYrnB,OAAS,GAAI,MACjDunB,GAAc,QAAgBF,EAAYG,YAAa,OACvDK,GAAgB,QAAgBR,EAAYS,eAAiB,IACnEptB,EAAU/H,OAAQ,SACd,SAAI,KAAM,8BAED00B,EAAYrnB,OAAZ,8DAIG,MANR,8BAQKqnB,EAAYS,eAAZ,mGAIG,KACH,cAAArrB,EAAM8hB,UAAN,OAAA9hB,EAAM8hB,UAAN9hB,EAAM8hB,SAAN,kBAAA9hB,EAAM8hB,SAAN,kBAAkB,YAAlB9hB,EAAM8hB,SAAN,wGAGc9hB,EAAM8hB,UACTgB,EAAgB9iB,EAAM8hB,SAAU4O,GAAW,IAC9C1wB,EAAM8hB,UAAUD,cAErB,aAMb,CACH5jB,UAAAA,EACAzC,MAFG,QAGH5F,WAAU,SClGtB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UCmBO,MAAM+6B,GAAcp7B,OAAO,WAoD5B,SAAUq7B,GACZvI,GAEA,MAAMoI,GAAS,SAAoB,GACnC,OAAO,SAAgB,KACnB,MAAMF,EAAUlI,IAoFhB,OAnFAkI,EAAQ96B,IAAK,QAAY,YACzB86B,EAAQt2B,KAAO02B,GACfJ,EAAQ,MAAaM,GAEjB,cAAAN,EAAQO,WAAR,OAAAP,EAAQO,WAARP,EAAQO,UAAR,kBAAAP,EAAQO,UAAR,kBAAqB,YAArBP,EAAQO,UAAR,KAA8B,cAAAP,EAAQzO,UAAR,OAAAyO,EAAQzO,UAARyO,EAAQzO,SAAR,kBAAAyO,EAAQzO,SAAR,kBAAoB,YAApByO,EAAQzO,SAAR,kBAA4ByO,EAAQ1Z,MAApC,OAA4B0Z,EAAQ1Z,MAAR0Z,EAAQ1Z,KAApC,kBAA4B0Z,EAAQ1Z,KAApC,kBAA4C,YAAhB0Z,EAAQ1Z,KAApC,KAC9Ble,QAAQC,KACJ,2FACA23B,GAIRA,EAAQE,OAASA,EACjB,cAAIF,EAAQO,WAAZ,OAAIP,EAAQO,WAARP,EAAQO,UAAZ,kBAAIP,EAAQO,UAAZ,kBAAyB,YAArBP,EAAQO,UAAZ,GACIP,EAAQO,WAAY,IAAAjwB,WAAS,KACzB,MAAMkwB,EAAiBR,EACvB,MACI,cAAAQ,EAAejP,UAAf,OAAAiP,EAAejP,UAAfiP,EAAejP,SAAf,kBAAAiP,EAAejP,SAAf,kBAA2B,YAA3BiP,EAAejP,SAAf,kBACAiP,EAAela,MADf,OACAka,EAAela,MAAfka,EAAela,KADf,kBACAka,EAAela,KADf,kBACuB,YAAvBka,EAAela,KADf,IAEA,SAAYka,EAAejP,SAAS5rB,OAAO,IAAAsF,OAAMu1B,EAAela,WAIxE,QAAkB0Z,EAAc,aAEpCA,EAAQC,aAAc,IAAA3vB,WAClB,KACI,IAAArF,OAAO+0B,EAA2BvK,cAAgB,eAClD,IAAAxqB,OAAO+0B,EAA2BO,YADlC,eAEC,IAAAt1B,OAAM+0B,EAAQE,SAFf,QAEC,IAAAj1B,OAAM+0B,EAAQE,UAAd,IAAAj1B,OAAM+0B,EAAQE,QAFf,kBAEC,IAAAj1B,OAAM+0B,EAAQE,QAFf,qBAEC,IAAAj1B,OAAM+0B,EAAQE,QAFf,KAIRF,EAAQD,SAAW,WACf,MAAMS,EAAiBR,EACvB,eAAK,IAAA/0B,OAAMu1B,EAAeP,cAA1B,QAAK,IAAAh1B,OAAMu1B,EAAeP,eAArB,IAAAh1B,OAAMu1B,EAAeP,aAA1B,kBAAK,IAAAh1B,OAAMu1B,EAAeP,aAA1B,qBAAK,IAAAh1B,OAAMu1B,EAAeP,aAA1B,KAGI,cAAAO,EAAejP,UAAf,OAAAiP,EAAejP,UAAfiP,EAAejP,SAAf,kBAAAiP,EAAejP,SAAf,kBAA2B,YAA3BiP,EAAejP,SAAf,kBAAmCiP,EAAela,MAAlD,OAAmCka,EAAela,MAAfka,EAAela,KAAlD,kBAAmCka,EAAela,KAAlD,kBAA0D,YAAvBka,EAAela,KAAlD,KACAka,EAAejP,SAAS5rB,MAAQ,SAC5B66B,EAAejP,SAAS5rB,OACxB,IAAAsF,OAAMu1B,EAAela,QAG7B4Z,EAAOv6B,OAAQ,EACf66B,EAAeC,kBAGnB,QAAkBT,EAAc,eAChC,QAAWA,EAAS,aAAc,eAClC,QAAkBA,EAAc,YAChC,QAAkBA,EAAc,UAChC,QAAkBA,EAAc,YAChC,QAAkBA,EAAc,SAChC,QAAkBA,EAAc,SAChC,QAAkBA,EAAc,YAEhCA,EAAQ,MAAe,WACnB,MAAM,QACFlwB,EADE,WAEF2lB,EAFE,MAGF/mB,EAHE,QAIFQ,EAJE,SAKFqiB,EALE,KAMFjL,EANE,YAOF2Z,EAPE,OAQFC,EARE,KASFvJ,EATE,GAUFzxB,EAVE,SAWF66B,GACAre,KACJ,MAAO,CACH5R,QAAAA,EACA2lB,WAAAA,EACA/mB,OAAO,IAAAzD,OAAMyD,GACbQ,QAAAA,EACAqiB,SAAAA,EACAjL,KAAAA,EACA2Z,YAAAA,EACAC,OAAAA,EACAvJ,KAAAA,EACAzxB,GAAAA,EACA66B,SAAAA,IAIDC,KCjFT,SAAUU,GAIdC,EAAuCnG,EAAiBoG,GACtD,MAAMC,GAAsB,QAAkBF,GACxCG,GAAuB,QAAkBtG,GACzCuG,EAAmB,UAAO,IAAPH,GAAO,OAAPA,GAAAA,EAAO,kBAAPA,EAAO,kBAAI,YAAXA,EAAA,QAAkBh7B,GAAY,QAAkBg7B,GACzE,MAAO,CACH5E,MAAQF,GAAwB,WAAcA,GAAM,IAAA7wB,OAAM41B,IAC1D9D,OAASjB,GAAwB,SAAYA,GAAM,IAAA7wB,OAAM41B,IACzDD,QAASG,EACTvG,YACI,UAAW,IAAXA,GAAW,OAAXA,GAAAA,EAAW,kBAAXA,EAAW,kBAAI,YAAfA,EAAA,QACM50B,GACA,SAAI,KAAM,wBAAN,MACW,sBADX,iCAEgB,mBAFhB,6BAEoC,SAAO,IAAAqF,OAAM41B,OAC5C,IAAA51B,OAAM61B,IAAN,+BACe,wBADf,EAGQ,SAAU,IAAA71B,OAAM61B,MAErB,UAgDxB,SAAUE,MAKXC,GACD,MAAO,CACHjF,MAAQF,GACJmF,EACKlM,QAAOjT,GAAK,UAAJ,KAAI,IAAA7W,OAAM6W,EAAE8e,UAAZ,QAAI,IAAA31B,OAAM6W,EAAE8e,WAAR,IAAA31B,OAAM6W,EAAE8e,SAAZ,oBAAI,IAAA31B,OAAM6W,EAAE8e,SAAZ,oBAAyB,SAArB,IAAA31B,OAAM6W,EAAE8e,SAAR,KACZx3B,QAAO,CAAC0yB,EAAMoF,IAAaA,EAASlF,MAAMF,IAAOA,GAC1DiB,OAAQkE,EAAUE,OAAMrf,GAAK,UAAJ,IAAIA,EAAEib,QAAN,OAAIjb,EAAEib,QAAFjb,EAAEib,OAAN,kBAAIjb,EAAEib,OAAN,kBAAgB,YAAZjb,EAAEib,OAAF,KACtBjB,GACGmF,EACKlM,QAAOjT,GAAK,UAAJ,KAAI,IAAA7W,OAAM6W,EAAE8e,UAAZ,QAAI,IAAA31B,OAAM6W,EAAE8e,WAAR,IAAA31B,OAAM6W,EAAE8e,SAAZ,oBAAI,IAAA31B,OAAM6W,EAAE8e,SAAZ,oBAAyB,SAArB,IAAA31B,OAAM6W,EAAE8e,SAAR,KAEZQ,aAAY,CAACtF,EAAMoF,IAAaA,EAASnE,OAAQjB,IAAOA,QACjEl2B,EACNg7B,SAAS,IAAAtwB,WAAS,IAAM,UAAN,IAAM2wB,EAAUlM,QAAOjT,IAA0B,KAArB,IAAA7W,OAAM6W,EAAE8e,WAAoB1mB,QAAxD,OAAM+mB,EAAUlM,QAAOjT,IAA0B,KAArB,IAAA7W,OAAM6W,EAAE8e,WAAoB1mB,QAAlD+mB,EAAUlM,QAAOjT,IAA0B,KAArB,IAAA7W,OAAM6W,EAAE8e,WAAoB1mB,OAAxD,iBAAM+mB,EAAUlM,QAAOjT,IAA0B,KAArB,IAAA7W,OAAM6W,EAAE8e,WAAoB1mB,OAAxD,iBAAiE,GAA3D+mB,EAAUlM,QAAOjT,IAA0B,KAArB,IAAA7W,OAAM6W,EAAE8e,WAAoB1mB,OAAS,EAA3D,KACxBsgB,aAAa,SAAI,KAAM,iBAAC,iBAGZyG,EACKlM,QAAOjT,GAAK,UAAJ,KAAI,IAAA7W,OAAM6W,EAAE8e,UAAZ,QAAI,IAAA31B,OAAM6W,EAAE8e,WAAR,IAAA31B,OAAM6W,EAAE8e,SAAZ,oBAAI,IAAA31B,OAAM6W,EAAE8e,SAAZ,oBAAyB,SAArB,IAAA31B,OAAM6W,EAAE8e,SAAR,KACZj5B,KAAIma,IAAK,IAAA7W,OAAM6W,EAAE0Y,eACjBzF,QAAOsM,GAAKA,IACnB15B,IAAI,WCpKtB,MAAMzC,GAAK,IACL,IAAQ,IAAAo8B,aAAYp8B,IAAI,KAC1B,MAAMgF,EAAO,SACPyE,EAAQ,UACR4yB,EAASlQ,EAA8B,EAAG,WAE1CuK,EAAasB,IAA2B,KAAM,CAChDjB,QAASW,GAAwB,EAAG,IACpCD,aAAc6E,GAAKD,OACnB7E,aAAc6E,EACdjF,aAAa,EACbP,aAAciF,GACVN,GAA6Be,EAAe,GAAI,mBAAoBC,EAAIxB,QACxEQ,GAA6Be,EAAe,GAAI,mBAAoBE,EAAIzB,QACxEQ,GACIzD,GAAO2E,iBAAiB,GACxB,qBACA3E,GAAO4E,IAAIxE,aAKjBoE,EAAiB,CACnB,GAAG,IAAAnxB,WAAS,KACR,IAAImO,EAAQ,IAAI,KAAQ,IACpBqjB,EAAI5B,OAAOv6B,QAAO8Y,EAAQA,EAAMlW,IAAI,KACxC,IAAIw5B,EAAM,IAAI,KAAQ,KAEtB,OADIC,EAAI9B,OAAOv6B,QAAOo8B,EAAMA,EAAI3c,MAAM,KAC/B,SAAY,EAAGmc,EAAO57B,OAAOia,IAAInB,GAAOjY,IAAIu7B,MAEvD,GAAG,IAAAzxB,WAAS,KACR,IAAImO,EAAQ,IAAI,KAAQ,IACpBwjB,EAAI/B,OAAOv6B,QAAO8Y,EAAQA,EAAMlW,IAAI,OACxC,IAAIw5B,EAAM,IAAI,KAAQ,IAEtB,OADIE,EAAI/B,OAAOv6B,QAAOo8B,EAAMA,EAAI3c,MAAM,KAC/B,SAAY,EAAGoc,GAAKD,OAAO57B,OAAOia,IAAInB,GAAOjY,IAAIu7B,MAE5D,GAAG,IAAAzxB,WAAS,KACR,IAAImO,EAAQ,IAAI,KAAQ,KACpByjB,EAAKhC,OAAOv6B,QAAO8Y,EAAQA,EAAM4C,IAAI,OACzC,IAAI0gB,EAAM,IAAI,KAAQ,IAEtB,OADIG,EAAKhC,OAAOv6B,QAAOo8B,EAAMA,EAAI3c,MAAM,KAChC,SAAY,EAAGoc,GAAKD,OAAO57B,OAAOia,IAAI,KAAMpZ,IAAIu7B,MAE3D,GAAG,IAAAzxB,WAAS,KACR,IAAImO,EAAQ,IAAI,KAAQ,GAExB,OADI0jB,EAAIjC,OAAOv6B,QAAO8Y,EAAQA,EAAM2G,MAAM,IACnC,SAAY,GAAImc,EAAO57B,OAAOkY,QAAQ+B,IAAInB,OAInD2jB,EAAM/B,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,kBAEjBlU,KAAM,EACNiL,SAAUgQ,MAERc,EAAMhC,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,6BACbM,gBACI,qBAAO,QAAO2G,EAAe,GAAG97B,QAAhC,QAAO,QAAO87B,EAAe,GAAG97B,SAAzB,QAAO87B,EAAe,GAAG97B,OAAhC,kBAAO,QAAO87B,EAAe,GAAG97B,OAAhC,iBAAyC,MAAlC,QAAO87B,EAAe,GAAG97B,OAAS,IAAzC,KAGR2gB,KAAM,EACNiL,SAAUgQ,EACV9L,WAAY,IAAO2M,EAAIlC,OAAOv6B,MAAQ,aAAqB,cAEzD28B,EAAMjC,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,2BACbM,gBACI,qBAAO,QAAO2G,EAAe,GAAG97B,QAAhC,QAAO,QAAO87B,EAAe,GAAG97B,SAAzB,QAAO87B,EAAe,GAAG97B,OAAhC,kBAAO,QAAO87B,EAAe,GAAG97B,OAAhC,iBAAyC,MAAlC,QAAO87B,EAAe,GAAG97B,OAAS,IAAzC,KAGR2gB,KAAM,GACNiL,SAAUgQ,EACV9L,WAAY,IAAO4M,EAAInC,OAAOv6B,MAAQ,aAAqB,cAEzD+7B,EAAMrB,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,6BACbM,gBACI,qBAAO,QAAO2G,EAAe,GAAG97B,QAAhC,QAAO,QAAO87B,EAAe,GAAG97B,SAAzB,QAAO87B,EAAe,GAAG97B,OAAhC,kBAAO,QAAO87B,EAAe,GAAG97B,OAAhC,iBAAyC,MAAlC,QAAO87B,EAAe,GAAG97B,OAAS,IAAzC,KAGR2gB,KAAM,IACNiL,SAAUgQ,EACV9L,WAAY,IAAO6M,EAAIpC,OAAOv6B,MAAQ,aAAqB,cAEzDm8B,EAAMzB,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,cAEjBlU,KAAM,IACNiL,SAAUgQ,EACV9L,WAAY,IAAOiM,EAAIxB,OAAOv6B,MAAQ,aAAqB,cAEzDq8B,EAAM3B,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,4BAEjBlU,KAAM,IACNiL,SAAUgQ,EACV9L,WAAY,IAAOwH,GAAO4E,IAAIxE,OAAO13B,MAAQ,aAAqB,cAEhEg8B,EAAMtB,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,4BACbM,gBACI,qBAAO,QAAO2G,EAAe,GAAG97B,QAAhC,QAAO,QAAO87B,EAAe,GAAG97B,SAAzB,QAAO87B,EAAe,GAAG97B,OAAhC,kBAAO,QAAO87B,EAAe,GAAG97B,OAAhC,iBAAyC,MAAlC,QAAO87B,EAAe,GAAG97B,OAAS,IAAzC,KAGR2gB,KAAM,IACNiL,SAAUgQ,EACV9L,WAAY,IAAOwH,GAAO4E,IAAIxE,OAAO13B,MAAQ,aAAqB,cAEhEs8B,EAAM5B,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,0CAEjBlU,KAAM,IACNiL,SAAUgQ,EACV9L,WAAY,IAAOwH,GAAO4E,IAAIxE,OAAO13B,MAAQ,aAAqB,cAEhEw8B,EAAM9B,IAAc,KAAM,CAC5BvwB,QAAS,CACLkD,MAAO,IACPwnB,YAAa,4CAEjBlU,KAAM,KACNiL,SAAUgQ,EACV9L,WAAY,IAAOwH,GAAO4E,IAAIxE,OAAO13B,MAAQ,aAAqB,cAEhEu8B,EAAO7B,IAAc,KAAM,CAC7BvwB,QAAS,CACLkD,MAAO,KACPwnB,YAAa,wCAEjBlU,KAAM,KACNiL,SAAUgQ,EACV9L,WAAY,IAAOwH,GAAO4E,IAAIxE,OAAO13B,MAAQ,aAAqB,cAEhE0yB,EAAQkG,IAAY,KAAM,CAC5BC,cAAe,IAAiC,CAAC,QAG/C5I,EAAWgK,IAAoB,KAAM,CACvCC,QAAS36B,GACTyJ,MAAAA,EACA0pB,MAAAA,MAEJwG,GAAWjJ,EAAU,CACjB9lB,QAASgpB,EAAsByI,GAC/BzC,UAAU,IAGd,MAAMU,EAAcD,IAAkB,KAAM,CACxC3D,WAAAA,EACA3D,KAAMuJ,GAAKvJ,KACXrC,SAAAA,MAGJ,MAAO,CACH1rB,KAAAA,EACAyE,MAAAA,EACA4yB,OAAAA,EACAzxB,SAAS,SAAI,KAAM,iBAAC,uCAAP,SAEkByxB,EAFlB,MAEiC5yB,GAFjC,OAGJ,QAAO6wB,IAHH,oEAOJ,QAAU4C,EAAKC,EAAKC,EAAKZ,EAAKI,IAP1B,kCASJ,QAAUE,EAAKL,EAAKM,EAAKE,EAAKD,OAGvCtM,SAAAA,EACAwM,IAAAA,EACAC,IAAAA,EACAC,IAAAA,EACAZ,IAAAA,EACAI,IAAAA,EACAE,IAAAA,EACAL,IAAAA,EACAM,IAAAA,EACAE,IAAAA,EACAD,KAAAA,EACAT,eAAAA,MAGR,UClMA,MAAM,GAAK,IACL,IAAQ,IAAAH,aAAY,IAAI,KAC1B,MAAMp3B,EAAO,SACPyE,EAAQ,UACR4yB,EAASlQ,EAA8B,EAAG,WAE1CuK,EAAauB,IAA4B,KAAM,CACjDlB,QAASe,GAAyB,IAAM,EAAG,KAC3CL,aAAc4F,GAAOhB,OACrB7E,aAAc6E,EACdjF,aAAa,MAMXsF,GAJW,SACb,IACA,SAAY,EAAG,SAAY,SAAYL,EAAO57B,MAAO,GAAI,OAEpC,CACrB,GAAG,IAAA2K,WAAS,KACR,IAAImO,EAAQ,IAAI,KAAQ,GACpB+jB,EAAKvH,YAAYt1B,QAAO8Y,EAAQA,EAAM2G,MAAM,IAChD,IAAIqd,EAAMlB,EAAO57B,MAEjB,OADI+8B,EAAKzH,YAAYt1B,QAAO88B,EAAM,SAAYA,GAAK,IAAAx3B,OAAM03B,EAAiB,MACnE,SAAY,EAAGF,GAAK7iB,IAAInB,QAGjCkkB,EAAmB,CACrB,GAAG,IAAAryB,WAAS,KACR,IAAImO,EAAQ,IAAI,KAAQ,KAExB,OADIikB,EAAKzH,YAAYt1B,QAAO8Y,EAAQA,EAAM2G,MAAM,IACzC,SAAYmd,GAAOhB,OAAO57B,MAAO,GAAGkY,QAAQ+B,IAAInB,GAAOsD,YAGhE8f,EAAMjE,IAAgB,KAAM,CAC9BnI,WAAY,IAAO,SAAY8L,EAAO57B,MAAO,GAAK,aAAqB,UACvEs4B,aACI,OAAO,SAAYsD,EAAO57B,MAAO,IAErCmK,QAAS,CACLkpB,aAAa,SAAI,KAAM,iBAAC,8LAS1B4J,EAAMhF,IAAgB,KAAM,CAC9BnI,WAAY,IAAO,SAAY8L,EAAO57B,MAAO,GAAK,aAAqB,UACvEs4B,aACI,OAAO,SAAYsD,EAAO57B,MAAO,IAErCmK,QAAS,CACLkpB,aAAa,SAAI,KAAM,iBAAC,mLAS1B6J,EAAMjF,IAAgB,KAAM,CAC9BnI,WAAY,IAAO,SAAY8L,EAAO57B,MAAO,GAAK,aAAqB,UACvEs4B,aACI,OAAO,SAAYsD,EAAO57B,MAAO,IAErCmK,QAAS,CACLkpB,aAAa,SAAI,KAAM,iBAAC,gLAS1B8J,EAAMlF,IAAgB,KAAM,CAC9BnI,WAAY,IAAO,SAAY8L,EAAO57B,MAAO,GAAK,aAAqB,UACvEs4B,aACI,OAAO,SAAYsD,EAAO57B,MAAO,KAErCmK,QAAS,CACLkpB,aAAa,SAAI,KAAM,iBAAC,wLAS1BwJ,EAAOxH,IAAgB,KAAM,CAC/BvF,WAAY,IAAO,SAAY8L,EAAO57B,MAAO,GAAK,aAAqB,UACvE4rB,SAAUgR,GAAOhB,OACjBlJ,MAAO0K,EACPrI,KAAM,IACK,IAAI,KAAQ,KAEvB5qB,QAAS,KAAM,CACXkD,MAAO,qBACPwnB,YAAa,6BACbE,KAAM,gBACNE,OAAQ,sDAGV8H,EAAO1H,IAAgB,KAAM,CAC/BvF,WAAY,IAAO+M,EAAKvH,YAAYt1B,MAAQ,aAAqB,UACjE4rB,SAAUgR,GAAOhB,OACjBlJ,MAAO0K,EACPrI,KAAM,IACK,IAAI,KAAQ,MAEvB5qB,QAAS,KAAM,CACXkD,MAAO,4BACPwnB,YACI,6FACJE,KAAM,sBACNE,OAAQ,gEACRE,cAAe,SAAF,iBAAE,IAAF,kBAAQ,SAAY,IAAA7vB,OAAM03B,EAAiB,MAAzC,KAAM,SAAY,IAAA13B,OAAM03B,EAAiB,KAAzC,SAGjBtK,EAAQkG,IAAY,KAAM,CAC5BC,cAAe,IAAiC,OAG9C5I,EAAWgK,IAAoB,KAAM,CACvCnK,WAAY,IACRoM,EAAIxE,OAAO13B,OAAS48B,GAAOT,IAAI5B,OAAOv6B,MAAQ,aAAqB,YACvEk6B,QAAS,GACTlxB,MAAAA,EACA0pB,MAAAA,MAEJwG,GAAWjJ,EAAU,CACjB9lB,QAASgpB,EAAsByI,GAC/BzC,UAAU,IAGd,MAAMU,EAAcD,IAAkB,KAAM,CACxC3D,WAAAA,EACA3D,KAAMuJ,GAAKvJ,KACXrC,SAAAA,MAEEmN,EAAiBxE,IAAY,KAAM,CACrCC,cAAe,IAAiC,CAAC+D,IACjD/J,UACIgJ,GAAA,aAAoB,OAG5B,MAAO,CACHt3B,KAAAA,EACAyE,MAAAA,EACA4yB,OAAAA,EACAzxB,SAAS,SAAI,KAAM,iBAAC,uCAAP,SAEkByxB,EAFlB,MAEiC5yB,GAFjC,OAGJ,QAAO6wB,IAHH,oEAMJ,QAAOqC,IACP,QAAOe,IACP,QAAOC,IACP,QAAOC,IATH,oEAYJ,QAAUN,EAAME,OAGzB9M,SAAAA,EACAiM,IAAAA,EACAe,IAAAA,EACAC,IAAAA,EACAC,IAAAA,EACAlB,iBAAAA,EACAY,KAAAA,EACAE,KAAAA,EACAC,iBAAAA,MAIR,UClMO,MAAMnB,IAAO,IAAAF,aAAY,QAAQ,KACpC,MAAMC,EAASlQ,EAA8B,EAAG,SAAU,GACpDI,EAAOD,EAAU+P,GACjB3P,EAAQD,EAAW4P,GAEnBtP,GAAY,IAAA3hB,WAAS,KAEvB,IAAIwrB,EAAO,IAAI,KAAQ,GASvB,OARIyG,GAAOH,IAAIlC,OAAOv6B,QAAOm2B,EAAOA,EAAK1W,MAAM,IAC3Cmd,GAAOF,IAAInC,OAAOv6B,QAAOm2B,EAAOA,EAAK1W,MAAMmd,GAAOd,eAAe,GAAG97B,QACpE48B,GAAOD,IAAIpC,OAAOv6B,QAAOm2B,EAAOA,EAAK1W,MAAMmd,GAAOd,eAAe,GAAG97B,QACpE48B,GAAOJ,IAAIjC,OAAOv6B,QAAOm2B,EAAOA,EAAK1W,MAAMmd,GAAOd,eAAe,GAAG97B,QACpEs3B,GAAO4E,IAAIxE,OAAO13B,QAAOm2B,EAAOA,EAAK1W,MAAM6X,GAAO2E,iBAAiB,GAAGj8B,QAEtEs3B,GAAOuF,KAAKt2B,OAAOvG,QAAOm2B,EAAOA,EAAKlc,IAAI,KAC1Cqd,GAAOyF,KAAKx2B,OAAOvG,QAAOm2B,EAAO,SAAY,EAAGmB,GAAOsE,OAAO57B,QAC3Dm2B,KAEX,EAAAj2B,UAAA,GAAa,UAAUM,IACnBo7B,EAAO57B,MAAQ,SAAY47B,EAAO57B,MAAO,WAAcssB,EAAUtsB,MAAOQ,OAE5E,MAAM+rB,EAAQF,EAAWuP,EAAQtP,GAE3BgG,EAAOD,GAAW,KAAM,CAC1B7nB,MAAO,CAAC,CAACoyB,GAAO3M,UAAW,CAACqH,GAAOrH,WACnC/C,SAAU,KACN,MAAM7L,EAAI,GASV,MAPA,cAAIiW,GAAOrH,SAASH,WAAW9vB,OAA/B,OAAIs3B,GAAOrH,SAASH,WAAW9vB,OAA3Bs3B,GAAOrH,SAASH,WAAW9vB,MAA/B,kBAAIs3B,GAAOrH,SAASH,WAAW9vB,MAA/B,kBAAwC,cAApCs3B,GAAOrH,SAASH,WAAW9vB,OAAS,aAAxC,IACIqhB,EAAErd,KAAK,CACHqpB,UAAWiK,GAAOrH,SAClB3C,QAASsP,GAAO3M,WAIjB5O,GAGXwR,UACI+I,EAAO57B,OAAQ,IAAAq9B,OAAMthB,KAAK0W,cAAczyB,UAAW,IAAAq9B,OAAMT,GAAO3M,UAAY,EAAI,GAChFnE,EAAK9rB,MAAQ47B,EAAO57B,MACpBisB,EAAMjsB,MAAQ47B,EAAO57B,OAEzB4yB,iBAAkBE,MAGtB,MAAO,CACHvuB,KAAM,OACN4oB,MAAOmF,EAAKnF,MACZhjB,SAAS,SAAI,KAAM,iBAAC,iBAES,IAApBhF,EAAA,gFAAiD,KACjDA,EAAA,0BAAmBA,EAAA,YAAnB,OAAmBA,EAAA,YAAAA,EAAA,WAAnB,mBAAmBA,EAAA,WAAnB,mBAAuC,OAApBA,EAAA,WAAnB,uEACoB,QAAOA,EAAA,YAAmB,IAD9C,4BAEG,KACH,cAAAA,EAAA,sBAAAA,EAAA,eAAAA,EAAA,gCAAAA,EAAA,qCAAsBlF,QAAAA,GAAtBkF,EAAA,wFACuB,QAAWA,EAAA,eAAsB,KACrD,MARC,6BAUA,QAAWy2B,EAAO57B,MAAO,WAAzB,mEAA8D,MAV9D,6BAWI,QAAO47B,EAAO57B,SAClB,QAAW47B,EAAO57B,MAAO,UAAzB,iEAA2D,OAE/D,QAAWssB,EAAUtsB,MAAO,IAA5B,wDAAwCusB,EAAMvsB,OAA9C,4BAA8D,MAd1D,iBAAC,cAgBL,QAAOsyB,OAGhBsJ,OAAAA,EACA9P,KAAAA,EACAG,MAAAA,EACAM,MAAAA,EACA+F,KAAAA,MAIK/G,GAETpmB,GACsB,CAAC02B,GAAMe,GAAQtF,IAE5Bl3B,IAAS,IAAAuK,WAAS,IACpB,SAAY2sB,GAAOsE,OAAO57B,MAAO,MAItC,SAAUsrB,GACZgS,EACAn4B,M,2jBCzEG,MAAM+rB,EACT7xB,OAAO,gBACE+xB,EACT/xB,OAAO,kBACEmvB,EACTnvB,OAAO,SAWE4F,GAA6D,IAAAiD,iBAAgB,IAC1F5B,OAAOrB,OAASA,EAwDT,MAAMtC,EAAkD,GAClDH,EAAyB,GAChC,SAAUm5B,EACZp8B,EACA4yB,GAEA,OAAO,SAAgB,KACnB,MAAMtvB,EAAQ,GACR06B,EAAW16B,EAAM06B,SAAU,SAUjC,GATA16B,EAAM26B,GAAKD,EAAQC,GAAGnT,KAAKkT,GAC3B16B,EAAM7B,KAAOu8B,EAAQv8B,KAAKqpB,KAAKkT,GAC/B16B,EAAM2H,OAAQ,IAAAjI,KAAI,IAClBM,EAAMtD,GAAKA,EAEXiD,EAAawB,KAAKzE,GAClBoD,EAAepD,GAAM,IAAIk+B,IACzB56B,EAAMwG,WAAY,SAAW,GAC7BjG,OAAOiE,OAAOxE,EAAOsvB,EAAYpI,KAAKlnB,IAElC,cAAAL,EAAaA,EAAa+R,OAAS,IAAnC,OAAA/R,EAAaA,EAAa+R,OAAS,IAAnC/R,EAAaA,EAAa+R,OAAS,GAAnC,kBAAA/R,EAAaA,EAAa+R,OAAS,GAAnC,kBAAyC,YAAzC/R,EAAaA,EAAa+R,OAAS,GAAnC,kBACA/R,EAAaA,EAAa+R,OAAS,IADnC,OACA/R,EAAaA,EAAa+R,OAAS,IAAnC/R,EAAaA,EAAa+R,OAAS,GADnC,mBACA/R,EAAaA,EAAa+R,OAAS,GADnC,mBAC0ChV,GAA1CiD,EAAaA,EAAa+R,OAAS,KAAOhV,EAD1C,GAGA,KAAM,wEAAwEiD,oBAA+BK,EAAMtD,KAavH,OAXAiD,EAAak7B,OAEb,QAAkB76B,EAAY,UAC9B,QAAkBA,EAAY,YAC9B,QAAkBA,EAAY,SAC9B,QAAWA,EAAO,OAAQA,EAAMtD,KAChC,QAAkBsD,EAAY,aAC9B,QAAWA,EAAO,WAAY,MAC9B,QAAkBA,EAAY,gBAC9B,QAAWA,EAAO,eAAe,GAE1BA,KAIT,SAAUwoB,EACZxoB,EACAsC,GAEA1C,QAAQqS,KAAK,eAAgBjS,EAAMtD,IAC/B0F,EAAOpC,EAAMtD,IACbkD,QAAQyB,MACJ,wDACArB,EAAMtD,GACN0F,EAAOpC,EAAMtD,OAKrB,QAAW4F,EAAQ,SAAU,IAC7B,cAAIA,EAAOF,OAAOpC,EAAMtD,KAAxB,OAAI4F,EAAOF,OAAOpC,EAAMtD,KAApB4F,EAAOF,OAAOpC,EAAMtD,IAAxB,kBAAI4F,EAAOF,OAAOpC,EAAMtD,IAAxB,kBAA+B,YAA3B4F,EAAOF,OAAOpC,EAAMtD,IAAxB,KACI4F,EAAOF,OAAOpC,EAAMtD,IAAM,IAE9B0F,EAAOpC,EAAMtD,IAAMsD,EAEnB,EAAA3C,UAAA,KAAe,WAAY2C,EAAOsC,EAAOF,OAAOpC,EAAMtD,MAGpD,SAAUo+B,EAAiCzD,GAC7C,OAAOj1B,EAAOi1B,GAGZ,SAAU9O,EAAYvoB,GACxBJ,QAAQqS,KAAK,iBAAkBjS,EAAMtD,IACrC,EAAAW,UAAA,KAAe,cAAe2C,GAE9BoC,EAAOpC,EAAMtD,SAAMU,EAGjB,SAAU29B,EAAY/6B,GACxBuoB,EAAYvoB,GAGZwoB,EAASxoB,EAAO,KAGd,SAAUg7B,EAAgBh7B,GAI5B,MAAMi7B,GAAY,IAAAv7B,MAAI,GACtB,MAAO,CACHw7B,UAAW,IAAOD,EAAU99B,OAAQ,EACpC+R,OAAO,SAAI,KAAM,iBAAC,KAAP,WAES+rB,EAAU99B,MAFnB,sBAGkBA,GAAU89B,EAAU99B,MAAQA,GACxC,CACLsM,OAAQ,KAAM,6BAAK,IAAAhH,OAAMzC,EAAM0B,QAC/BgI,MAAM,IAAAjH,OAAMzC,EAAMsH,cAOtC,EAAAjK,UAAA,GAAa,UAAU,SAAsBM,GACzC4C,OAAO0rB,OAAO7pB,GAAQ3B,SAAQT,IAC1BA,GAAO7B,KAAK,YAAaR,MAE7B4C,OAAO0rB,OAAO7pB,GAAQ3B,SAAQT,IAC1BA,GAAO7B,KAAK,SAAUR,MAE1B4C,OAAO0rB,OAAO7pB,GAAQ3B,SAAQT,IAC1BA,GAAO7B,KAAK,aAAcR,U,qVChNlC,MAAM,EAAa,CAAEsI,MAAO,SAQ5B,OAA4B,qBAAiB,CAC3C2B,MAAMwB,GAER,MAAMpN,GAAgB,IAAA8L,WAAS,IAAMsD,EAAA,EAAO9G,EAAA,UAAgBtI,gBAE5D,MAAO,CAAC0J,EAAUC,MACR,kBAAc,wBAAoB,MAAO,EAAY,EAC3D,wBAAoB,MAAO,CACzBM,OAAO,oBAAgB,CAAC,MAAO,CAAEjK,eAAe,WAAOA,OACtD,EACD,gBAAY0J,EAAKwH,OAAQ,YACxB,SCnBP,MAAM,EAAc,EAEpB,Q,0QCuBM,SAAUiuB,EACZj2B,EACAk2B,EAAiB,QAEjB,MAAyB,oBAAdl2B,GACA,IAAA4B,iBAAgB,CAAErB,OAAQP,IAEZ,kBAAdA,EACP,cAAIA,EAAUwM,QAAd,OAAIxM,EAAUwM,QAAVxM,EAAUwM,OAAd,iBAAIxM,EAAUwM,OAAd,iBAAuB,GAAnBxM,EAAUwM,OAAS,EAAvB,IACIxM,EAAYA,EAAU7F,OACtB,cAAI6F,EAAUwa,OAAO,IAArB,OAAIxa,EAAUwa,OAAO,IAAjBxa,EAAUwa,OAAO,GAArB,mBAAIxa,EAAUwa,OAAO,GAArB,mBAA4B,WAAxBxa,EAAUwa,OAAO,GAArB,KACIxa,EAAY,IAAIk2B,KAAkBl2B,MAAck2B,OAG7C,IAAAt0B,iBAAgB,CAAEu0B,SAAUn2B,MAEhC,IAAA4B,iBAAgB,CAAErB,OAAQ,KAAM,MAEpCP,EAQL,SAAUO,EAAOxI,GACnB,GAAIiyB,EAAqBjyB,GACrB,MAAsB,oBAAXA,EACCA,IAELk+B,EAAgBl+B,GAE3B,MAAMV,EAAYU,EAAO,MACzB,0BAAsBA,EAAO,QAA7B,MAGE,SAAUq+B,KAAaC,GAA4C,MACrE,mCAAaA,EAAQp8B,IAAIsG,IAAzB,qBAOE,SAAU+1B,EAAUv+B,GACtB,GAAIiyB,EAAqBjyB,GAAS,CAC9B,GAAsB,oBAAXA,EACP,OAAQA,IAEZ,GAAsB,kBAAXA,EACP,yCAAUA,IAGd,MAAMw+B,EAAOx+B,EACb,qCAEJ,MAAMV,EAAYU,EAAO,MACzB,0BAAsBA,EAAO,QAA7B,MAWE,SAAUiyB,EAAqBhqB,GACjC,MAAyB,kBAAdA,IAEqB,kBAAdA,GACd,cAAIA,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAiB,YAAbA,EAAJ,KAGO,2DAAYA,GAAZ,WAAYA,EAAZ,SAAyB,YAAzB,kBAAyB,YAAzB,kBAAwCA,GAAf,cAAeA,EAAxC,IAEqB,oBAAdA,IAA+D,IAAlCA,EAAkB,OAM/D,SAAUw2B,EACZr1B,EACA0oB,GAMA,MAAM4M,GAAW,IAAAj8B,KAAmB,MAC9Bk8B,GAAQ,IAAAl8B,UAAyCtC,GAEvD,SAASowB,EAAMje,GACX,cAAKosB,EAASx+B,OAAd,OAAKw+B,EAASx+B,OAATw+B,EAASx+B,MAAd,iBAAKw+B,EAASx+B,MAAd,oBAAKw+B,EAASx+B,MAAd,KACIw+B,EAASx+B,MAAQmB,YAAYu9B,EAAe,MAEhDD,EAAMz+B,MAAQoS,EAElB,SAASme,IACDiO,EAASx+B,QACTkB,cAAcs9B,EAASx+B,OACvBw+B,EAASx+B,MAAQ,MAGzB,SAAS0+B,IACD9M,GAAUA,EAAO5xB,MACjB4xB,EAAO5xB,QACAkJ,GAAWA,EAAQlJ,OAC1BkJ,EAAQlJ,MAAMy+B,EAAMz+B,OAM5B,OAFA,IAAA2xB,aAAYpB,GAEL,CAAEF,MAAAA,EAAOE,KAAAA,EAAMmO,cAAAA,GAkBpB,SAAUC,EACZ52B,EACAk2B,EAAiB,OAEjB,MAAMlN,GAAO,IAAAtB,cAIb,OAHA,IAAA3Y,cAAY,KACRia,EAAK/wB,MAAQg+B,EAAgBY,EAAU72B,GAAYk2B,MAEhDlN,EAEL,SAAU8N,EACZ92B,EACAk2B,EAAiB,OAEjB,MAAMlN,GAAO,IAAAtB,YAAkC,MAK/C,OAJA,IAAA3Y,cAAY,KACR,MAAMgoB,EAAgBF,EAAU72B,GAChCgpB,EAAK/wB,MAAQ,UAAa,IAAb8+B,GAAa,OAAbA,GAAAA,EAAa,kBAAbA,EAAa,kBAAI,YAAjBA,EAAA,GAAwB,KAAOd,EAAgBc,EAAeb,MAExElN,EAGL,SAAUgO,EAAWx8B,GACvB,OAAO,IAAAoI,WAAS,IAAMi0B,EAAUr8B,KAG9B,SAAUq8B,EAAar8B,GACzB,OAAO,IAAA+C,QAAS,IAAAA,OAAM/C,IAoBpB,SAAUy8B,KAAwBC,GAIpC,MAHA,cAAKA,EAAMn7B,SAASV,SAApB,OAAK67B,EAAMn7B,SAASV,SAAf67B,EAAMn7B,SAASV,QAApB,iBAAK67B,EAAMn7B,SAASV,QAApB,oBAAK67B,EAAMn7B,SAASV,QAApB,IACI67B,EAAMj7B,KAAKZ,QAER67B,I,0FC1MX,GAA4B,qBAAiB,CAC3Cx0B,MAAMwB,GAAS,OAAEC,IAEnB,MAAM1B,GAAQ,IAAAjI,KAA6C,IAE3D2J,EAAO,CAAE1B,MAAAA,IAET,MAAM00B,EAAkB,CACpBC,YAAY,EACZC,WAAW,EACXC,SAAS,GAeb,SAASC,EAAW//B,GAChB,MAAMwvB,EAAOvkB,EAAMxK,MAAMT,GACzB,cAAIwvB,GAAJ,OAAIA,GAAAA,EAAJ,kBAAIA,EAAJ,kBAAY,YAARA,EAAJ,KAGAA,EAAKtB,KAAOsB,EAAKhb,QAAQ8a,yBAG7B,OApBA,IAAA0Q,SAAQ,EAAArO,0BAA0B,CAAC3xB,EAAIwU,KACnC,MAAMyrB,EAAW,IAAIC,kBAAiB,IAAMH,EAAW//B,KACvDigC,EAAS7Q,QAAQ5a,EAASmrB,GAC1B10B,EAAMxK,MAAMT,GAAM,CAAEwU,QAAAA,EAASyrB,SAAAA,EAAU/R,KAAM1Z,EAAQ8a,0BACrD,IAAA9jB,WAAS,IAAMu0B,EAAW//B,SAE9B,IAAAggC,SAAQ,EAAAnO,4BAA4B7xB,IAChCiL,EAAMxK,MAAMT,IAAKigC,SAASE,aAC1Bl1B,EAAMxK,MAAMT,QAAMU,MAEtB,IAAAs/B,SAAQ,EAAA/Q,kBAAmBhkB,GAUpB,CAACjC,EAAUC,KACT,gBAAYD,EAAKwH,OAAQ,cC3ClC,MAAMtE,EAAc,EAEpB,S,0FCFA,MAAMG,EAAa,CAAC,iBACdC,EAAa,CAAE/C,MAAO,iBACtBiD,EAAa,CAAEjD,MAAO,mBACtBkD,EAAa,CAAElD,MAAO,gBACtB0D,GAA0B,qBAAiB,oBAC3CC,EAAa,CAAE3D,MAAO,cACtB4D,GAA0B,qBAAiB,kBAC3CC,EAAa,CAAE7D,MAAO,gBACtB8D,GAA0B,wBAAoB,MAAO,CAAE9D,MAAO,2BAA6B,KAA9C,KAAqD,EAArD,qBAAqD,EAArD,wBAAqD,EAArD,IAOnD,OAA4B,qBAAiB,CAC3CgB,MAAO,CACLuC,WAAY,CAAEtI,KAAMwG,UAEtBwE,MAAO,CAAC,qBACRtE,MAAMwB,GAAc,OAAEC,EAAF,KAAUlL,IAIhC,MAAMoM,EAASnB,EAKTnC,GAAQ,IAAAY,QAAO0C,GAGfjB,GAAS,IAAAxB,WAAS,IAAMb,EAAMuC,YAAcszB,EAAY3/B,QAC9D,SAAS4/B,IACL5+B,EAAK,qBAAqB,GAG9B,MAAM2+B,GAAc,IAAAp9B,MAAI,GAElB0I,GAAa,IAAA1I,KAA2B,MACxCiI,GAAQ,IAAAG,WACV,IAAMM,EAAWjL,OAAOwK,OAAS,OAKrC,OAFA0B,EAAO,CAAEC,OAAAA,EAAQ3B,MAAAA,IAEV,CAACjC,EAAUC,MACR,kBAAc,iBAAa,WAAW,CAAEq3B,GAAI,eAAiB,EACnE,iBAAa,aAAa,CACxBt7B,KAAM,QACNu7B,cAAet3B,EAAO,KAAOA,EAAO,GAAMc,GAAiBq2B,EAAY3/B,OAAQ,GAC/E+/B,aAAcv3B,EAAO,KAAOA,EAAO,GAAMc,GAAiBq2B,EAAY3/B,OAAQ,IAC7E,CACDwJ,SAAS,cAAS,IAAM,EACtB,qBAAgB,wBAAoB,OAAO,gBAAY,CACrDV,MAAO,aACPk3B,eAAe,mBAAeJ,EAAO,CAAC,UACrCr3B,EAAK4M,QAAS,EACf,wBAAoB,MAAOtJ,EAAY,EACrC,wBAAoB,MAAOE,EAAY,EACrC,wBAAoB,MAAOC,EAAY,EACrC,gBAAYzD,EAAKwH,OAAQ,SAAU,CAAE/B,OAAO,WAAO7B,KAAW,IAAM,CAClEK,QAGJ,wBAAoB,MAAOC,EAAY,EACrC,iBAAa5C,EAAA,EAAS,CACpB0F,QAAS,aACThN,IAAK0I,GACJ,CACDzB,SAAS,cAAS,IAAM,EACtB,gBAAYjB,EAAKwH,OAAQ,OAAQ,CAAE/B,OAAO,WAAO7B,KAAW,IAAM,CAChEO,QAGJjD,EAAG,GACF,QAEL,wBAAoB,MAAOkD,EAAY,EACrC,gBAAYpE,EAAKwH,OAAQ,SAAU,CAAE/B,OAAO,WAAO7B,KAAW,IAAM,EAClE,wBAAoB,MAAO,CAAErD,MAAO,wBAA0B,CAC5D8D,GACA,wBAAoB,SAAU,CAC5B9D,MAAO,8BACPI,QAAS02B,GACR,uBAMZ,GAAIh0B,GAAa,CAClB,CAAC,QAAQK,EAAQI,iBAGrB5C,EAAG,UC7FT,MAAMgC,EAAc,EAEpB,S,oGCJA,MAAMG,EAAa,CAAE9C,MAAO,SACtB+C,EAAa,CACjB9L,IAAK,EACL+I,MAAO,eAaT,OAA4B,qBAAiB,CAC3CgB,MAAO,CACLuD,MAAO,KACPhB,WAAY,KACZoC,QAAS,KACTI,YAAa,KACb2F,cAAe,CAAEzQ,KAAMwG,UAEzBwE,MAAO,CAAC,qBACRtE,MAAMwB,GAAc,KAAEjL,IAIxB,MAAM8I,EAAQmC,EAWR+C,GAAiB,SAAyB,IAAA8G,OAAMhM,EAAO,SAAU,QAEjE9J,GAAQ,IAAAuC,KACVuH,EAAM2E,QAAQwxB,MAAKvH,GAAUA,EAAO14B,QAAU8J,EAAMuC,cAQxD,SAAS6zB,EAASlgC,GACdgB,EAAK,oBAAqBhB,EAAMA,OAGpC,OAVA,IAAAsB,QAAM,IAAAwU,OAAMhM,EAAO,eAAeuC,IAC9B,cAAIrM,EAAMA,OAAOA,OAAjB,OAAIA,EAAMA,OAAOA,OAAbA,EAAMA,OAAOA,MAAjB,mBAAIA,EAAMA,OAAOA,MAAjB,mBAA2BqM,GAAvBrM,EAAMA,OAAOA,QAAUqM,EAA3B,KACIrM,EAAMA,MAAQ8J,EAAM2E,QAAQwxB,MAAKvH,GAAUA,EAAO14B,QAAUqM,QAQ7D,CAAC9D,EAAUC,MACR,kBAAc,wBAAoB,MAAOoD,EAAY,EAC1D,WAAOoD,KACH,kBAAc,wBAAoB,OAAQnD,EAAY,GACpD,kBAAc,kBAAa,8BAAyB,WAAOmD,UAE9D,wBAAoB,IAAI,IAC5B,kBAAa,WAAO,KAAgB,CAClCP,QAASxC,EAAQwC,QACjBpC,WAAYrM,EAAMA,MAClB,sBAAuB,CACrBwI,EAAO,KAAOA,EAAO,GAAMc,GAAkBtJ,EAAOA,MAAQsJ,GAC5D42B,GAEFr/B,IAAK,EACL,WAAY,QACZgO,YAAa5C,EAAQ4C,YACrB,kBAAmB5C,EAAQuI,eAC1B,KAAM,EAAG,CAAC,UAAW,aAAc,cAAe,0BCvEzD,MAAM/I,EAAc,EAEpB,S,0FCJA,MACMG,EAAa,CAAE9C,MAAO,SAQ5B,OAA4B,qBAAiB,CAC3CgB,MAAO,CACLuD,MAAO,KACPhB,WAAY,CAAEtI,KAAMwG,UAEtBwE,MAAO,CAAC,qBACRtE,MAAMwB,GAAc,KAAEjL,IAIxB,MAAM8I,EAAQmC,EAQRlE,GAAY,IAAA4C,WAAS,KAAM,SAAgB,IAAArF,OAAMwE,EAAMuD,QAAU,gBAAiB,UAElFrN,GAAQ,IAAA2K,UAAS,CACnBnF,MACI,qBAASsE,EAAMuC,YAAf,QAASvC,EAAMuC,cAANvC,EAAMuC,YAAf,mBAASvC,EAAMuC,YAAf,qBAASvC,EAAMuC,WAAf,IAEJ1G,IAAI3F,GACAgB,EAAK,oBAAqBhB,MAIlC,MAAO,CAACuI,EAAUC,MACR,kBAAc,wBAAoB,QAASoD,EAAY,EAC7D,qBAAgB,wBAAoB,QAAS,CAC3C7H,KAAM,WACN+E,MAAO,SACP,sBAAuBN,EAAO,KAAOA,EAAO,GAAMc,IAAiB,WAAOtJ,GAAUA,EAAOA,MAAQsJ,EAAS,OAC3G,KAAM,KAAM,CACb,CAAC,kBAAiB,WAAOtJ,QAE1B,kBAAc,kBAAa,8BAAyB,WAAO+H,Y,UC5ChE,MAAM0D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,+ECNA,MACMG,EAAa,CACjB7L,IAAK,EACL+I,MAAO,yBAGH,SAAUR,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQ,kBAAc,wBAAoB,MAAO,CAC/CE,OAAO,oBAAgB,CAAC,oBAAqB,CAAEkF,MAAOzF,EAAK43B,WAC3DC,aAAc53B,EAAO,KAAOA,EAAO,GAAMc,GAAiBf,EAAK83B,WAAY,GAC3E/P,aAAc9nB,EAAO,KAAOA,EAAO,GAAMc,GAAiBf,EAAK83B,WAAY,GAC3EC,eAAgB93B,EAAO,KAAOA,EAAO,GAEzC,IAAIW,IAAUZ,EAAKg4B,cAAgBh4B,EAAKg4B,gBAAgBp3B,KACnD,EACD,gBAAYZ,EAAKwH,OAAQ,UAAW,QAAI9P,GAAW,GAClDsI,EAAKi4B,cACD,kBAAc,kBAAa,6BAAyBj4B,EAAKi4B,aAAc,CAAEzgC,IAAK,MAC/E,wBAAoB,IAAI,IAC5B,iBAAa,aAAa,CAAEwE,KAAM,QAAU,CAC1CiF,SAAS,cAAS,IAAM,CACrBjB,EAAK43B,UACD,kBAAc,wBAAoB,MAAO,CACxCpgC,IAAK,EACL+I,OAAO,oBAAgB,CAAC,UAAW,CAC7B23B,IAAKl4B,EAAKjD,MAAMiD,EAAK8M,aAAe9M,EAAK0hB,UAAUyW,GACnD1wB,KAAMzH,EAAKjD,MAAMiD,EAAK8M,aAAe9M,EAAK0hB,UAAU0W,KACpDC,MAAOr4B,EAAKjD,MAAMiD,EAAK8M,aAAe9M,EAAK0hB,UAAUxU,MACrDorB,OAAQt4B,EAAKjD,MAAMiD,EAAK8M,aAAe9M,EAAK0hB,UAAU3U,QACnD/M,EAAKjD,MAAMiD,EAAKgB,YAEzBR,OAAO,oBAAgB,CACjB,CACI,YAAaR,EAAKjD,MAAMiD,EAAKiN,UAAY,MACzC,YAAajN,EAAKjD,MAAMiD,EAAKgN,UAAY,OAE7ChN,EAAKjD,MAAMiD,EAAKQ,QAAU,MAE/B,CACAR,EAAKzJ,UACD,kBAAc,wBAAoB,OAAQ8M,EAAY,cACvD,wBAAoB,IAAI,GAC3BrD,EAAKwoB,OACD,kBAAc,kBAAa,6BAAyBxoB,EAAKwoB,MAAO,CAAEhxB,IAAK,MACxE,wBAAoB,IAAI,IAC3B,KACH,wBAAoB,IAAI,MAE9B0J,EAAG,KAEJ,I,sDC1BL,GAAe,IAAAE,iBAAgB,CAC3BG,MAAO,CACHiK,SAAS,QAA8B3Q,QACvC+G,QAAS,CACLpG,MAAM,QAAsCX,OAAQgH,OAAQF,UAC5DF,UAAU,GAEdjB,OAAO,QAA8B3F,OAAQgH,OAAQE,OACrDf,SAAS,QAA2CnG,QACpDiS,WAAW,QAA6BjL,QACxCoL,SAAS,QAA0BpL,QACnCmL,SAAS,QAA0BnL,QACnCgvB,OAAQh2B,QAEZqH,MAAMX,GACF,MAAM,QAAEiK,EAAF,QAAW5J,EAAX,OAAoBivB,IAAW,IAAA1uB,QAAOZ,GAEtCu2B,GAAY,IAAA99B,MAAI,GAChB49B,GAAU,IAAAx1B,WAAS,MAAO,QAAUyuB,IAAWiH,EAAUrgC,QAAU+wB,EAAK/wB,QACxE+wB,GAAO,QAAyB5mB,GAEhCq2B,GAAc,IAAA/Q,YAAkC,MAStD,SAAS8Q,EAAanuB,GAClB,MAAM0uB,EAAW1H,EACbhnB,EAAE2uB,UAAYD,IACdA,EAAS9gC,MAAT,cAAkB8gC,EAAS9gC,OAA3B,OAAkB8gC,EAAS9gC,OAAT8gC,EAAS9gC,MAA3B,iBAAkB8gC,EAAS9gC,MAA3B,oBAAkB8gC,EAAS9gC,MAA3B,GACAoS,EAAE4uB,kBACF5uB,EAAE6uB,mBAbV,IAAAnqB,cAAY,KACR,MAAMgoB,GAAgB,QAAU/qB,GAChCysB,EAAYxgC,MACR,UAAa,IAAb8+B,GAAa,OAAbA,GAAAA,EAAa,kBAAbA,EAAa,kBAAI,YAAjBA,EAAA,GACM,MACA,SAAgB,SAAI,KAAM,QAAOA,SAY/C,MAAMhgC,GAAU,IAAA6L,WAAS,KAAM,QAAUyuB,IAAWnrB,EAAA,EAAO9G,EAAA,UAAgBrI,UAE3E,MAAO,CACHmrB,UADG,KAEHoW,UAAAA,EACAF,QAAAA,EACApP,KAAAA,EACAyP,YAAAA,EACAl7B,MANG,QAOHi7B,aAAAA,EACAzhC,QAAAA,M,UCpEZ,MAAM2M,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASnD,GAAQ,CAAC,YAAY,qBAEzF,S,iBCTA,SAAS44B,EAAoB5N,GAC5B,IAAIlhB,EAAI,IAAIxQ,MAAM,uBAAyB0xB,EAAM,KAEjD,MADAlhB,EAAE+uB,KAAO,mBACH/uB,EAEP8uB,EAAoB79B,KAAO,WAAa,MAAO,IAC/C69B,EAAoBE,QAAUF,EAC9BA,EAAoB3hC,GAAK,KACzB8hC,EAAOC,QAAUJ,G,kcCPbK,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBxhC,IAAjByhC,EACH,OAAOA,EAAaJ,QAGrB,IAAID,EAASE,EAAyBE,GAAY,CAGjDH,QAAS,IAOV,OAHAK,EAAoBF,GAAU1X,KAAKsX,EAAOC,QAASD,EAAQA,EAAOC,QAASE,GAGpEH,EAAOC,QAIfE,EAAoBrlB,EAAIwlB,E,WCzBxB,IAAIC,EAAW,GACfJ,EAAoBK,EAAI,SAAS/f,EAAQggB,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAen3B,EAAAA,EACnB,IAAS6N,EAAI,EAAGA,EAAIipB,EAASrtB,OAAQoE,IAAK,CACrCmpB,EAAWF,EAASjpB,GAAG,GACvBopB,EAAKH,EAASjpB,GAAG,GACjBqpB,EAAWJ,EAASjpB,GAAG,GAE3B,IAJA,IAGIupB,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASvtB,OAAQ4tB,MACpB,EAAXH,GAAsBC,GAAgBD,IAAa5+B,OAAOC,KAAKm+B,EAAoBK,GAAGrG,OAAM,SAASz7B,GAAO,OAAOyhC,EAAoBK,EAAE9hC,GAAK+hC,EAASK,OAC3JL,EAASM,OAAOD,IAAK,IAErBD,GAAY,EACTF,EAAWC,IAAcA,EAAeD,IAG7C,GAAGE,EAAW,CACbN,EAASQ,OAAOzpB,IAAK,GACrB,IAAI0pB,EAAIN,SACE9hC,IAANoiC,IAAiBvgB,EAASugB,IAGhC,OAAOvgB,EAzBNkgB,EAAWA,GAAY,EACvB,IAAI,IAAIrpB,EAAIipB,EAASrtB,OAAQoE,EAAI,GAAKipB,EAASjpB,EAAI,GAAG,GAAKqpB,EAAUrpB,IAAKipB,EAASjpB,GAAKipB,EAASjpB,EAAI,GACrGipB,EAASjpB,GAAK,CAACmpB,EAAUC,EAAIC,I,cCJ/BR,EAAoB71B,EAAI,SAAS01B,GAChC,IAAIiB,EAASjB,GAAUA,EAAOkB,WAC7B,WAAa,OAAOlB,EAAO,YAC3B,WAAa,OAAOA,GAErB,OADAG,EAAoB9F,EAAE4G,EAAQ,CAAE7e,EAAG6e,IAC5BA,G,cCLRd,EAAoB9F,EAAI,SAAS4F,EAASkB,GACzC,IAAI,IAAIziC,KAAOyiC,EACXhB,EAAoBiB,EAAED,EAAYziC,KAASyhC,EAAoBiB,EAAEnB,EAASvhC,IAC5EqD,OAAOs/B,eAAepB,EAASvhC,EAAK,CAAE4iC,YAAY,EAAMn9B,IAAKg9B,EAAWziC,M,cCJ3EyhC,EAAoBoB,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO9mB,MAAQ,IAAI7R,SAAS,cAAb,GACd,MAAOkI,GACR,GAAsB,kBAAX9L,OAAqB,OAAOA,QALjB,G,cCAxBk7B,EAAoBiB,EAAI,SAASx/B,EAAK6/B,GAAQ,OAAO1/B,OAAO0mB,UAAUiZ,eAAehZ,KAAK9mB,EAAK6/B,I,cCC/FtB,EAAoBa,EAAI,SAASf,GACX,qBAAXjiC,QAA0BA,OAAO2jC,aAC1C5/B,OAAOs/B,eAAepB,EAASjiC,OAAO2jC,YAAa,CAAEhjC,MAAO,WAE7DoD,OAAOs/B,eAAepB,EAAS,aAAc,CAAEthC,OAAO,K,cCAvD,IAAIijC,EAAkB,CACrB,IAAK,GAaNzB,EAAoBK,EAAEM,EAAI,SAASe,GAAW,OAAoC,IAA7BD,EAAgBC,IAGrE,IAAIC,EAAuB,SAASC,EAA4BC,GAC/D,IAKI5B,EAAUyB,EALVpB,EAAWuB,EAAK,GAChBC,EAAcD,EAAK,GACnBE,EAAUF,EAAK,GAGI1qB,EAAI,EAC3B,GAAGmpB,EAAS0B,MAAK,SAASjkC,GAAM,OAA+B,IAAxB0jC,EAAgB1jC,MAAe,CACrE,IAAIkiC,KAAY6B,EACZ9B,EAAoBiB,EAAEa,EAAa7B,KACrCD,EAAoBrlB,EAAEslB,GAAY6B,EAAY7B,IAGhD,GAAG8B,EAAS,IAAIzhB,EAASyhB,EAAQ/B,GAGlC,IADG4B,GAA4BA,EAA2BC,GACrD1qB,EAAImpB,EAASvtB,OAAQoE,IACzBuqB,EAAUpB,EAASnpB,GAChB6oB,EAAoBiB,EAAEQ,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAO1B,EAAoBK,EAAE/f,IAG1B2hB,EAAqBC,KAAK,yBAA2BA,KAAK,0BAA4B,GAC1FD,EAAmBngC,QAAQ6/B,EAAqB9Y,KAAK,KAAM,IAC3DoZ,EAAmBz/B,KAAOm/B,EAAqB9Y,KAAK,KAAMoZ,EAAmBz/B,KAAKqmB,KAAKoZ,I,GC/CvF,IAAIE,EAAsBnC,EAAoBK,OAAE5hC,EAAW,CAAC,MAAM,WAAa,OAAOuhC,EAAoB,SAC1GmC,EAAsBnC,EAAoBK,EAAE8B,I","sources":["webpack://profectus/./src/data/themes.ts","webpack://profectus/./src/features/feature.ts","webpack://profectus/./src/game/events.ts","webpack://profectus/./src/game/persistence.ts","webpack://profectus/./src/game/player.ts","webpack://profectus/./src/game/settings.ts","webpack://profectus/./src/game/state.ts","webpack://profectus/./src/components/Layer.vue?df35","webpack://profectus/./src/components/Layer.vue?ea1e","webpack://profectus/./src/components/Layer.vue","webpack://profectus/./src/data/Changelog.vue?6b26","webpack://profectus/./src/data/Changelog.vue","webpack://profectus/./src/components/Info.vue?962a","webpack://profectus/./src/components/Info.vue","webpack://profectus/./src/components/Options.vue?ba84","webpack://profectus/./src/components/Options.vue","webpack://profectus/./src/components/fields/Text.vue?ba89","webpack://profectus/./src/components/fields/Text.vue","webpack://profectus/./src/components/fields/DangerButton.vue?bf6c","webpack://profectus/./src/components/fields/DangerButton.vue","webpack://profectus/./src/components/fields/FeedbackButton.vue?2dba","webpack://profectus/./src/components/fields/FeedbackButton.vue","webpack://profectus/./src/components/Save.vue?548a","webpack://profectus/./src/components/Save.vue","webpack://profectus/./src/components/SavesManager.vue?f8a3","webpack://profectus/./src/components/SavesManager.vue","webpack://profectus/./src/components/Nav.vue?b4a5","webpack://profectus/./src/components/Nav.vue","webpack://profectus/./src/components/Game.vue?fa24","webpack://profectus/./src/components/Game.vue","webpack://profectus/./src/components/GameOverScreen.vue?ee8d","webpack://profectus/./src/components/GameOverScreen.vue","webpack://profectus/./src/components/NaNScreen.vue?4f64","webpack://profectus/./src/components/NaNScreen.vue","webpack://profectus/./src/components/TPS.vue?e36e","webpack://profectus/./src/components/TPS.vue","webpack://profectus/./src/App.vue?94f9","webpack://profectus/./src/App.vue","webpack://profectus/./src/main.ts","webpack://profectus/./src/lib/break_eternity.ts","webpack://profectus/./src/util/break_eternity.ts","webpack://profectus/./src/util/bignum.ts","webpack://profectus/./src/util/common.ts","webpack://profectus/./src/util/computed.ts","webpack://profectus/./src/util/proxies.ts","webpack://profectus/./src/util/save.ts","webpack://profectus/./src/components/layout/Spacer.vue?e0bd","webpack://profectus/./src/components/layout/Spacer.vue","webpack://profectus/./src/features/resources/resource.ts","webpack://profectus/./src/features/trees/Tree.vue?d078","webpack://profectus/./src/features/links/Link.vue?f30b","webpack://profectus/./src/features/links/Link.vue","webpack://profectus/./src/features/links/Links.vue?7529","webpack://profectus/./src/features/links/Links.vue","webpack://profectus/./src/features/trees/Tree.vue?698b","webpack://profectus/./src/features/trees/Tree.vue","webpack://profectus/./src/features/trees/TreeNode.vue?c8be","webpack://profectus/./src/components/Node.vue?6bf5","webpack://profectus/./src/components/Node.vue","webpack://profectus/./src/components/MarkNode.vue?acb3","webpack://profectus/./src/components/MarkNode.vue","webpack://profectus/./src/features/trees/TreeNode.vue?9a03","webpack://profectus/./src/features/trees/TreeNode.vue","webpack://profectus/./src/features/trees/tree.ts","webpack://profectus/./src/features/challenges/Challenge.vue?43ae","webpack://profectus/./src/game/notifications.ts","webpack://profectus/./src/features/challenges/Challenge.vue?5ee1","webpack://profectus/./src/features/challenges/Challenge.vue","webpack://profectus/./src/features/challenges/challenge.tsx","webpack://profectus/./src/features/conversion.ts","webpack://profectus/./src/features/milestones/Milestone.vue?08ca","webpack://profectus/./src/features/milestones/Milestone.vue?d607","webpack://profectus/./src/features/milestones/Milestone.vue","webpack://profectus/./src/features/milestones/milestone.tsx","webpack://profectus/./src/features/reset.ts","webpack://profectus/./src/features/resources/Resource.vue?0822","webpack://profectus/./src/features/resources/Resource.vue","webpack://profectus/./src/features/resources/MainDisplay.vue?8bde","webpack://profectus/./src/features/resources/MainDisplay.vue","webpack://profectus/./src/features/tooltips/tooltip.ts","webpack://profectus/./src/features/clickables/Clickable.vue?0089","webpack://profectus/./src/features/clickables/Clickable.vue?22aa","webpack://profectus/./src/features/clickables/Clickable.vue","webpack://profectus/./src/features/clickables/clickable.ts","webpack://profectus/./src/data/common.tsx","webpack://profectus/./src/features/upgrades/Upgrade.vue?4ec3","webpack://profectus/./src/features/upgrades/Upgrade.vue?4a14","webpack://profectus/./src/features/upgrades/Upgrade.vue","webpack://profectus/./src/features/upgrades/upgrade.ts","webpack://profectus/./src/game/modifiers.tsx","webpack://profectus/./src/data/layers/number.tsx","webpack://profectus/./src/data/layers/factor.tsx","webpack://profectus/./src/data/projEntry.tsx","webpack://profectus/./src/game/layers.tsx","webpack://profectus/./src/components/layout/Row.vue?506d","webpack://profectus/./src/components/layout/Row.vue","webpack://profectus/./src/util/vue.tsx","webpack://profectus/./src/components/Context.vue?2f6e","webpack://profectus/./src/components/Context.vue","webpack://profectus/./src/components/Modal.vue?1099","webpack://profectus/./src/components/Modal.vue","webpack://profectus/./src/components/fields/Select.vue?c5ab","webpack://profectus/./src/components/fields/Select.vue","webpack://profectus/./src/components/fields/Toggle.vue?20df","webpack://profectus/./src/components/fields/Toggle.vue","webpack://profectus/./src/features/tooltips/Tooltip.vue?3242","webpack://profectus/./src/features/tooltips/Tooltip.vue?9cc7","webpack://profectus/./src/features/tooltips/Tooltip.vue","webpack://profectus/|/\\.txt$/","webpack://profectus/webpack/bootstrap","webpack://profectus/webpack/runtime/chunk loaded","webpack://profectus/webpack/runtime/compat get default export","webpack://profectus/webpack/runtime/define property getters","webpack://profectus/webpack/runtime/global","webpack://profectus/webpack/runtime/hasOwnProperty shorthand","webpack://profectus/webpack/runtime/make namespace object","webpack://profectus/webpack/runtime/jsonp chunk loading","webpack://profectus/webpack/startup"],"sourcesContent":["export interface ThemeVars {\n    \"--foreground\": string;\n    \"--background\": string;\n    \"--feature-foreground\": string;\n    \"--tooltip-background\": string;\n    \"--raised-background\": string;\n    \"--points\": string;\n    \"--locked\": string;\n    \"--highlighted\": string;\n    \"--bought\": string;\n    \"--danger\": string;\n    \"--link\": string;\n    \"--outline\": string;\n    \"--accent1\": string;\n    \"--accent2\": string;\n    \"--accent3\": string;\n    \"--border-radius\": string;\n    \"--modal-border\": string;\n    \"--feature-margin\": string;\n}\n\nexport interface Theme {\n    variables: ThemeVars;\n    floatingTabs: boolean;\n    mergeAdjacent: boolean;\n    showPin: boolean;\n}\n\ndeclare module \"@vue/runtime-dom\" {\n    // eslint-disable-next-line @typescript-eslint/no-empty-interface\n    interface CSSProperties extends Partial<ThemeVars> {}\n}\n\nconst defaultTheme: Theme = {\n    variables: {\n        \"--foreground\": \"#dfdfdf\",\n        \"--background\": \"#0f0f0f\",\n        \"--feature-foreground\": \"#0f0f0f\",\n        \"--tooltip-background\": \"rgba(0, 0, 0, 0.75)\",\n        \"--raised-background\": \"#0f0f0f\",\n        \"--points\": \"#ffffff\",\n        \"--locked\": \"#bf8f8f\",\n        \"--highlighted\": \"#333\",\n        \"--bought\": \"#77bf5f\",\n        \"--danger\": \"rgb(220, 53, 69)\",\n        \"--link\": \"#02f2f2\",\n        \"--outline\": \"#dfdfdf\",\n        \"--accent1\": \"#627a82\",\n        \"--accent2\": \"#658262\",\n        \"--accent3\": \"#7c6282\",\n\n        \"--border-radius\": \"15px\",\n        \"--modal-border\": \"solid 2px var(--color)\",\n        \"--feature-margin\": \"0px\"\n    },\n    floatingTabs: true,\n    mergeAdjacent: true,\n    showPin: true\n};\n\nexport enum Themes {\n    Classic = \"classic\",\n    Paper = \"paper\",\n    Nordic = \"nordic\",\n    Aqua = \"aqua\"\n}\n\nexport default {\n    classic: defaultTheme,\n    paper: {\n        ...defaultTheme,\n        variables: {\n            ...defaultTheme.variables,\n            \"--background\": \"#2a323d\",\n            \"--feature-foreground\": \"#000\",\n            \"--raised-background\": \"#333c4a\",\n            \"--locked\": \"#3a3e45\",\n            \"--bought\": \"#5C8A58\",\n            \"--outline\": \"#333c4a\",\n            \"--border-radius\": \"4px\",\n            \"--modal-border\": \"\",\n            \"--feature-margin\": \"5px\"\n        },\n        floatingTabs: false\n    } as Theme,\n    // Based on https://www.nordtheme.com\n    nordic: {\n        ...defaultTheme,\n        variables: {\n            ...defaultTheme.variables,\n            \"--foreground\": \"#D8DEE9\",\n            \"--background\": \"#2E3440\",\n            \"--feature-foreground\": \"#000\",\n            \"--raised-background\": \"#3B4252\",\n            \"--points\": \"#E5E9F0\",\n            \"--locked\": \"#4c566a\",\n            \"--highlighted\": \"#434c5e\",\n            \"--bought\": \"#8FBCBB\",\n            \"--danger\": \"#D08770\",\n            \"--link\": \"#88C0D0\",\n            \"--outline\": \"#3B4252\",\n            \"--accent1\": \"#B48EAD\",\n            \"--accent2\": \"#A3BE8C\",\n            \"--accent3\": \"#EBCB8B\",\n            \"--border-radius\": \"4px\",\n            \"--modal-border\": \"solid 2px #3B4252\",\n            \"--feature-margin\": \"5px\"\n        },\n        floatingTabs: false\n    } as Theme,\n    aqua: {\n        ...defaultTheme,\n        variables: {\n            ...defaultTheme.variables,\n            \"--foreground\": \"#bfdfff\",\n            \"--background\": \"#001f3f\",\n            \"--tooltip-background\": \"rgba(0, 15, 31, 0.75)\",\n            \"--raised-background\": \"#001f3f\",\n            \"--points\": \"#dfefff\",\n            \"--locked\": \"#c4a7b3\",\n            \"--outline\": \"#bfdfff\"\n        }\n    } as Theme\n} as Record<Themes, Theme>;\n","import { DefaultValue } from \"game/persistence\";\nimport Decimal from \"util/bignum\";\nimport { DoNotCache, ProcessedComputable } from \"util/computed\";\nimport { CSSProperties, DefineComponent, isRef } from \"vue\";\n\nexport const Component = Symbol(\"Component\");\nexport const GatherProps = Symbol(\"GatherProps\");\n\nexport type JSXFunction = (() => JSX.Element) & { [DoNotCache]: true };\nexport type CoercableComponent = string | DefineComponent | JSXFunction;\nexport type StyleValue = string | CSSProperties | Array<string | CSSProperties>;\n\n// TODO if importing .vue components in .tsx can become type safe,\n// this type can probably be safely removed\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type GenericComponent = DefineComponent<any, any, any>;\n\nexport type FeatureComponent<T> = Omit<\n    {\n        [K in keyof T]: T[K] extends ProcessedComputable<infer S> ? S : T[K];\n    },\n    typeof Component | typeof DefaultValue\n>;\n\nexport type Replace<T, S> = S & Omit<T, keyof S>;\n\nexport type OptionsFunc<T, S = T, R = Record<string, unknown>> = () => T & ThisType<S> & Partial<R>;\n\nlet id = 0;\n// Get a unique ID to allow a feature to be found for creating branches\n// and any other uses requiring unique identifiers for each feature\n// IDs are gauranteed unique, but should not be saved as they are not\n// guaranteed to be persistent through updates and such\nexport function getUniqueID(prefix = \"feature-\"): string {\n    return prefix + id++;\n}\n\nexport enum Visibility {\n    Visible,\n    Hidden,\n    None\n}\n\nexport function jsx(func: () => JSX.Element | \"\"): JSXFunction {\n    (func as Partial<JSXFunction>)[DoNotCache] = true;\n    return func as JSXFunction;\n}\n\nexport function showIf(condition: boolean, otherwise = Visibility.None): Visibility {\n    return condition ? Visibility.Visible : otherwise;\n}\n\nexport function setDefault<T, K extends keyof T>(\n    object: T,\n    key: K,\n    value: T[K]\n): asserts object is Exclude<T, K> & Required<Pick<T, K>> {\n    if (object[key] === undefined && value != undefined) {\n        object[key] = value;\n    }\n}\n\nexport function findFeatures(obj: Record<string, unknown>, type: symbol): unknown[] {\n    const objects: unknown[] = [];\n    const handleObject = (obj: Record<string, unknown>) => {\n        Object.keys(obj).forEach(key => {\n            const value = obj[key];\n            if (value && typeof value === \"object\") {\n                if ((value as Record<string, unknown>).type === type) {\n                    objects.push(value);\n                } else if (!(value instanceof Decimal) && !isRef(value)) {\n                    handleObject(value as Record<string, unknown>);\n                }\n            }\n        });\n    };\n    handleObject(obj);\n    return objects;\n}\n","import projInfo from \"data/projInfo.json\";\nimport Decimal from \"util/bignum\";\nimport { createNanoEvents } from \"nanoevents\";\nimport { App, Ref, watch } from \"vue\";\nimport { GenericLayer } from \"./layers\";\nimport player from \"./player\";\nimport settings, { Settings } from \"./settings\";\nimport state from \"./state\";\n\nexport interface GlobalEvents {\n    addLayer: (layer: GenericLayer, saveData: Record<string, unknown>) => void;\n    removeLayer: (layer: GenericLayer) => void;\n    update: (diff: number, trueDiff: number) => void;\n    loadSettings: (settings: Partial<Settings>) => void;\n    gameWon: VoidFunction;\n    setupVue: (vue: App) => void;\n}\n\nexport const globalBus = createNanoEvents<GlobalEvents>();\n\nlet intervalID: number | null = null;\n\n// Not imported immediately due to dependency cycles\n// This gets set during startGameLoop(), and will only be used in the update function\nlet hasWon: null | Ref<boolean> = null;\n\nfunction update() {\n    const now = Date.now();\n    let diff = (now - player.time) / 1e3;\n    player.time = now;\n    const trueDiff = diff;\n\n    state.lastTenTicks.push(trueDiff);\n    if (state.lastTenTicks.length > 10) {\n        state.lastTenTicks = state.lastTenTicks.slice(1);\n    }\n\n    // Stop here if the game is paused on the win screen\n    if (hasWon?.value && !player.keepGoing) {\n        return;\n    }\n    // Stop here if the player had a NaN value\n    if (state.hasNaN) {\n        return;\n    }\n\n    diff = Math.max(diff, 0);\n\n    if (player.devSpeed === 0) {\n        return;\n    }\n\n    // Add offline time if any\n    if (player.offlineTime != undefined) {\n        if (Decimal.gt(player.offlineTime, projInfo.offlineLimit * 3600)) {\n            player.offlineTime = projInfo.offlineLimit * 3600;\n        }\n        if (Decimal.gt(player.offlineTime, 0) && player.devSpeed !== 0) {\n            const offlineDiff = Math.max(player.offlineTime / 10, diff);\n            player.offlineTime = player.offlineTime - offlineDiff;\n            diff += offlineDiff;\n        } else if (player.devSpeed === 0) {\n            player.offlineTime += diff;\n        }\n        if (!player.offlineProd || Decimal.lt(player.offlineTime, 0)) {\n            player.offlineTime = null;\n        }\n    }\n\n    // Cap at max tick length\n    diff = Math.min(diff, projInfo.maxTickLength);\n\n    // Apply dev speed\n    if (player.devSpeed != undefined) {\n        diff *= player.devSpeed;\n    }\n\n    if (!Number.isFinite(diff)) {\n        diff = 1e308;\n    }\n\n    // Update\n    if (Decimal.eq(diff, 0)) {\n        return;\n    }\n\n    player.timePlayed += diff;\n    if (!Number.isFinite(player.timePlayed)) {\n        player.timePlayed = 1e308;\n    }\n    globalBus.emit(\"update\", diff, trueDiff);\n\n    if (settings.unthrottled) {\n        requestAnimationFrame(update);\n        if (intervalID != null) {\n            clearInterval(intervalID);\n            intervalID = null;\n        }\n    } else if (intervalID == null) {\n        intervalID = setInterval(update, 50);\n    }\n}\n\nexport async function startGameLoop() {\n    hasWon = (await import(\"data/projEntry\")).hasWon;\n    watch(hasWon, hasWon => {\n        if (hasWon) {\n            globalBus.emit(\"gameWon\");\n        }\n    });\n    if (settings.unthrottled) {\n        requestAnimationFrame(update);\n    } else {\n        intervalID = setInterval(update, 50);\n    }\n}\n","import { globalBus } from \"game/events\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { ProxyState } from \"util/proxies\";\nimport { isArray } from \"@vue/shared\";\nimport { isReactive, isRef, Ref, ref } from \"vue\";\nimport { addingLayers, GenericLayer, persistentRefs } from \"./layers\";\n\nexport const PersistentState = Symbol(\"PersistentState\");\nexport const DefaultValue = Symbol(\"DefaultValue\");\nexport const StackTrace = Symbol(\"StackTrace\");\nexport const Deleted = Symbol(\"Deleted\");\n\n// Note: This is a union of things that should be safely stringifiable without needing\n// special processes for knowing what to load them in as\n// - Decimals aren't allowed because we'd need to know to parse them back.\n// - DecimalSources are allowed because the string is a valid value for them\nexport type State =\n    | string\n    | number\n    | boolean\n    | DecimalSource\n    | { [key: string]: State }\n    | { [key: number]: State };\n\nexport type Persistent<T extends State = State> = Ref<T> & {\n    [PersistentState]: Ref<T>;\n    [DefaultValue]: T;\n    [StackTrace]: string;\n    [Deleted]: boolean;\n};\n\nfunction getStackTrace() {\n    return (\n        new Error().stack\n            ?.split(\"\\n\")\n            .slice(3, 5)\n            .map(line => line.trim())\n            .join(\"\\n\") || \"\"\n    );\n}\n\nexport function persistent<T extends State>(defaultValue: T | Ref<T>): Persistent<T> {\n    const persistent = (\n        isRef(defaultValue) ? defaultValue : (ref<T>(defaultValue) as unknown)\n    ) as Persistent<T>;\n\n    persistent[PersistentState] = persistent;\n    persistent[DefaultValue] = isRef(defaultValue) ? defaultValue.value : defaultValue;\n    persistent[StackTrace] = getStackTrace();\n    persistent[Deleted] = false;\n\n    if (addingLayers.length === 0) {\n        console.warn(\n            \"Creating a persistent ref outside of a layer. This is not officially supported\",\n            persistent,\n            \"\\nCreated at:\\n\" + persistent[StackTrace]\n        );\n    } else {\n        persistentRefs[addingLayers[addingLayers.length - 1]].add(persistent);\n    }\n\n    return persistent as Persistent<T>;\n}\n\nexport function deletePersistent(persistent: Persistent) {\n    if (addingLayers.length === 0) {\n        console.warn(\"Deleting a persistent ref outside of a layer. Ignoring...\", persistent);\n    } else {\n        persistentRefs[addingLayers[addingLayers.length - 1]].delete(persistent);\n    }\n    persistent[Deleted] = true;\n}\n\nglobalBus.on(\"addLayer\", (layer: GenericLayer, saveData: Record<string, unknown>) => {\n    const features: { type: typeof Symbol }[] = [];\n    const handleObject = (obj: Record<string, unknown>, path: string[] = []): boolean => {\n        let foundPersistent = false;\n        Object.keys(obj).forEach(key => {\n            const value = obj[key];\n            if (value && typeof value === \"object\") {\n                if (PersistentState in value) {\n                    foundPersistent = true;\n                    if ((value as Persistent)[Deleted]) {\n                        console.warn(\n                            \"Deleted persistent ref present in returned object. Ignoring...\",\n                            value,\n                            \"\\nCreated at:\\n\" + (value as Persistent)[StackTrace]\n                        );\n                        return;\n                    }\n                    persistentRefs[layer.id].delete(\n                        ProxyState in value\n                            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                              ((value as any)[ProxyState] as Persistent)\n                            : (value as Persistent)\n                    );\n\n                    // Construct save path if it doesn't exist\n                    const persistentState = path.reduce<Record<string, unknown>>((acc, curr) => {\n                        if (!(curr in acc)) {\n                            acc[curr] = {};\n                        }\n                        return acc[curr] as Record<string, unknown>;\n                    }, saveData);\n\n                    // Cache currently saved value\n                    const savedValue = persistentState[key];\n                    // Add ref to save data\n                    persistentState[key] = (value as Persistent)[PersistentState];\n                    // Load previously saved value\n                    if (isReactive(persistentState)) {\n                        if (savedValue != null) {\n                            persistentState[key] = savedValue;\n                        } else {\n                            persistentState[key] = (value as Persistent)[DefaultValue];\n                        }\n                    } else {\n                        if (savedValue != null) {\n                            (persistentState[key] as Ref<unknown>).value = savedValue;\n                        } else {\n                            (persistentState[key] as Ref<unknown>).value = (value as Persistent)[\n                                DefaultValue\n                            ];\n                        }\n                    }\n                } else if (\n                    !(value instanceof Decimal) &&\n                    !isRef(value) &&\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    !features.includes(value as { type: typeof Symbol })\n                ) {\n                    if (typeof (value as { type: typeof Symbol }).type === \"symbol\") {\n                        features.push(value as { type: typeof Symbol });\n                    }\n\n                    // Continue traversing\n                    const foundPersistentInChild = handleObject(value as Record<string, unknown>, [\n                        ...path,\n                        key\n                    ]);\n\n                    // Show warning for persistent values inside arrays\n                    // TODO handle arrays better\n                    if (foundPersistentInChild) {\n                        if (isArray(value) && !isArray(obj)) {\n                            console.warn(\n                                \"Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.\",\n                                ProxyState in obj\n                                    ? (obj as Record<PropertyKey, unknown>)[ProxyState]\n                                    : obj,\n                                key\n                            );\n                        } else {\n                            foundPersistent = true;\n                        }\n                    }\n                }\n            }\n        });\n        return foundPersistent;\n    };\n    handleObject(layer);\n    persistentRefs[layer.id].forEach(persistent => {\n        console.error(\n            `Created persistent ref in ${layer.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,\n            persistent,\n            \"\\nCreated at:\\n\" + persistent[StackTrace]\n        );\n    });\n    persistentRefs[layer.id].clear();\n});\n","import Decimal from \"util/bignum\";\nimport { isPlainObject } from \"util/common\";\nimport { ProxiedWithState, ProxyPath, ProxyState } from \"util/proxies\";\nimport { reactive, unref } from \"vue\";\nimport transientState from \"./state\";\n\nexport interface PlayerData {\n    id: string;\n    devSpeed: number | null;\n    name: string;\n    tabs: Array<string>;\n    time: number;\n    autosave: boolean;\n    offlineProd: boolean;\n    offlineTime: number | null;\n    timePlayed: number;\n    keepGoing: boolean;\n    modID: string;\n    modVersion: string;\n    layers: Record<string, Record<string, unknown>>;\n}\n\nexport type Player = ProxiedWithState<PlayerData>;\n\nconst state = reactive<PlayerData>({\n    id: \"\",\n    devSpeed: null,\n    name: \"\",\n    tabs: [],\n    time: -1,\n    autosave: true,\n    offlineProd: true,\n    offlineTime: null,\n    timePlayed: 0,\n    keepGoing: false,\n    modID: \"\",\n    modVersion: \"\",\n    layers: {}\n});\n\nexport function stringifySave(player: PlayerData): string {\n    return JSON.stringify(player, (key, value) => unref(value));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst playerHandler: ProxyHandler<Record<PropertyKey, any>> = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get(target: Record<PropertyKey, any>, key: PropertyKey): any {\n        if (key === ProxyState || key === ProxyPath) {\n            return target[key];\n        }\n\n        const value = target[ProxyState][key];\n        if (key !== \"value\" && isPlainObject(value) && !(value instanceof Decimal)) {\n            if (value !== target[key]?.[ProxyState]) {\n                const path = [...target[ProxyPath], key];\n                target[key] = new Proxy({ [ProxyState]: value, [ProxyPath]: path }, playerHandler);\n            }\n            return target[key];\n        }\n\n        return value;\n    },\n    set(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        target: Record<PropertyKey, any>,\n        property: PropertyKey,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        value: any,\n        receiver: ProxyConstructor\n    ): boolean {\n        if (\n            !transientState.hasNaN &&\n            ((typeof value === \"number\" && isNaN(value)) ||\n                (value instanceof Decimal &&\n                    (isNaN(value.sign) || isNaN(value.layer) || isNaN(value.mag))))\n        ) {\n            const currentValue = target[ProxyState][property];\n            if (\n                !(\n                    (typeof currentValue === \"number\" && isNaN(currentValue)) ||\n                    (currentValue instanceof Decimal &&\n                        (isNaN(currentValue.sign) ||\n                            isNaN(currentValue.layer) ||\n                            isNaN(currentValue.mag)))\n                )\n            ) {\n                state.autosave = false;\n                transientState.hasNaN = true;\n                transientState.NaNPath = [...target[ProxyPath], property];\n                transientState.NaNReceiver = receiver as unknown as Record<string, unknown>;\n                console.error(\n                    `Attempted to set NaN value`,\n                    [...target[ProxyPath], property],\n                    target[ProxyState]\n                );\n                throw \"Attempted to set NaN value. See above for details\";\n            }\n        }\n        target[ProxyState][property] = value;\n        return true;\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ownKeys(target: Record<PropertyKey, any>) {\n        return Reflect.ownKeys(target[ProxyState]);\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    has(target: Record<PropertyKey, any>, key: string) {\n        return Reflect.has(target[ProxyState], key);\n    },\n    getOwnPropertyDescriptor(target, key) {\n        return Object.getOwnPropertyDescriptor(target[ProxyState], key);\n    }\n};\nexport default window.player = new Proxy(\n    { [ProxyState]: state, [ProxyPath]: [\"player\"] },\n    playerHandler\n) as Player;\n","import projInfo from \"data/projInfo.json\";\nimport { Themes } from \"data/themes\";\nimport { CoercableComponent } from \"features/feature\";\nimport { globalBus } from \"game/events\";\nimport LZString from \"lz-string\";\nimport { hardReset } from \"util/save\";\nimport { reactive, watch } from \"vue\";\n\nexport interface Settings {\n    active: string;\n    saves: string[];\n    showTPS: boolean;\n    theme: Themes;\n    unthrottled: boolean;\n}\n\nconst state = reactive<Partial<Settings>>({\n    active: \"\",\n    saves: [],\n    showTPS: true,\n    theme: Themes.Nordic,\n    unthrottled: false\n});\n\nwatch(\n    state,\n    state => {\n        let stringifiedSettings = JSON.stringify(state);\n        switch (projInfo.saveEncoding) {\n            default:\n                console.warn(`Unknown save encoding: ${projInfo.saveEncoding}. Defaulting to lz`);\n            case \"lz\":\n                stringifiedSettings = LZString.compressToUTF16(stringifiedSettings);\n                break;\n            case \"base64\":\n                stringifiedSettings = btoa(unescape(encodeURIComponent(stringifiedSettings)));\n                break;\n            case \"plain\":\n                break;\n        }\n        localStorage.setItem(projInfo.id, stringifiedSettings);\n    },\n    { deep: true }\n);\nexport default window.settings = state as Settings;\n\nexport function loadSettings(): void {\n    try {\n        let item: string | null = localStorage.getItem(projInfo.id);\n        if (item != null && item !== \"\") {\n            if (item[0] === \"{\") {\n                // plaintext. No processing needed\n            } else if (item[0] === \"e\") {\n                // Assumed to be base64, which starts with e\n                item = decodeURIComponent(escape(atob(item)));\n            } else if (item[0] === \"\") {\n                // Assumed to be lz, which starts with \n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                item = LZString.decompressFromUTF16(item)!;\n            } else {\n                console.warn(\"Unable to determine settings encoding\", item);\n                return;\n            }\n            const settings = JSON.parse(item);\n            if (typeof settings === \"object\") {\n                Object.assign(state, settings);\n            }\n        }\n        globalBus.emit(\"loadSettings\", state);\n        // eslint-disable-next-line no-empty\n    } catch {}\n}\n\nexport const hardResetSettings = (window.hardResetSettings = () => {\n    const settings = {\n        active: \"\",\n        saves: [],\n        showTPS: true,\n        theme: Themes.Nordic\n    };\n    globalBus.emit(\"loadSettings\", settings);\n    Object.assign(state, settings);\n    hardReset();\n});\n\nexport const settingFields: CoercableComponent[] = reactive([]);\nexport function registerSettingField(component: CoercableComponent) {\n    settingFields.push(component);\n}\n\nexport const infoComponents: CoercableComponent[] = reactive([]);\nexport function registerInfoComponent(component: CoercableComponent) {\n    infoComponents.push(component);\n}\n\nexport const gameComponents: CoercableComponent[] = reactive([]);\nexport function registerGameComponent(component: CoercableComponent) {\n    gameComponents.push(component);\n}\n","import { shallowReactive } from \"vue\";\n\nexport interface Transient {\n    lastTenTicks: number[];\n    hasNaN: boolean;\n    NaNPath?: string[];\n    NaNReceiver?: Record<string, unknown>;\n}\n\nexport default window.state = shallowReactive<Transient>({\n    lastTenTicks: [],\n    hasNaN: false,\n    NaNPath: []\n});\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Context = _resolveComponent(\"Context\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"layer-container\",\n    style: _normalizeStyle({ '--layer-color': _ctx.unref(_ctx.color) })\n  }, [\n    (_ctx.showGoBack)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          class: \"goBack\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.goBack && _ctx.goBack(...args)))\n        }, \"\"))\n      : _createCommentVNode(\"\", true),\n    (_ctx.minimized.value)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          class: \"layer-tab minimized\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.minimized.value = false))\n        }, [\n          _createElementVNode(\"div\", null, _toDisplayString(_ctx.unref(_ctx.name)), 1)\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", {\n          key: 2,\n          class: _normalizeClass([\"layer-tab\", [{ showGoBack: _ctx.showGoBack }, _ctx.unref(_ctx.classes)]]),\n          style: _normalizeStyle(_ctx.unref(_ctx.style))\n        }, [\n          _createVNode(_component_Context, { ref: \"contextRef\" }, {\n            default: _withCtx(() => [\n              (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.component)))\n            ]),\n            _: 1\n          }, 512)\n        ], 6)),\n    (_ctx.unref(_ctx.minimizable))\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 3,\n          class: \"minimize\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.minimized.value = true))\n        }, \"  \"))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}","\nimport projInfo from \"data/projInfo.json\";\nimport { CoercableComponent, StyleValue } from \"features/feature\";\nimport { FeatureNode } from \"game/layers\";\nimport { Persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport { computeComponent, processedPropType, wrapRef } from \"util/vue\";\nimport { computed, defineComponent, nextTick, PropType, Ref, ref, toRefs, unref, watch } from \"vue\";\nimport Context from \"./Context.vue\";\n\nexport default defineComponent({\n    components: { Context },\n    props: {\n        index: {\n            type: Number,\n            required: true\n        },\n        tab: {\n            type: Function as PropType<() => HTMLElement | undefined>,\n            required: true\n        },\n        display: {\n            type: processedPropType<CoercableComponent>(Object, String, Function),\n            required: true\n        },\n        minimized: {\n            type: Object as PropType<Persistent<boolean>>,\n            required: true\n        },\n        minWidth: {\n            type: processedPropType<number | string>(Number, String),\n            required: true\n        },\n        name: {\n            type: processedPropType<string>(String),\n            required: true\n        },\n        color: processedPropType<string>(String),\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        minimizable: processedPropType<boolean>(Boolean),\n        nodes: {\n            type: Object as PropType<Ref<Record<string, FeatureNode | undefined>>>,\n            required: true\n        }\n    },\n    setup(props) {\n        const { display, index, minimized, minWidth, tab } = toRefs(props);\n\n        const component = computeComponent(display);\n        const showGoBack = computed(\n            () => projInfo.allowGoBack && index.value > 0 && !minimized.value\n        );\n\n        function goBack() {\n            player.tabs.splice(unref(props.index), Infinity);\n        }\n\n        nextTick(() => updateTab(minimized.value, unref(minWidth.value)));\n        watch([minimized, wrapRef(minWidth)], ([minimized, minWidth]) =>\n            updateTab(minimized, minWidth)\n        );\n\n        const contextRef = ref<typeof Context | null>(null);\n        watch(\n            () => contextRef.value?.nodes,\n            nodes => {\n                if (nodes) {\n                    props.nodes.value = nodes;\n                }\n            }\n        );\n\n        function updateTab(minimized: boolean, minWidth: number | string) {\n            const width =\n                typeof minWidth === \"number\" || Number.isNaN(parseInt(minWidth))\n                    ? minWidth + \"px\"\n                    : minWidth;\n            const tabValue = tab.value();\n            if (tabValue != undefined) {\n                if (minimized) {\n                    tabValue.style.flexGrow = \"0\";\n                    tabValue.style.flexShrink = \"0\";\n                    tabValue.style.width = \"60px\";\n                    tabValue.style.minWidth = tabValue.style.flexBasis = \"\";\n                    tabValue.style.margin = \"0\";\n                } else {\n                    tabValue.style.flexGrow = \"\";\n                    tabValue.style.flexShrink = \"\";\n                    tabValue.style.width = \"\";\n                    tabValue.style.minWidth = tabValue.style.flexBasis = width;\n                    tabValue.style.margin = \"\";\n                }\n            }\n        }\n\n        return {\n            component,\n            showGoBack,\n            contextRef,\n            unref,\n            goBack\n        };\n    }\n});\n","import { render } from \"./Layer.vue?vue&type=template&id=52bbc8a4&scoped=true&ts=true\"\nimport script from \"./Layer.vue?vue&type=script&lang=ts\"\nexport * from \"./Layer.vue?vue&type=script&lang=ts\"\n\nimport \"./Layer.vue?vue&type=style&index=0&id=52bbc8a4&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52bbc8a4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b7121584\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Changelog\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"details\", { open: \"\" }, [\n  /*#__PURE__*/_createElementVNode(\"summary\", null, [\n    /*#__PURE__*/_createTextVNode(\"v0.0.2 More things! - \"),\n    /*#__PURE__*/_createElementVNode(\"time\", null, \"2022-05-02\")\n  ]),\n  /*#__PURE__*/_createElementVNode(\"ul\", null, [\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"balancing\" }, \"Balanced up to 13 factors.\"),\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"feature\" }, \" Added Factor Challenge as well as more upgrades and milestones. \"),\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"fix\" }, \"Make point gain format better.\")\n  ])\n], -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"details\", { open: \"\" }, [\n  /*#__PURE__*/_createElementVNode(\"summary\", null, [\n    /*#__PURE__*/_createTextVNode(\"v0.0.1.1 - \"),\n    /*#__PURE__*/_createElementVNode(\"time\", null, \"2022-05-02\")\n  ]),\n  /*#__PURE__*/_createElementVNode(\"ul\", null, [\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"fix\" }, \"Fixed some grammar problem.\")\n  ])\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"details\", { open: \"\" }, [\n  /*#__PURE__*/_createElementVNode(\"summary\", null, [\n    /*#__PURE__*/_createTextVNode(\"v0.0.1 Rewrite Start! - \"),\n    /*#__PURE__*/_createElementVNode(\"time\", null, \"2022-05-02\")\n  ]),\n  /*#__PURE__*/_createElementVNode(\"ul\", null, [\n    /*#__PURE__*/_createElementVNode(\"li\", { class: \"feature\" }, \" Added Number and Factor layer, including upgrades and milestones! \")\n  ])\n], -1))\n\nimport Modal from \"components/Modal.vue\";\nimport { ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst isOpen = ref(false);\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((isOpen).value = $event))\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    body: _withCtx(() => [\n      _hoisted_2,\n      _hoisted_3,\n      _hoisted_4\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./Changelog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Changelog.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Changelog.vue?vue&type=style&index=0&id=b7121584&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b7121584\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3eb46986\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"info-modal-header\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = { class: \"info-modal-title\" }\nconst _hoisted_4 = { key: 0 }\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \" Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb \", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_10 = [\"href\"]\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons info-modal-discord\" }, \"discord\", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/WzejVAx\",\n    class: \"info-modal-discord-link\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons info-modal-discord\" }, \"discord\"),\n    /*#__PURE__*/_createTextVNode(\" The Paper Pilot Community \")\n  ])\n], -1))\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/F3xveHV\",\n    class: \"info-modal-discord-link\"\n  }, [\n    /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons info-modal-discord\" }, \"discord\"),\n    /*#__PURE__*/_createTextVNode(\" The Modding Tree \")\n  ])\n], -1))\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nimport Modal from \"components/Modal.vue\";\nimport type Changelog from \"data/Changelog.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport { jsx } from \"features/feature\";\nimport player from \"game/player\";\nimport { infoComponents } from \"game/settings\";\nimport { formatTime } from \"util/bignum\";\nimport { coerceComponent, render } from \"util/vue\";\nimport { computed, ref, toRefs, unref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    changelog: null\n  },\n  setup(__props: any, { expose }) {\n\nconst _props = __props as { changelog: typeof Changelog | null }\n\nconst { title, logo, author, discordName, discordLink, versionNumber, versionTitle } = projInfo;\n\n\nconst props = toRefs(_props);\n\nconst isOpen = ref(false);\n\nconst timePlayed = computed(() => formatTime(player.timePlayed));\n\nconst infoComponent = computed(() => {\n    return coerceComponent(jsx(() => <>{infoComponents.map(render)}</>));\n});\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nfunction openChangelog() {\n    unref(props.changelog)?.open();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((isOpen).value = $event))\n  }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_unref(logo))\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"info-modal-logo\",\n              src: _unref(logo),\n              alt: _unref(title)\n            }, null, 8, _hoisted_2))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"h2\", null, _toDisplayString(_unref(title)), 1),\n          _createElementVNode(\"h4\", null, [\n            _createTextVNode(\" v\" + _toDisplayString(_unref(versionNumber)), 1),\n            (_unref(versionTitle))\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \": \" + _toDisplayString(_unref(versionTitle)), 1))\n              : _createCommentVNode(\"\", true)\n          ])\n        ])\n      ])\n    ]),\n    body: _withCtx(({ shown }) => [\n      shown\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            (_unref(author))\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \"By \" + _toDisplayString(_unref(author)), 1))\n              : _createCommentVNode(\"\", true),\n            _hoisted_7,\n            _hoisted_8,\n            _createElementVNode(\"div\", {\n              class: \"link\",\n              onClick: openChangelog\n            }, \"Changelog\"),\n            _hoisted_9,\n            _createElementVNode(\"div\", null, [\n              (_unref(discordLink) !== 'https://discord.gg/WzejVAx')\n                ? (_openBlock(), _createElementBlock(\"a\", {\n                    key: 0,\n                    href: _unref(discordLink),\n                    class: \"info-modal-discord-link\"\n                  }, [\n                    _hoisted_11,\n                    _createTextVNode(\" \" + _toDisplayString(_unref(discordName)), 1)\n                  ], 8, _hoisted_10))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _hoisted_12,\n            _hoisted_13,\n            _hoisted_14,\n            _createElementVNode(\"div\", null, \"Time Played: \" + _toDisplayString(_unref(timePlayed)), 1),\n            (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(infoComponent))))\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./Info.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./Info.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./Info.vue?vue&type=style&index=0&id=3eb46986&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3eb46986\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, isRef as _isRef, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-85d7ae40\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"header\" }, [\n  /*#__PURE__*/_createElementVNode(\"h2\", null, \"Options\")\n], -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1))\n\nimport Modal from \"components/Modal.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport rawThemes from \"data/themes\";\nimport { jsx } from \"features/feature\";\nimport player from \"game/player\";\nimport settings, { settingFields } from \"game/settings\";\nimport { camelToTitle } from \"util/common\";\nimport { coerceComponent, render } from \"util/vue\";\nimport { computed, ref, toRefs } from \"vue\";\nimport Select from \"./fields/Select.vue\";\nimport Toggle from \"./fields/Toggle.vue\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst isOpen = ref(false);\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nconst themes = Object.keys(rawThemes).map(theme => ({\n    label: camelToTitle(theme),\n    value: theme\n}));\n\nconst settingFieldsComponent = computed(() => {\n    return coerceComponent(jsx(() => <>{settingFields.map(render)}</>));\n});\n\nconst { showTPS, theme, unthrottled } = toRefs(settings);\nconst { autosave, offlineProd } = toRefs(player);\nconst isPaused = computed({\n    get() {\n        return player.devSpeed === 0;\n    },\n    set(value: boolean) {\n        player.devSpeed = value ? 0 : null;\n    }\n});\n\nconst offlineProdTitle = jsx(() => (\n    <span>\n        Offline Production<Tooltip display=\"Save-specific\">*</Tooltip>\n    </span>\n));\nconst autosaveTitle = jsx(() => (\n    <span>\n        Autosave<Tooltip display=\"Save-specific\">*</Tooltip>\n    </span>\n));\nconst isPausedTitle = jsx(() => (\n    <span>\n        Pause game<Tooltip display=\"Save-specific\">*</Tooltip>\n    </span>\n));\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((isOpen).value = $event))\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    body: _withCtx(() => [\n      _createVNode(Select, {\n        title: \"Theme\",\n        options: _unref(themes),\n        modelValue: _unref(theme),\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(theme) ? (theme).value = $event : null))\n      }, null, 8, [\"options\", \"modelValue\"]),\n      (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(settingFieldsComponent)))),\n      _createVNode(Toggle, {\n        title: \"Show TPS\",\n        modelValue: _unref(showTPS),\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(showTPS) ? (showTPS).value = $event : null))\n      }, null, 8, [\"modelValue\"]),\n      _hoisted_2,\n      _createVNode(Toggle, {\n        title: \"Unthrottled\",\n        modelValue: _unref(unthrottled),\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_isRef(unthrottled) ? (unthrottled).value = $event : null))\n      }, null, 8, [\"modelValue\"]),\n      _createVNode(Toggle, {\n        title: _unref(offlineProdTitle),\n        modelValue: _unref(offlineProd),\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => (_isRef(offlineProd) ? (offlineProd).value = $event : null))\n      }, null, 8, [\"title\", \"modelValue\"]),\n      _createVNode(Toggle, {\n        title: _unref(autosaveTitle),\n        modelValue: _unref(autosave),\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_isRef(autosave) ? (autosave).value = $event : null))\n      }, null, 8, [\"title\", \"modelValue\"]),\n      (_unref(projInfo).enablePausing)\n        ? (_openBlock(), _createBlock(Toggle, {\n            key: 0,\n            title: _unref(isPausedTitle),\n            modelValue: _unref(isPaused),\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => (_isRef(isPaused) ? (isPaused).value = $event : null))\n          }, null, 8, [\"title\", \"modelValue\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./Options.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./Options.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./Options.vue?vue&type=style&index=0&id=85d7ae40&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-85d7ae40\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, isRef as _isRef, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createElementVNode as _createElementVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8bda704a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onSubmit\"]\nconst _hoisted_2 = { class: \"field\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"field-title\"\n}\nconst _hoisted_4 = [\"placeholder\"]\n\nimport { CoercableComponent } from \"features/feature\";\nimport { coerceComponent } from \"util/vue\";\nimport { computed, onMounted, ref, toRefs, unref } from \"vue\";\nimport VueTextareaAutosize from \"vue-textarea-autosize\";\nimport \"components/common/fields.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: null,\n    textArea: { type: Boolean },\n    placeholder: null,\n    maxHeight: null\n  },\n  emits: [\"update:modelValue\", \"submit\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: string): void;\n    (e: \"submit\"): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    title?: CoercableComponent;\n    modelValue?: string;\n    textArea?: boolean;\n    placeholder?: string;\n    maxHeight?: number;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst titleComponent = computed(\n    () => props.title?.value && coerceComponent(unref(props.title.value), \"span\")\n);\n\nconst field = ref<HTMLElement | null>(null);\nonMounted(() => {\n    field.value?.focus();\n});\n\nconst value = computed({\n    get() {\n        return unref(props.modelValue) || \"\";\n    },\n    set(value: string) {\n        emit(\"update:modelValue\", value);\n    }\n});\n\nfunction submit() {\n    emit(\"submit\");\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"form\", {\n    onSubmit: _withModifiers(submit, [\"prevent\"])\n  }, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_unref(titleComponent))\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, [\n            (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(titleComponent))))\n          ]))\n        : _createCommentVNode(\"\", true),\n      (__props.textArea)\n        ? (_openBlock(), _createBlock(_unref(VueTextareaAutosize), {\n            key: 1,\n            modelValue: _unref(value),\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(value) ? (value).value = $event : null)),\n            placeholder: __props.placeholder,\n            maxHeight: __props.maxHeight,\n            onBlur: submit,\n            ref_key: \"field\",\n            ref: field\n          }, null, 8, [\"modelValue\", \"placeholder\", \"maxHeight\"]))\n        : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n            key: 2,\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(value) ? (value).value = $event : null)),\n            placeholder: __props.placeholder,\n            class: _normalizeClass({ fullWidth: !__props.title }),\n            onBlur: submit,\n            ref_key: \"field\",\n            ref: field\n          }, null, 42, _hoisted_4)), [\n            [_vModelText, _unref(value)]\n          ])\n    ])\n  ], 40, _hoisted_1))\n}\n}\n\n})","import script from \"./Text.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Text.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Text.vue?vue&type=style&index=0&id=8bda704a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8bda704a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, withModifiers as _withModifiers, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-bf59fca4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = [\"onClick\", \"disabled\"]\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = [\"onClick\"]\n\nimport { ref, toRefs, unref, watch } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    disabled: { type: Boolean },\n    skipConfirm: { type: Boolean }\n  },\n  emits: [\"click\", \"confirmingChanged\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"click\"): void;\n    (e: \"confirmingChanged\", value: boolean): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    disabled?: boolean;\n    skipConfirm?: boolean;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst isConfirming = ref(false);\n\nwatch(isConfirming, isConfirming => {\n    emit(\"confirmingChanged\", isConfirming);\n});\n\nfunction click() {\n    if (unref(props.skipConfirm)) {\n        emit(\"click\");\n        return;\n    }\n    if (isConfirming.value) {\n        emit(\"click\");\n    }\n    isConfirming.value = !isConfirming.value;\n}\n\nfunction cancel() {\n    isConfirming.value = false;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    class: _normalizeClass([\"container\", { confirming: isConfirming.value }])\n  }, [\n    (isConfirming.value)\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"Are you sure?\"))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"button\", {\n      onClick: _withModifiers(click, [\"stop\"]),\n      class: \"button danger\",\n      disabled: __props.disabled\n    }, [\n      (isConfirming.value)\n        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"Yes\"))\n        : _renderSlot(_ctx.$slots, \"default\", { key: 1 })\n    ], 8, _hoisted_2),\n    (isConfirming.value)\n      ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 1,\n          class: \"button\",\n          onClick: _withModifiers(cancel, [\"stop\"])\n        }, \"No\", 8, _hoisted_4))\n      : _createCommentVNode(\"\", true)\n  ], 2))\n}\n}\n\n})","import script from \"./DangerButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DangerButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DangerButton.vue?vue&type=style&index=0&id=bf59fca4&scoped=true&lang=css\"\nimport \"./DangerButton.vue?vue&type=style&index=1&id=bf59fca4&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bf59fca4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withModifiers as _withModifiers, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5bbcedd3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onClick\"]\n\nimport { nextTick, ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    left: { type: Boolean }\n  },\n  emits: [\"click\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"click\"): void;\n}), expose: any, slots: any, attrs: any }) {\n\n\n\n\nconst activated = ref(false);\nconst activatedTimeout = ref<number | null>(null);\n\nfunction click() {\n    emit(\"click\");\n\n    // Give feedback to user\n    if (activatedTimeout.value) {\n        clearTimeout(activatedTimeout.value);\n    }\n    activated.value = false;\n    nextTick(() => {\n        activated.value = true;\n        activatedTimeout.value = setTimeout(() => (activated.value = false), 500);\n    });\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", {\n    onClick: _withModifiers(click, [\"stop\"]),\n    class: _normalizeClass([\"feedback\", { activated: activated.value, left: __props.left }])\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 10, _hoisted_1))\n}\n}\n\n})","import script from \"./FeedbackButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FeedbackButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./FeedbackButton.vue?vue&type=style&index=0&id=5bbcedd3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bbcedd3\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6a0cf7ac\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"handle material-icons\" }, \"drag_handle\", -1))\nconst _hoisted_2 = {\n  key: 0,\n  class: \"actions\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"content_paste\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"content_copy\", -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"edit\", -1))\nconst _hoisted_7 = [\n  _hoisted_6\n]\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons\",\n  style: {\"margin\":\"-2px\"}\n}, \"delete\", -1))\nconst _hoisted_9 = {\n  key: 1,\n  class: \"actions\"\n}\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"check\", -1))\nconst _hoisted_11 = [\n  _hoisted_10\n]\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"close\", -1))\nconst _hoisted_13 = [\n  _hoisted_12\n]\nconst _hoisted_14 = {\n  key: 2,\n  class: \"details\"\n}\nconst _hoisted_15 = { class: \"save-version\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_17 = { key: 0 }\nconst _hoisted_18 = {\n  key: 3,\n  class: \"details\"\n}\nconst _hoisted_19 = {\n  key: 4,\n  class: \"details error\"\n}\nconst _hoisted_20 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nimport player from \"game/player\";\nimport { computed, ref, toRefs, watch } from \"vue\";\nimport DangerButton from \"./fields/DangerButton.vue\";\nimport FeedbackButton from \"./fields/FeedbackButton.vue\";\nimport Text from \"./fields/Text.vue\";\nimport { LoadablePlayerData } from \"./SavesManager.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    save: null\n  },\n  emits: [\"export\", \"open\", \"duplicate\", \"delete\", \"editName\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"export\"): void;\n    (e: \"open\"): void;\n    (e: \"duplicate\"): void;\n    (e: \"delete\"): void;\n    (e: \"editName\", name: string): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    save: LoadablePlayerData;\n}\n\n\nconst { save } = toRefs(_props);\n\n\nconst dateFormat = new Intl.DateTimeFormat(\"en-US\", {\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\"\n});\n\nconst isEditing = ref(false);\nconst isConfirming = ref(false);\nconst newName = ref(\"\");\n\nwatch(isEditing, () => (newName.value = save.value.name || \"\"));\n\nconst isActive = computed(() => save.value && save.value.id === player.id);\nconst currentTime = computed(() =>\n    isActive.value ? player.time : (save.value && save.value.time) || 0\n);\n\nfunction changeName() {\n    emit(\"editName\", newName.value);\n    isEditing.value = false;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"save\", { active: _unref(isActive) }])\n  }, [\n    _hoisted_1,\n    (!isEditing.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          (_unref(save).error == undefined && !isConfirming.value)\n            ? (_openBlock(), _createBlock(FeedbackButton, {\n                key: 0,\n                onClick: _cache[0] || (_cache[0] = ($event: any) => (emit('export'))),\n                class: \"button\",\n                left: \"\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_3\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (_unref(save).error == undefined && !isConfirming.value)\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 1,\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (emit('duplicate'))),\n                class: \"button\"\n              }, _hoisted_5))\n            : _createCommentVNode(\"\", true),\n          (_unref(save).error == undefined && !isConfirming.value)\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 2,\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (isEditing.value = !isEditing.value)),\n                class: \"button\"\n              }, _hoisted_7))\n            : _createCommentVNode(\"\", true),\n          _createVNode(DangerButton, {\n            disabled: _unref(isActive),\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('delete'))),\n            onConfirmingChanged: _cache[4] || (_cache[4] = value => (isConfirming.value = value))\n          }, {\n            default: _withCtx(() => [\n              _hoisted_8\n            ]),\n            _: 1\n          }, 8, [\"disabled\"])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n          _createElementVNode(\"button\", {\n            onClick: changeName,\n            class: \"button\"\n          }, _hoisted_11),\n          _createElementVNode(\"button\", {\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (isEditing.value = !isEditing.value)),\n            class: \"button\"\n          }, _hoisted_13)\n        ])),\n    (_unref(save).error == undefined && !isEditing.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n          _createElementVNode(\"button\", {\n            class: \"button open\",\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (emit('open')))\n          }, [\n            _createElementVNode(\"h3\", null, _toDisplayString(_unref(save).name), 1)\n          ]),\n          _createElementVNode(\"span\", _hoisted_15, \"v\" + _toDisplayString(_unref(save).modVersion), 1),\n          _hoisted_16,\n          (_unref(currentTime))\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, \"Last played \" + _toDisplayString(_unref(dateFormat).format(_unref(currentTime))), 1))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : (_unref(save).error == undefined && isEditing.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n            _createVNode(Text, {\n              modelValue: newName.value,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((newName).value = $event)),\n              class: \"editname\",\n              onSubmit: changeName\n            }, null, 8, [\"modelValue\"])\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n            _createTextVNode(\" Error: Failed to load save with id \" + _toDisplayString(_unref(save).id), 1),\n            _hoisted_20,\n            _createTextVNode(_toDisplayString(_unref(save).error), 1)\n          ]))\n  ], 2))\n}\n}\n\n})","import script from \"./Save.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Save.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Save.vue?vue&type=style&index=0&id=6a0cf7ac&scoped=true&lang=css\"\nimport \"./Save.vue?vue&type=style&index=1&id=6a0cf7ac&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a0cf7ac\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7bbba367\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Saves Manager\", -1))\nconst _hoisted_2 = { class: \"modal-footer\" }\nconst _hoisted_3 = { class: \"field\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"field-title\" }, \"Create Save\", -1))\nconst _hoisted_5 = { class: \"field-buttons\" }\nconst _hoisted_6 = { class: \"footer\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\"} }, null, -1))\n\nimport projInfo from \"data/projInfo.json\";\nimport Modal from \"components/Modal.vue\";\nimport player, { PlayerData } from \"game/player\";\nimport settings from \"game/settings\";\nimport { getUniqueID, loadSave, save, newSave } from \"util/save\";\nimport { ComponentPublicInstance, computed, nextTick, ref, shallowReactive, watch } from \"vue\";\nimport Select from \"./fields/Select.vue\";\nimport Text from \"./fields/Text.vue\";\nimport Save from \"./Save.vue\";\nimport Draggable from \"vuedraggable\";\nimport LZString from \"lz-string\";\n\nexport type LoadablePlayerData = Omit<Partial<PlayerData>, \"id\"> & { id: string; error?: unknown };\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst isOpen = ref(false);\nconst modal = ref<ComponentPublicInstance<typeof Modal> | null>(null);\n\nexpose({\n    open() {\n        isOpen.value = true;\n    }\n});\n\nconst importingFailed = ref(false);\nconst saveToImport = ref(\"\");\n\nwatch(saveToImport, importedSave => {\n    if (importedSave) {\n        nextTick(() => {\n            try {\n                if (importedSave[0] === \"{\") {\n                    // plaintext. No processing needed\n                } else if (importedSave[0] === \"e\") {\n                    // Assumed to be base64, which starts with e\n                    importedSave = decodeURIComponent(escape(atob(importedSave)));\n                } else if (importedSave[0] === \"\") {\n                    // Assumed to be lz, which starts with \n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    importedSave = LZString.decompressFromUTF16(importedSave)!;\n                } else {\n                    console.warn(\"Unable to determine preset encoding\", importedSave);\n                    importingFailed.value = true;\n                    return;\n                }\n                const playerData = JSON.parse(importedSave);\n                if (typeof playerData !== \"object\") {\n                    importingFailed.value = true;\n                    return;\n                }\n                const id = getUniqueID();\n                playerData.id = id;\n                save(playerData);\n                saveToImport.value = \"\";\n                importingFailed.value = false;\n\n                settings.saves.push(id);\n            } catch (e) {\n                importingFailed.value = true;\n            }\n        });\n    } else {\n        importingFailed.value = false;\n    }\n});\n\nlet bankContext = require.context(\"raw-loader!../../saves\", true, /\\.txt$/);\nlet bank = ref(\n    bankContext.keys().reduce((acc: Array<{ label: string; value: string }>, curr) => {\n        // .slice(2, -4) strips the leading ./ and the trailing .txt\n        acc.push({\n            label: curr.slice(2, -4),\n            value: bankContext(curr).default\n        });\n        return acc;\n    }, [])\n);\n\nconst cachedSaves = shallowReactive<Record<string, LoadablePlayerData | undefined>>({});\nfunction getCachedSave(id: string) {\n    if (cachedSaves[id] == null) {\n        let save = localStorage.getItem(id);\n        if (save == null) {\n            cachedSaves[id] = { error: `Save doesn't exist in localStorage`, id };\n        } else if (save === \"dW5kZWZpbmVk\") {\n            cachedSaves[id] = { error: `Save is undefined`, id };\n        } else {\n            try {\n                if (save[0] === \"{\") {\n                    // plaintext. No processing needed\n                } else if (save[0] === \"e\") {\n                    // Assumed to be base64, which starts with e\n                    save = decodeURIComponent(escape(atob(save)));\n                } else if (save[0] === \"\") {\n                    // Assumed to be lz, which starts with \n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    save = LZString.decompressFromUTF16(save)!;\n                } else {\n                    console.warn(\"Unable to determine preset encoding\", save);\n                    importingFailed.value = true;\n                    cachedSaves[id] = { error: \"Unable to determine preset encoding\", id };\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    return cachedSaves[id]!;\n                }\n                cachedSaves[id] = { ...JSON.parse(save), id };\n            } catch (error) {\n                cachedSaves[id] = { error, id };\n                console.warn(\n                    `SavesManager: Failed to load info about save with id ${id}:\\n${error}\\n${save}`\n                );\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return cachedSaves[id]!;\n}\n// Wipe cache whenever the modal is opened\nwatch(isOpen, isOpen => {\n    if (isOpen) {\n        Object.keys(cachedSaves).forEach(key => delete cachedSaves[key]);\n    }\n});\n\nconst saves = computed(() =>\n    settings.saves.reduce((acc: Record<string, LoadablePlayerData>, curr: string) => {\n        acc[curr] = getCachedSave(curr);\n        return acc;\n    }, {})\n);\n\nfunction exportSave(id: string) {\n    let saveToExport;\n    if (player.id === id) {\n        saveToExport = save();\n    } else {\n        saveToExport = JSON.stringify(saves.value[id]);\n        switch (projInfo.saveEncoding) {\n            default:\n                console.warn(`Unknown save encoding: ${projInfo.saveEncoding}. Defaulting to lz`);\n            case \"lz\":\n                saveToExport = LZString.compressToUTF16(saveToExport);\n                break;\n            case \"base64\":\n                saveToExport = btoa(unescape(encodeURIComponent(saveToExport)));\n                break;\n            case \"plain\":\n                break;\n        }\n    }\n\n    // Put on clipboard. Using the clipboard API asks for permissions and stuff\n    const el = document.createElement(\"textarea\");\n    el.value = saveToExport;\n    document.body.appendChild(el);\n    el.select();\n    el.setSelectionRange(0, 99999);\n    document.execCommand(\"copy\");\n    document.body.removeChild(el);\n}\n\nfunction duplicateSave(id: string) {\n    if (player.id === id) {\n        save();\n    }\n\n    const playerData = { ...saves.value[id], id: getUniqueID() };\n    save(playerData as PlayerData);\n\n    settings.saves.push(playerData.id);\n}\n\nfunction deleteSave(id: string) {\n    settings.saves = settings.saves.filter((save: string) => save !== id);\n    localStorage.removeItem(id);\n    cachedSaves[id] = undefined;\n}\n\nfunction openSave(id: string) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    saves.value[player.id]!.time = player.time;\n    save();\n    cachedSaves[player.id] = undefined;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    loadSave(saves.value[id]!);\n    // Delete cached version in case of opening it again\n    cachedSaves[id] = undefined;\n}\n\nfunction newFromPreset(preset: string) {\n    if (preset[0] === \"{\") {\n        // plaintext. No processing needed\n    } else if (preset[0] === \"e\") {\n        // Assumed to be base64, which starts with e\n        preset = decodeURIComponent(escape(atob(preset)));\n    } else if (preset[0] === \"\") {\n        // Assumed to be lz, which starts with \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        preset = LZString.decompressFromUTF16(preset)!;\n    } else {\n        console.warn(\"Unable to determine preset encoding\", preset);\n        return;\n    }\n    const playerData = JSON.parse(preset);\n    playerData.id = getUniqueID();\n    save(playerData as PlayerData);\n\n    settings.saves.push(playerData.id);\n\n    openSave(playerData.id);\n}\n\nfunction editSave(id: string, newName: string) {\n    const currSave = saves.value[id];\n    if (currSave) {\n        currSave.name = newName;\n        if (player.id === id) {\n            player.name = newName;\n            save();\n        } else {\n            save(currSave as PlayerData);\n            cachedSaves[id] = undefined;\n        }\n    }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, {\n    modelValue: isOpen.value,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((isOpen).value = $event)),\n    ref_key: \"modal\",\n    ref: modal\n  }, {\n    header: _withCtx(() => [\n      _hoisted_1\n    ]),\n    body: _withCtx(({ shown }) => [\n      shown\n        ? (_openBlock(), _createBlock(_unref(Draggable), {\n            key: 0,\n            list: _unref(settings).saves,\n            handle: \".handle\",\n            itemKey: (save) => save\n          }, {\n            item: _withCtx(({ element }) => [\n              _createVNode(Save, {\n                save: _unref(saves)[element],\n                onOpen: ($event: any) => (openSave(element)),\n                onExport: ($event: any) => (exportSave(element)),\n                onEditName: name => editSave(element, name),\n                onDuplicate: ($event: any) => (duplicateSave(element)),\n                onDelete: ($event: any) => (deleteSave(element))\n              }, null, 8, [\"save\", \"onOpen\", \"onExport\", \"onEditName\", \"onDuplicate\", \"onDelete\"])\n            ]),\n            _: 1\n          }, 8, [\"list\", \"itemKey\"]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(Text, {\n          modelValue: saveToImport.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((saveToImport).value = $event)),\n          title: \"Import Save\",\n          placeholder: \"Paste your save here!\",\n          class: _normalizeClass({ importingFailed: importingFailed.value })\n        }, null, 8, [\"modelValue\", \"class\"]),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createElementVNode(\"button\", {\n              class: \"button\",\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (openSave(_unref(newSave)().id)))\n            }, \"New Game\"),\n            (Object.keys(_unref(bank)).length > 0)\n              ? (_openBlock(), _createBlock(Select, {\n                  key: 0,\n                  options: _unref(bank),\n                  modelValue: undefined,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = preset => newFromPreset(preset as string)),\n                  closeOnSelect: \"\",\n                  placeholder: \"Select preset\",\n                  class: \"presets\"\n                }, null, 8, [\"options\"]))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _hoisted_7,\n          _createElementVNode(\"button\", {\n            class: \"button modal-default-button\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (isOpen.value = false))\n          }, \" Close \")\n        ])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"modelValue\"]))\n}\n}\n\n})","import script from \"./SavesManager.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SavesManager.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SavesManager.vue?vue&type=style&index=0&id=7bbba367&scoped=true&lang=css\"\nimport \"./SavesManager.vue?vue&type=style&index=1&id=7bbba367&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bbba367\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-53a1a91d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\", \"alt\"]\nconst _hoisted_2 = {\n  key: 1,\n  class: \"title\"\n}\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\",\"cursor\":\"unset\"} }, null, -1))\nconst _hoisted_4 = { class: \"discord\" }\nconst _hoisted_5 = { class: \"discord-links\" }\nconst _hoisted_6 = { key: 0 }\nconst _hoisted_7 = [\"href\"]\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/WzejVAx\",\n    target: \"_blank\"\n  }, \"The Paper Pilot Community\")\n], -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/F3xveHV\",\n    target: \"_blank\"\n  }, \"The Modding Tree\")\n], -1))\nconst _hoisted_10 = {\n  href: \"https://forums.moddingtree.com/\",\n  target: \"_blank\"\n}\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"forum\", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"info\", -1))\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"library_books\", -1))\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"settings\", -1))\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"library_books\", -1))\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"settings\", -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"info\", -1))\nconst _hoisted_18 = {\n  href: \"https://forums.moddingtree.com/\",\n  target: \"_blank\"\n}\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons\" }, \"forum\", -1))\nconst _hoisted_20 = { class: \"discord\" }\nconst _hoisted_21 = { class: \"discord-links\" }\nconst _hoisted_22 = { key: 0 }\nconst _hoisted_23 = [\"href\"]\nconst _hoisted_24 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/WzejVAx\",\n    target: \"_blank\"\n  }, \"The Paper Pilot Community\")\n], -1))\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://discord.gg/F3xveHV\",\n    target: \"_blank\"\n  }, \"The Modding Tree\")\n], -1))\n\nimport Changelog from \"data/Changelog.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport { ComponentPublicInstance, ref } from \"vue\";\nimport Info from \"./Info.vue\";\nimport Options from \"./Options.vue\";\nimport SavesManager from \"./SavesManager.vue\";\nimport Tooltip from \"features/tooltips/Tooltip.vue\";\nimport { Direction } from \"util/common\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst info = ref<ComponentPublicInstance<typeof Info> | null>(null);\nconst savesManager = ref<ComponentPublicInstance<typeof SavesManager> | null>(null);\nconst options = ref<ComponentPublicInstance<typeof Options> | null>(null);\n// For some reason Info won't accept the changelog unless I do this:\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst changelog = ref<ComponentPublicInstance<any> | null>(null);\n\nconst { useHeader, banner, title, discordName, discordLink, versionNumber } = projInfo;\n\nfunction openDiscord() {\n    window.open(discordLink, \"mywindow\");\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_unref(useHeader))\n      ? (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n          key: 0,\n          class: \"nav\"\n        }, _ctx.$attrs), [\n          (_unref(banner))\n            ? (_openBlock(), _createElementBlock(\"img\", {\n                key: 0,\n                src: _unref(banner),\n                class: \"banner\",\n                alt: _unref(title)\n              }, null, 8, _hoisted_1))\n            : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(_unref(title)), 1)),\n          _createElementVNode(\"div\", {\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (changelog.value?.open())),\n            class: \"version-container\"\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Changelog\",\n              direction: _unref(Direction).Down,\n              class: \"version\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"span\", null, \"v\" + _toDisplayString(_unref(versionNumber)), 1)\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _hoisted_3,\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createElementVNode(\"span\", {\n              onClick: openDiscord,\n              class: \"material-icons\"\n            }, \"discord\"),\n            _createElementVNode(\"ul\", _hoisted_5, [\n              (_unref(discordLink) !== 'https://discord.gg/WzejVAx')\n                ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [\n                    _createElementVNode(\"a\", {\n                      href: _unref(discordLink),\n                      target: \"_blank\"\n                    }, _toDisplayString(_unref(discordName)), 9, _hoisted_7)\n                  ]))\n                : _createCommentVNode(\"\", true),\n              _hoisted_8,\n              _hoisted_9\n            ])\n          ]),\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"a\", _hoisted_10, [\n              _createVNode(Tooltip, {\n                display: \"Forums\",\n                direction: _unref(Direction).Down,\n                yoffset: \"5px\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_11\n                ]),\n                _: 1\n              }, 8, [\"direction\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (info.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Info\",\n              direction: _unref(Direction).Down,\n              class: \"info\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_12\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (savesManager.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Saves\",\n              direction: _unref(Direction).Down,\n              xoffset: \"-20px\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_13\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (options.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Options\",\n              direction: _unref(Direction).Down,\n              xoffset: \"-66px\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_14\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ])\n        ], 16))\n      : (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n          key: 1,\n          class: \"overlay-nav\"\n        }, _ctx.$attrs), [\n          _createElementVNode(\"div\", {\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (changelog.value?.open())),\n            class: \"version-container\"\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Changelog\",\n              direction: _unref(Direction).Right,\n              xoffset: \"25%\",\n              class: \"version\"\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"span\", null, \"v\" + _toDisplayString(_unref(versionNumber)), 1)\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[5] || (_cache[5] = ($event: any) => (savesManager.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Saves\",\n              direction: _unref(Direction).Right\n            }, {\n              default: _withCtx(() => [\n                _hoisted_15\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[6] || (_cache[6] = ($event: any) => (options.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Options\",\n              direction: _unref(Direction).Right\n            }, {\n              default: _withCtx(() => [\n                _hoisted_16\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", {\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (info.value?.open()))\n          }, [\n            _createVNode(Tooltip, {\n              display: \"Info\",\n              direction: _unref(Direction).Right\n            }, {\n              default: _withCtx(() => [\n                _hoisted_17\n              ]),\n              _: 1\n            }, 8, [\"direction\"])\n          ]),\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"a\", _hoisted_18, [\n              _createVNode(Tooltip, {\n                display: \"Forums\",\n                direction: _unref(Direction).Right,\n                xoffset: \"7px\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_19\n                ]),\n                _: 1\n              }, 8, [\"direction\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_20, [\n            _createElementVNode(\"span\", {\n              onClick: openDiscord,\n              class: \"material-icons\"\n            }, \"discord\"),\n            _createElementVNode(\"ul\", _hoisted_21, [\n              (_unref(discordLink) !== 'https://discord.gg/WzejVAx')\n                ? (_openBlock(), _createElementBlock(\"li\", _hoisted_22, [\n                    _createElementVNode(\"a\", {\n                      href: _unref(discordLink),\n                      target: \"_blank\"\n                    }, _toDisplayString(_unref(discordName)), 9, _hoisted_23)\n                  ]))\n                : _createCommentVNode(\"\", true),\n              _hoisted_24,\n              _hoisted_25\n            ])\n          ])\n        ], 16)),\n    _createVNode(Info, {\n      ref_key: \"info\",\n      ref: info,\n      changelog: changelog.value\n    }, null, 8, [\"changelog\"]),\n    _createVNode(SavesManager, {\n      ref_key: \"savesManager\",\n      ref: savesManager\n    }, null, 512),\n    _createVNode(Options, {\n      ref_key: \"options\",\n      ref: options\n    }, null, 512),\n    _createVNode(Changelog, {\n      ref_key: \"changelog\",\n      ref: changelog\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","import script from \"./Nav.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Nav.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Nav.vue?vue&type=style&index=0&id=53a1a91d&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-53a1a91d\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, mergeProps as _mergeProps, resolveDynamicComponent as _resolveDynamicComponent, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-eda60da0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"inner-tab\" }\n\nimport projInfo from \"data/projInfo.json\";\nimport { GenericLayer, layers } from \"game/layers\";\nimport player from \"game/player\";\nimport { computed, toRef } from \"vue\";\nimport Layer from \"./Layer.vue\";\nimport Nav from \"./Nav.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst tabs = toRef(player, \"tabs\");\nconst layerKeys = computed(() => Object.keys(layers));\nconst useHeader = projInfo.useHeader;\n\nfunction gatherLayerProps(layer: GenericLayer) {\n    const { display, minimized, minWidth, name, color, style, classes, minimizable, nodes } = layer;\n    return { display, minimized, minWidth, name, color, style, classes, minimizable, nodes };\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"tabs-container\", { useHeader: _unref(useHeader) }])\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(tabs), (tab, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"tab\",\n        ref_for: true,\n        ref: `tab-${index}`\n      }, [\n        (index === 0 && !_unref(useHeader))\n          ? (_openBlock(), _createBlock(Nav, { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_1, [\n          (_unref(layerKeys).includes(tab))\n            ? (_openBlock(), _createBlock(Layer, _mergeProps({ key: 0 }, gatherLayerProps(_unref(layers)[tab]!), {\n                index: index,\n                tab: () => ((_ctx.$refs[`tab-${index}`] as HTMLElement[] | undefined)?.[0])\n              }), null, 16, [\"index\", \"tab\"]))\n            : (_openBlock(), _createBlock(_resolveDynamicComponent(tab), {\n                key: 1,\n                index: index\n              }, null, 8, [\"index\"]))\n        ])\n      ]))\n    }), 128))\n  ], 2))\n}\n}\n\n})","import script from \"./Game.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Game.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Game.vue?vue&type=style&index=0&id=eda60da0&scoped=true&lang=css\"\nimport \"./Game.vue?vue&type=style&index=1&id=eda60da0&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-eda60da0\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, isRef as _isRef, createVNode as _createVNode, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-06188cc8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"game-over-modal-header\" }\nconst _hoisted_2 = [\"src\", \"alt\"]\nconst _hoisted_3 = { class: \"game-over-modal-title\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Congratulations!\", -1))\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \" Please check the Discord to discuss the game or to check for new content updates! \", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_9 = [\"href\"]\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons game-over-modal-discord\" }, \"discord\", -1))\n\nimport Modal from \"components/Modal.vue\";\nimport { hasWon } from \"data/projEntry\";\nimport projInfo from \"data/projInfo.json\";\nimport player from \"game/player\";\nimport { formatTime } from \"util/bignum\";\nimport { loadSave, newSave } from \"util/save\";\nimport { computed, toRef } from \"vue\";\nimport Toggle from \"./fields/Toggle.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst { title, logo, discordName, discordLink, versionNumber, versionTitle } = projInfo;\n\nconst timePlayed = computed(() => formatTime(player.timePlayed));\nconst isOpen = computed(() => hasWon.value && !player.keepGoing);\nconst autosave = toRef(player, \"autosave\");\n\nfunction keepGoing() {\n    player.keepGoing = true;\n}\n\nfunction playAgain() {\n    loadSave(newSave());\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(Modal, { \"model-value\": _unref(isOpen) }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_unref(logo))\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"game-over-modal-logo\",\n              src: _unref(logo),\n              alt: _unref(title)\n            }, null, 8, _hoisted_2))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _hoisted_4,\n          _createElementVNode(\"h4\", null, \"You've beaten \" + _toDisplayString(_unref(title)) + \" v\" + _toDisplayString(_unref(versionNumber)) + \": \" + _toDisplayString(_unref(versionTitle)), 1)\n        ])\n      ])\n    ]),\n    body: _withCtx(({ shown }) => [\n      shown\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"div\", null, \"It took you \" + _toDisplayString(_unref(timePlayed)) + \" to beat the game.\", 1),\n            _hoisted_6,\n            _hoisted_7,\n            _hoisted_8,\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\"a\", {\n                href: _unref(discordLink),\n                class: \"game-over-modal-discord-link\"\n              }, [\n                _hoisted_10,\n                _createTextVNode(\" \" + _toDisplayString(_unref(discordName)), 1)\n              ], 8, _hoisted_9)\n            ]),\n            _createVNode(Toggle, {\n              title: \"Autosave\",\n              modelValue: _unref(autosave),\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(autosave) ? (autosave).value = $event : null))\n            }, null, 8, [\"modelValue\"])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", { class: \"game-over-footer\" }, [\n        _createElementVNode(\"button\", {\n          onClick: keepGoing,\n          class: \"button\"\n        }, \"Keep Going\"),\n        _createElementVNode(\"button\", {\n          onClick: playAgain,\n          class: \"button danger\"\n        }, \"Play Again\")\n      ])\n    ]),\n    _: 1\n  }, 8, [\"model-value\"]))\n}\n}\n\n})","import script from \"./GameOverScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GameOverScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GameOverScreen.vue?vue&type=style&index=0&id=06188cc8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-06188cc8\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, isRef as _isRef, createVNode as _createVNode, createBlock as _createBlock, mergeProps as _mergeProps, withCtx as _withCtx, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5935214c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"nan-modal-header\" }, [\n  /*#__PURE__*/_createElementVNode(\"h2\", null, \"NaN value detected!\")\n], -1))\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_4 = [\"href\"]\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons nan-modal-discord\" }, \"discord\", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_7 = { class: \"nan-footer\" }\n\nimport Modal from \"components/Modal.vue\";\nimport projInfo from \"data/projInfo.json\";\nimport player from \"game/player\";\nimport state from \"game/state\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { ComponentPublicInstance, computed, ref, toRef } from \"vue\";\nimport Toggle from \"./fields/Toggle.vue\";\nimport SavesManager from \"./SavesManager.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst { discordName, discordLink } = projInfo;\nconst autosave = toRef(player, \"autosave\");\nconst hasNaN = toRef(state, \"hasNaN\");\nconst savesManager = ref<ComponentPublicInstance<typeof SavesManager> | null>(null);\n\nconst path = computed(() => state.NaNPath?.join(\".\"));\nconst property = computed(() => state.NaNPath?.slice(-1)[0]);\nconst previous = computed<DecimalSource | null>(() => {\n    if (state.NaNReceiver && property.value) {\n        return state.NaNReceiver[property.value] as DecimalSource;\n    }\n    return null;\n});\nconst isPaused = computed({\n    get() {\n        return player.devSpeed === 0;\n    },\n    set(value: boolean) {\n        player.devSpeed = value ? null : 0;\n    }\n});\n\nfunction setZero() {\n    if (state.NaNReceiver && property.value) {\n        state.NaNReceiver[property.value] = new Decimal(0);\n        state.hasNaN = false;\n    }\n}\n\nfunction setOne() {\n    if (state.NaNReceiver && property.value) {\n        state.NaNReceiver[property.value] = new Decimal(1);\n        state.hasNaN = false;\n    }\n}\n\nfunction ignore() {\n    if (state.NaNReceiver && property.value) {\n        state.NaNReceiver[property.value] = new Decimal(NaN);\n        state.hasNaN = false;\n    }\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(Modal, _mergeProps({\n      modelValue: _unref(hasNaN),\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_isRef(hasNaN) ? (hasNaN).value = $event : null))\n    }, _ctx.$attrs), {\n      header: _withCtx(() => [\n        _hoisted_1\n      ]),\n      body: _withCtx(() => [\n        _createElementVNode(\"div\", null, [\n          _createTextVNode(\" Attempted to assign \\\"\" + _toDisplayString(_unref(path)) + \"\\\" to NaN\", 1),\n          (_unref(previous))\n            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(\" \") + \"(previously \" + _toDisplayString(_unref(format)(_unref(previous))) + \")\", 1))\n            : _createCommentVNode(\"\", true),\n          _createTextVNode(\". Auto-saving has been \" + _toDisplayString(_unref(autosave) ? \"enabled\" : \"disabled\") + \". Check the console for more details, and consider sharing it with the developers on discord. \", 1)\n        ]),\n        _hoisted_3,\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"a\", {\n            href: _unref(discordLink),\n            class: \"nan-modal-discord-link\"\n          }, [\n            _hoisted_5,\n            _createTextVNode(\" \" + _toDisplayString(_unref(discordName)), 1)\n          ], 8, _hoisted_4)\n        ]),\n        _hoisted_6,\n        _createVNode(Toggle, {\n          title: \"Autosave\",\n          modelValue: _unref(autosave),\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(autosave) ? (autosave).value = $event : null))\n        }, null, 8, [\"modelValue\"]),\n        (_unref(projInfo).enablePausing)\n          ? (_openBlock(), _createBlock(Toggle, {\n              key: 0,\n              title: \"Pause game\",\n              modelValue: _unref(isPaused),\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_isRef(isPaused) ? (isPaused).value = $event : null))\n            }, null, 8, [\"modelValue\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"button\", {\n            onClick: _cache[2] || (_cache[2] = ($event: any) => (savesManager.value?.open())),\n            class: \"button\"\n          }, \"Open Saves Manager\"),\n          _createElementVNode(\"button\", {\n            onClick: setZero,\n            class: \"button\"\n          }, \"Set to 0\"),\n          _createElementVNode(\"button\", {\n            onClick: setOne,\n            class: \"button\"\n          }, \"Set to 1\"),\n          (_unref(previous) && _unref(Decimal).neq(_unref(previous), 0) && _unref(Decimal).neq(_unref(previous), 1))\n            ? (_openBlock(), _createElementBlock(\"button\", {\n                key: 0,\n                onClick: _cache[3] || (_cache[3] = ($event: any) => (hasNaN.value = false)),\n                class: \"button\"\n              }, \" Set to previous \"))\n            : _createCommentVNode(\"\", true),\n          _createElementVNode(\"button\", {\n            onClick: ignore,\n            class: \"button danger\"\n          }, \"Ignore\")\n        ])\n      ]),\n      _: 1\n    }, 16, [\"modelValue\"]),\n    _createVNode(SavesManager, {\n      ref_key: \"savesManager\",\n      ref: savesManager\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","import script from \"./NaNScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./NaNScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./NaNScreen.vue?vue&type=style&index=0&id=5935214c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5935214c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c0663118\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"tpsDisplay\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  class: \"low\"\n}\n\nimport state from \"game/state\";\nimport Decimal, { DecimalSource, formatWhole } from \"util/bignum\";\nimport { computed, ref, watchEffect } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst tps = computed(() =>\n    Decimal.div(\n        state.lastTenTicks.length,\n        state.lastTenTicks.reduce((acc, curr) => acc + curr, 0)\n    )\n);\n\nconst lastTenFPS = ref<number[]>([]);\nwatchEffect(() => {\n    lastTenFPS.value.push(Math.round(tps.value.toNumber()));\n    if (lastTenFPS.value.length > 10) {\n        lastTenFPS.value = lastTenFPS.value.slice(1);\n    }\n});\n\nconst low = computed(() =>\n    lastTenFPS.value.reduce<DecimalSource>((acc, curr) => Decimal.max(acc, curr), 0)\n);\n\nconst showLow = computed(() => Decimal.sub(tps.value, low.value).gt(1));\n\nreturn (_ctx: any,_cache: any) => {\n  return (!_unref(tps).isNan())\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createTextVNode(\" TPS: \" + _toDisplayString(_unref(formatWhole)(_unref(tps))) + \" \", 1),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            (_unref(showLow))\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString(_unref(formatWhole)(_unref(low))), 1))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        })\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./TPS.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TPS.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TPS.vue?vue&type=style&index=0&id=c0663118&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c0663118\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, normalizeClass as _normalizeClass, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { jsx } from \"features/feature\";\nimport { coerceComponent, render } from \"util/vue\";\nimport { computed, toRef, unref } from \"vue\";\nimport Game from \"./components/Game.vue\";\nimport GameOverScreen from \"./components/GameOverScreen.vue\";\nimport NaNScreen from \"./components/NaNScreen.vue\";\nimport Nav from \"./components/Nav.vue\";\nimport TPS from \"./components/TPS.vue\";\nimport projInfo from \"./data/projInfo.json\";\nimport themes from \"./data/themes\";\nimport settings, { gameComponents } from \"./game/settings\";\nimport \"./main.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst useHeader = projInfo.useHeader;\nconst theme = computed(() => themes[settings.theme].variables);\nconst showTPS = toRef(settings, \"showTPS\");\n\nconst gameComponent = computed(() => {\n    return coerceComponent(jsx(() => <>{gameComponents.map(render)}</>));\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", {\n      id: \"modal-root\",\n      style: _normalizeStyle(_unref(theme))\n    }, null, 4),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"app\", { useHeader: _unref(useHeader) }]),\n      style: _normalizeStyle(_unref(theme))\n    }, [\n      (_unref(useHeader))\n        ? (_openBlock(), _createBlock(Nav, { key: 0 }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(Game),\n      (unref(_unref(showTPS)))\n        ? (_openBlock(), _createBlock(TPS, { key: 1 }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(GameOverScreen),\n      _createVNode(NaNScreen),\n      (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(gameComponent))))\n    ], 6)\n  ], 64))\n}\n}\n\n})","import script from \"./App.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./App.vue?vue&type=style&index=0&id=f13f28b6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f13f28b6\"]])\n\nexport default __exports__","import { App as VueApp, createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport projInfo from \"./data/projInfo.json\";\nimport { GenericLayer } from \"./game/layers\";\nimport { PlayerData } from \"./game/player\";\nimport { Settings } from \"./game/settings\";\nimport { Transient } from \"./game/state\";\nimport Decimal, { DecimalSource } from \"./util/bignum\";\nimport { load } from \"./util/save\";\n\ndocument.title = projInfo.title;\nif (projInfo.id === \"\") {\n    throw \"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json\";\n}\n\ndeclare global {\n    interface Window {\n        vue: VueApp;\n        save: VoidFunction;\n        hardReset: VoidFunction;\n        hardResetSettings: VoidFunction;\n        layers: Record<string, Readonly<GenericLayer> | undefined>;\n        player: PlayerData;\n        state: Transient;\n        settings: Settings;\n        Decimal: typeof Decimal;\n        exponentialFormat: (num: DecimalSource, precision: number, mantissa: boolean) => string;\n        commaFormat: (num: DecimalSource, precision: number) => string;\n        regularFormat: (num: DecimalSource, precision: number) => string;\n        format: (num: DecimalSource, precision?: number, small?: boolean) => string;\n        formatWhole: (num: DecimalSource) => string;\n        formatTime: (s: number) => string;\n        toPlaces: (x: DecimalSource, precision: number, maxAccepted: DecimalSource) => string;\n        formatSmall: (x: DecimalSource, precision?: number) => string;\n        invertOOM: (x: DecimalSource) => Decimal;\n        projInfo: typeof projInfo;\n    }\n}\n\nrequestAnimationFrame(async () => {\n    console.log(\n        \"%cMade in Profectus%c\\nLearn more at www.moddingtree.com\",\n        \"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;\",\n        \"padding: 4px;\"\n    );\n    await load();\n    const { globalBus, startGameLoop } = await require(\"./game/events\");\n\n    // Create Vue\n    const vue = (window.vue = createApp(App));\n    globalBus.emit(\"setupVue\", vue);\n    vue.mount(\"#app\");\n\n    startGameLoop();\n});\n\nwindow.projInfo = projInfo;\n","/* eslint-disable @typescript-eslint/no-this-alias */\nexport type CompareResult = -1 | 0 | 1;\n\nconst MAX_SIGNIFICANT_DIGITS = 17; //Maximum number of digits of precision to assume in Number\n\nconst EXP_LIMIT = 9e15; //If we're ABOVE this value, increase a layer. (9e15 is close to the largest integer that can fit in a Number.)\n\nconst LAYER_DOWN: number = Math.log10(9e15);\n\nconst FIRST_NEG_LAYER = 1 / 9e15; //At layer 0, smaller non-zero numbers than this become layer 1 numbers with negative mag. After that the pattern continues as normal.\n\nconst NUMBER_EXP_MAX = 308; //The largest exponent that can appear in a Number, though not all mantissas are valid here.\n\nconst NUMBER_EXP_MIN = -324; //The smallest exponent that can appear in a Number, though not all mantissas are valid here.\n\nconst MAX_ES_IN_A_ROW = 5; //For default toString behaviour, when to swap from eee... to (e^n) syntax.\n\nconst IGNORE_COMMAS = true;\nconst COMMAS_ARE_DECIMAL_POINTS = false;\n\nconst powerOf10 = (function() {\n    // We need this lookup table because Math.pow(10, exponent)\n    // when exponent's absolute value is large is slightly inaccurate.\n    // You can fix it with the power of math... or just make a lookup table.\n    // Faster AND simpler\n    const powersOf10: number[] = [];\n\n    for (let i = NUMBER_EXP_MIN + 1; i <= NUMBER_EXP_MAX; i++) {\n        powersOf10.push(Number(\"1e\" + i));\n    }\n\n    const indexOf0InPowersOf10 = 323;\n    return function(power: number) {\n        return powersOf10[power + indexOf0InPowersOf10];\n    };\n})();\n\n//tetration/slog to real height stuff\n//background info and tables of values for critical functions taken here: https://github.com/Patashu/break_eternity.js/issues/22\nconst critical_headers = [2, Math.E, 3, 4, 5, 6, 7, 8, 9, 10];\nconst critical_tetr_values = [\n    [\n        // Base 2\n        1,\n        1.0891168053867777,\n        1.1789745164521264,\n        1.2701428397304229,\n        1.3632066654400328,\n        1.4587804913784246,\n        1.557523817412741,\n        1.660158301473385,\n        1.767487542936873,\n        1.8804205225512542,\n        2\n    ],\n    [\n        // Base E\n        1, //0.0\n        1.1121114330934, //0.1\n        1.23103892493161, //0.2\n        1.35838369631113, //0.3\n        1.49605193039935, //0.4\n        1.64635423375119, //0.5\n        1.81213853570186, //0.6\n        1.99697132461829, //0.7\n        2.20538955455724, //0.8\n        2.44325744833852, //0.9\n        Math.E //1.0\n    ],\n    [\n        // Base 3\n        1,\n        1.1187738849693603,\n        1.2464963939368214,\n        1.38527004705667,\n        1.5376664685821402,\n        1.7068895236551784,\n        1.897001227148399,\n        2.1132403089001035,\n        2.362480153784171,\n        2.6539010333870774,\n        3\n    ],\n    [\n        // Base 4\n        1,\n        1.1367350847096405,\n        1.2889510672956703,\n        1.4606478703324786,\n        1.6570295196661111,\n        1.8850062585672889,\n        2.1539465047453485,\n        2.476829779693097,\n        2.872061932789197,\n        3.3664204535587183,\n        4\n    ],\n    [\n        // Base 5\n        1,\n        1.1494592900767588,\n        1.319708228183931,\n        1.5166291280087583,\n        1.748171114438024,\n        2.0253263297298045,\n        2.3636668498288547,\n        2.7858359149579424,\n        3.3257226212448145,\n        4.035730287722532,\n        5\n    ],\n    [\n        // Base 6\n        1,\n        1.159225940787673,\n        1.343712473580932,\n        1.5611293155111927,\n        1.8221199554561318,\n        2.14183924486326,\n        2.542468319282638,\n        3.0574682501653316,\n        3.7390572020926873,\n        4.6719550537360774,\n        6\n    ],\n    [\n        // Base 7\n        1,\n        1.1670905356972596,\n        1.3632807444991446,\n        1.5979222279405536,\n        1.8842640123816674,\n        2.2416069644878687,\n        2.69893426559423,\n        3.3012632110403577,\n        4.121250340630164,\n        5.281493033448316,\n        7\n    ],\n    [\n        // Base 8\n        1,\n        1.1736630594087796,\n        1.379783782386201,\n        1.6292821855668218,\n        1.9378971836180754,\n        2.3289975651071977,\n        2.8384347394720835,\n        3.5232708454565906,\n        4.478242031114584,\n        5.868592169644505,\n        8\n    ],\n    [\n        // Base 9\n        1,\n        1.1793017514670474,\n        1.394054150657457,\n        1.65664127441059,\n        1.985170999970283,\n        2.4069682290577457,\n        2.9647310119960752,\n        3.7278665320924946,\n        4.814462547283592,\n        6.436522247411611,\n        9\n    ],\n    [\n        // Base 10\n        1,\n        1.18422737399915,\n        1.4066113788546144,\n        1.680911177655277,\n        2.027492094355525,\n        2.4775152854601967,\n        3.080455730250329,\n        3.918234505962507,\n        5.1332705696484595,\n        6.9878696918072905,\n        10\n    ]\n];\nconst critical_slog_values = [\n    [\n        // Base 2\n        -1,\n        -0.9194161097107025,\n        -0.8335625019330468,\n        -0.7425599821143978,\n        -0.6466611521029437,\n        -0.5462617907227869,\n        -0.4419033816638769,\n        -0.3342645487554494,\n        -0.224140440909962,\n        -0.11241087890006762,\n        0\n    ],\n    [\n        // Base E\n        -1, //0.0\n        -0.90603157029014, //0.1\n        -0.80786507256596, //0.2\n        -0.7064666939634, //0.3\n        -0.60294836853664, //0.4\n        -0.49849837513117, //0.5\n        -0.39430303318768, //0.6\n        -0.29147201034755, //0.7\n        -0.19097820800866, //0.8\n        -0.09361896280296, //0.9\n        0 //1.0\n    ],\n    [\n        // Base 3\n        -1,\n        -0.9021579584316141,\n        -0.8005762598234203,\n        -0.6964780623319391,\n        -0.5911906810998454,\n        -0.486050182576545,\n        -0.3823089430815083,\n        -0.28106046722897615,\n        -0.1831906535795894,\n        -0.08935809204418144,\n        0\n    ],\n    [\n        // Base 4\n        -1,\n        -0.8917227442365535,\n        -0.781258746326964,\n        -0.6705130326902455,\n        -0.5612813129406509,\n        -0.4551067709033134,\n        -0.35319256652135966,\n        -0.2563741554088552,\n        -0.1651412821106526,\n        -0.0796919581982668,\n        0\n    ],\n    [\n        // Base 5\n        -1,\n        -0.8843387974366064,\n        -0.7678744063886243,\n        -0.6529563724510552,\n        -0.5415870994657841,\n        -0.4352842206588936,\n        -0.33504449124791424,\n        -0.24138853420685147,\n        -0.15445285440944467,\n        -0.07409659641336663,\n        0\n    ],\n    [\n        // Base 6\n        -1,\n        -0.8786709358426346,\n        -0.7577735191184886,\n        -0.6399546189952064,\n        -0.527284921869926,\n        -0.4211627631006314,\n        -0.3223479611761232,\n        -0.23107655627789858,\n        -0.1472057700818259,\n        -0.07035171210706326,\n        0\n    ],\n    [\n        // Base 7\n        -1,\n        -0.8740862815291583,\n        -0.7497032990976209,\n        -0.6297119746181752,\n        -0.5161838335958787,\n        -0.41036238255751956,\n        -0.31277212146489963,\n        -0.2233976621705518,\n        -0.1418697367979619,\n        -0.06762117662323441,\n        0\n    ],\n    [\n        // Base 8\n        -1,\n        -0.8702632331800649,\n        -0.7430366914122081,\n        -0.6213373075161548,\n        -0.5072025698095242,\n        -0.40171437727184167,\n        -0.30517930701410456,\n        -0.21736343968190863,\n        -0.137710238299109,\n        -0.06550774483471955,\n        0\n    ],\n    [\n        // Base 9\n        -1,\n        -0.8670016295947213,\n        -0.7373984232432306,\n        -0.6143173985094293,\n        -0.49973884395492807,\n        -0.394584953527678,\n        -0.2989649949848695,\n        -0.21245647317021688,\n        -0.13434688362382652,\n        -0.0638072667348083,\n        0\n    ],\n    [\n        // Base 10\n        -1,\n        -0.8641642839543857,\n        -0.732534623168535,\n        -0.6083127477059322,\n        -0.4934049257184696,\n        -0.3885773075899922,\n        -0.29376029055315767,\n        -0.2083678561173622,\n        -0.13155653399373268,\n        -0.062401588652553186,\n        0\n    ]\n];\n\nconst D = function D(value: DecimalSource): Decimal {\n    return Decimal.fromValue_noAlloc(value);\n};\n\nconst FC = function(sign: number, layer: number, mag: number) {\n    return Decimal.fromComponents(sign, layer, mag);\n};\n\nconst FC_NN = function FC_NN(sign: number, layer: number, mag: number) {\n    return Decimal.fromComponents_noNormalize(sign, layer, mag);\n};\n\nconst ME = function ME(mantissa: number, exponent: number) {\n    return Decimal.fromMantissaExponent(mantissa, exponent);\n};\n\nconst ME_NN = function ME_NN(mantissa: number, exponent: number) {\n    return Decimal.fromMantissaExponent_noNormalize(mantissa, exponent);\n};\n\nconst decimalPlaces = function decimalPlaces(value: number, places: number): number {\n    const len = places + 1;\n    const numDigits = Math.ceil(Math.log10(Math.abs(value)));\n    const rounded =\n        Math.round(value * Math.pow(10, len - numDigits)) * Math.pow(10, numDigits - len);\n    return parseFloat(rounded.toFixed(Math.max(len - numDigits, 0)));\n};\n\nconst f_maglog10 = function(n: number) {\n    return Math.sign(n) * Math.log10(Math.abs(n));\n};\n\n//from HyperCalc source code\nconst f_gamma = function(n: number) {\n    if (!isFinite(n)) {\n        return n;\n    }\n    if (n < -50) {\n        if (n === Math.trunc(n)) {\n            return Number.NEGATIVE_INFINITY;\n        }\n        return 0;\n    }\n\n    let scal1 = 1;\n    while (n < 10) {\n        scal1 = scal1 * n;\n        ++n;\n    }\n\n    n -= 1;\n    let l = 0.9189385332046727; //0.5*Math.log(2*Math.PI)\n    l = l + (n + 0.5) * Math.log(n);\n    l = l - n;\n    const n2 = n * n;\n    let np = n;\n    l = l + 1 / (12 * np);\n    np = np * n2;\n    l = l + 1 / (360 * np);\n    np = np * n2;\n    l = l + 1 / (1260 * np);\n    np = np * n2;\n    l = l + 1 / (1680 * np);\n    np = np * n2;\n    l = l + 1 / (1188 * np);\n    np = np * n2;\n    l = l + 691 / (360360 * np);\n    np = np * n2;\n    l = l + 7 / (1092 * np);\n    np = np * n2;\n    l = l + 3617 / (122400 * np);\n\n    return Math.exp(l) / scal1;\n};\n\nconst _twopi = 6.2831853071795864769252842; // 2*pi\nconst _EXPN1 = 0.36787944117144232159553; // exp(-1)\nconst OMEGA = 0.56714329040978387299997; // W(1, 0)\n//from https://math.stackexchange.com/a/465183\n// The evaluation can become inaccurate very close to the branch point\nconst f_lambertw = function(z: number, tol = 1e-10): number {\n    let w;\n    let wn;\n\n    if (!Number.isFinite(z)) {\n        return z;\n    }\n    if (z === 0) {\n        return z;\n    }\n    if (z === 1) {\n        return OMEGA;\n    }\n\n    if (z < 10) {\n        w = 0;\n    } else {\n        w = Math.log(z) - Math.log(Math.log(z));\n    }\n\n    for (let i = 0; i < 100; ++i) {\n        wn = (z * Math.exp(-w) + w * w) / (w + 1);\n        if (Math.abs(wn - w) < tol * Math.abs(wn)) {\n            return wn;\n        } else {\n            w = wn;\n        }\n    }\n\n    throw Error(`Iteration failed to converge: ${z.toString()}`);\n    //return Number.NaN;\n};\n\n//from https://github.com/scipy/scipy/blob/8dba340293fe20e62e173bdf2c10ae208286692f/scipy/special/lambertw.pxd\n// The evaluation can become inaccurate very close to the branch point\n// at ``-1/e``. In some corner cases, `lambertw` might currently\n// fail to converge, or can end up on the wrong branch.\nfunction d_lambertw(z: Decimal, tol = 1e-10): Decimal {\n    let w;\n    let ew, wew, wewz, wn;\n\n    if (!Number.isFinite(z.mag)) {\n        return z;\n    }\n    if (z === Decimal.dZero) {\n        return z;\n    }\n    if (z === Decimal.dOne) {\n        //Split out this case because the asymptotic series blows up\n        return D(OMEGA);\n    }\n\n    const absz = Decimal.abs(z);\n    //Get an initial guess for Halley's method\n    w = Decimal.ln(z);\n\n    //Halley's method; see 5.9 in [1]\n\n    for (let i = 0; i < 100; ++i) {\n        ew = Decimal.exp(-w);\n        wewz = w.sub(z.mul(ew));\n        wn = w.sub(\n            wewz.div(\n                w.add(1).sub(\n                    w\n                        .add(2)\n                        .mul(wewz)\n                        .div(Decimal.mul(2, w).add(2))\n                )\n            )\n        );\n        if (Decimal.abs(wn.sub(w)).lt(Decimal.abs(wn).mul(tol))) {\n            return wn;\n        } else {\n            w = wn;\n        }\n    }\n\n    throw Error(`Iteration failed to converge: ${z.toString()}`);\n    //return Decimal.dNaN;\n}\n\nexport type DecimalSource = Decimal | number | string;\n\n/**\n * The Decimal's value is simply mantissa * 10^exponent.\n */\nexport default class Decimal {\n    public static readonly dZero = FC_NN(0, 0, 0);\n    public static readonly dOne = FC_NN(1, 0, 1);\n    public static readonly dNegOne = FC_NN(-1, 0, 1);\n    public static readonly dTwo = FC_NN(1, 0, 2);\n    public static readonly dTen = FC_NN(1, 0, 10);\n    public static readonly dNaN = FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    public static readonly dInf = FC_NN(1, Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY);\n    public static readonly dNegInf = FC_NN(-1, Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY);\n    public static readonly dNumberMax = FC(1, 0, Number.MAX_VALUE);\n    public static readonly dNumberMin = FC(1, 0, Number.MIN_VALUE);\n\n    public sign: number = Number.NaN;\n    public mag: number = Number.NaN;\n    public layer: number = Number.NaN;\n\n    constructor(value?: DecimalSource) {\n        if (value instanceof Decimal || (value != null && typeof value === \"object\" && \"sign\" in value && \"mag\" in value && \"layer\" in value)) {\n            this.fromDecimal(value);\n        } else if (typeof value === \"number\") {\n            this.fromNumber(value);\n        } else if (typeof value === \"string\") {\n            this.fromString(value);\n        } else {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n        }\n    }\n\n    get m(): number {\n        if (this.sign === 0) {\n            return 0;\n        } else if (this.layer === 0) {\n            const exp = Math.floor(Math.log10(this.mag));\n            //handle special case 5e-324\n            let man;\n            if (this.mag === 5e-324) {\n                man = 5;\n            } else {\n                man = this.mag / powerOf10(exp);\n            }\n            return this.sign * man;\n        } else if (this.layer === 1) {\n            const residue = this.mag - Math.floor(this.mag);\n            return this.sign * Math.pow(10, residue);\n        } else {\n            //mantissa stops being relevant past 1e9e15 / ee15.954\n            return this.sign;\n        }\n    }\n\n    set m(value: number) {\n        if (this.layer <= 2) {\n            this.fromMantissaExponent(value, this.e);\n        } else {\n            //don't even pretend mantissa is meaningful\n            this.sign = Math.sign(value);\n            if (this.sign === 0) {\n                this.layer === 0;\n                this.exponent === 0;\n            }\n        }\n    }\n\n    get e(): number {\n        if (this.sign === 0) {\n            return 0;\n        } else if (this.layer === 0) {\n            return Math.floor(Math.log10(this.mag));\n        } else if (this.layer === 1) {\n            return Math.floor(this.mag);\n        } else if (this.layer === 2) {\n            return Math.floor(Math.sign(this.mag) * Math.pow(10, Math.abs(this.mag)));\n        } else {\n            return this.mag * Number.POSITIVE_INFINITY;\n        }\n    }\n    set e(value: number) {\n        this.fromMantissaExponent(this.m, value);\n    }\n\n    get s(): number {\n        return this.sign;\n    }\n    set s(value: number) {\n        if (value === 0) {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n        } else {\n            this.sign = value;\n        }\n    }\n\n    // Object.defineProperty(Decimal.prototype, \"mantissa\", {\n    get mantissa(): number {\n        return this.m;\n    }\n\n    set mantissa(value: number) {\n        this.m = value;\n    }\n\n    get exponent(): number {\n        return this.e;\n    }\n    set exponent(value: number) {\n        this.e = value;\n    }\n\n    public static fromComponents(sign: number, layer: number, mag: number): Decimal {\n        return new Decimal().fromComponents(sign, layer, mag);\n    }\n\n    public static fromComponents_noNormalize(sign: number, layer: number, mag: number): Decimal {\n        return new Decimal().fromComponents_noNormalize(sign, layer, mag);\n    }\n\n    public static fromMantissaExponent(mantissa: number, exponent: number): Decimal {\n        return new Decimal().fromMantissaExponent(mantissa, exponent);\n    }\n\n    public static fromMantissaExponent_noNormalize(mantissa: number, exponent: number): Decimal {\n        return new Decimal().fromMantissaExponent_noNormalize(mantissa, exponent);\n    }\n\n    public static fromDecimal(value: Decimal): Decimal {\n        return new Decimal().fromDecimal(value);\n    }\n\n    public static fromNumber(value: number): Decimal {\n        return new Decimal().fromNumber(value);\n    }\n\n    public static fromString(value: string): Decimal {\n        return new Decimal().fromString(value);\n    }\n\n    public static fromValue(value: DecimalSource): Decimal {\n        return new Decimal().fromValue(value);\n    }\n\n    public static fromValue_noAlloc(value: DecimalSource): Decimal {\n        return value instanceof Decimal ? value : new Decimal(value);\n    }\n\n    public static abs(value: DecimalSource): Decimal {\n        return D(value).abs();\n    }\n\n    public static neg(value: DecimalSource): Decimal {\n        return D(value).neg();\n    }\n\n    public static negate(value: DecimalSource): Decimal {\n        return D(value).neg();\n    }\n\n    public static negated(value: DecimalSource): Decimal {\n        return D(value).neg();\n    }\n\n    public static sign(value: DecimalSource): number {\n        return D(value).sign;\n    }\n\n    public static sgn(value: DecimalSource): number {\n        return D(value).sign;\n    }\n\n    public static round(value: DecimalSource): Decimal {\n        return D(value).round();\n    }\n\n    public static floor(value: DecimalSource): Decimal {\n        return D(value).floor();\n    }\n\n    public static ceil(value: DecimalSource): Decimal {\n        return D(value).ceil();\n    }\n\n    public static trunc(value: DecimalSource): Decimal {\n        return D(value).trunc();\n    }\n\n    public static add(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).add(other);\n    }\n\n    public static plus(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).add(other);\n    }\n\n    public static sub(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).sub(other);\n    }\n\n    public static subtract(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).sub(other);\n    }\n\n    public static minus(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).sub(other);\n    }\n\n    public static mul(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).mul(other);\n    }\n\n    public static multiply(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).mul(other);\n    }\n\n    public static times(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).mul(other);\n    }\n\n    public static div(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).div(other);\n    }\n\n    public static divide(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).div(other);\n    }\n\n    public static recip(value: DecimalSource): Decimal {\n        return D(value).recip();\n    }\n\n    public static reciprocal(value: DecimalSource): Decimal {\n        return D(value).recip();\n    }\n\n    public static reciprocate(value: DecimalSource): Decimal {\n        return D(value).reciprocate();\n    }\n\n    public static cmp(value: DecimalSource, other: DecimalSource): CompareResult {\n        return D(value).cmp(other);\n    }\n\n    public static cmpabs(value: DecimalSource, other: DecimalSource): CompareResult {\n        return D(value).cmpabs(other);\n    }\n\n    public static compare(value: DecimalSource, other: DecimalSource): CompareResult {\n        return D(value).cmp(other);\n    }\n\n    public static isNaN(value: DecimalSource): boolean {\n        value = D(value);\n        return isNaN(value.sign) || isNaN(value.layer) || isNaN(value.mag);\n    }\n\n    public static isFinite(value: DecimalSource): boolean {\n        value = D(value);\n        return isFinite(value.sign) && isFinite(value.layer) && isFinite(value.mag);\n    }\n\n    public static eq(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).eq(other);\n    }\n\n    public static equals(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).eq(other);\n    }\n\n    public static neq(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).neq(other);\n    }\n\n    public static notEquals(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).notEquals(other);\n    }\n\n    public static lt(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).lt(other);\n    }\n\n    public static lte(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).lte(other);\n    }\n\n    public static gt(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).gt(other);\n    }\n\n    public static gte(value: DecimalSource, other: DecimalSource): boolean {\n        return D(value).gte(other);\n    }\n\n    public static max(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).max(other);\n    }\n\n    public static min(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).min(other);\n    }\n\n    public static minabs(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).minabs(other);\n    }\n\n    public static maxabs(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).maxabs(other);\n    }\n\n    public static clamp(value: DecimalSource, min: DecimalSource, max: DecimalSource): Decimal {\n        return D(value).clamp(min, max);\n    }\n\n    public static clampMin(value: DecimalSource, min: DecimalSource): Decimal {\n        return D(value).clampMin(min);\n    }\n\n    public static clampMax(value: DecimalSource, max: DecimalSource): Decimal {\n        return D(value).clampMax(max);\n    }\n\n    public static cmp_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): CompareResult {\n        return D(value).cmp_tolerance(other, tolerance);\n    }\n\n    public static compare_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): CompareResult {\n        return D(value).cmp_tolerance(other, tolerance);\n    }\n\n    public static eq_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).eq_tolerance(other, tolerance);\n    }\n\n    public static equals_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).eq_tolerance(other, tolerance);\n    }\n\n    public static neq_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).neq_tolerance(other, tolerance);\n    }\n\n    public static notEquals_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).notEquals_tolerance(other, tolerance);\n    }\n\n    public static lt_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).lt_tolerance(other, tolerance);\n    }\n\n    public static lte_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).lte_tolerance(other, tolerance);\n    }\n\n    public static gt_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).gt_tolerance(other, tolerance);\n    }\n\n    public static gte_tolerance(\n        value: DecimalSource,\n        other: DecimalSource,\n        tolerance: number\n    ): boolean {\n        return D(value).gte_tolerance(other, tolerance);\n    }\n\n    public static pLog10(value: DecimalSource): Decimal {\n        return D(value).pLog10();\n    }\n\n    public static absLog10(value: DecimalSource): Decimal {\n        return D(value).absLog10();\n    }\n\n    public static log10(value: DecimalSource): Decimal {\n        return D(value).log10();\n    }\n\n    public static log(value: DecimalSource, base: DecimalSource): Decimal {\n        return D(value).log(base);\n    }\n\n    public static log2(value: DecimalSource): Decimal {\n        return D(value).log2();\n    }\n\n    public static ln(value: DecimalSource): Decimal {\n        return D(value).ln();\n    }\n\n    public static logarithm(value: DecimalSource, base: DecimalSource): Decimal {\n        return D(value).logarithm(base);\n    }\n\n    public static pow(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).pow(other);\n    }\n\n    public static pow10(value: DecimalSource): Decimal {\n        return D(value).pow10();\n    }\n\n    public static root(value: DecimalSource, other: DecimalSource): Decimal {\n        return D(value).root(other);\n    }\n\n    public static factorial(value: DecimalSource, _other?: never): Decimal {\n        return D(value).factorial();\n    }\n\n    public static gamma(value: DecimalSource, _other?: never): Decimal {\n        return D(value).gamma();\n    }\n\n    public static lngamma(value: DecimalSource, _other?: never): Decimal {\n        return D(value).lngamma();\n    }\n\n    public static exp(value: DecimalSource): Decimal {\n        return D(value).exp();\n    }\n\n    public static sqr(value: DecimalSource): Decimal {\n        return D(value).sqr();\n    }\n\n    public static sqrt(value: DecimalSource): Decimal {\n        return D(value).sqrt();\n    }\n\n    public static cube(value: DecimalSource): Decimal {\n        return D(value).cube();\n    }\n\n    public static cbrt(value: DecimalSource): Decimal {\n        return D(value).cbrt();\n    }\n\n    public static tetrate(\n        value: DecimalSource,\n        height = 2,\n        payload: DecimalSource = FC_NN(1, 0, 1)\n    ): Decimal {\n        return D(value).tetrate(height, payload);\n    }\n\n    public static iteratedexp(value: DecimalSource, height = 2, payload = FC_NN(1, 0, 1)): Decimal {\n        return D(value).iteratedexp(height, payload);\n    }\n\n    public static iteratedlog(value: DecimalSource, base: DecimalSource = 10, times = 1): Decimal {\n        return D(value).iteratedlog(base, times);\n    }\n\n    public static layeradd10(value: DecimalSource, diff: DecimalSource): Decimal {\n        return D(value).layeradd10(diff);\n    }\n\n    public static layeradd(value: DecimalSource, diff: number, base = 10): Decimal {\n        return D(value).layeradd(diff, base);\n    }\n\n    public static slog(value: DecimalSource, base = 10): Decimal {\n        return D(value).slog(base);\n    }\n\n    public static lambertw(value: DecimalSource): Decimal {\n        return D(value).lambertw();\n    }\n\n    public static ssqrt(value: DecimalSource): Decimal {\n        return D(value).ssqrt();\n    }\n\n    public static pentate(\n        value: DecimalSource,\n        height = 2,\n        payload: DecimalSource = FC_NN(1, 0, 1)\n    ): Decimal {\n        return D(value).pentate(height, payload);\n    }\n\n    /**\n     * If you're willing to spend 'resourcesAvailable' and want to buy something\n     * with exponentially increasing cost each purchase (start at priceStart,\n     * multiply by priceRatio, already own currentOwned), how much of it can you buy?\n     * Adapted from Trimps source code.\n     */\n\n    public static affordGeometricSeries(\n        resourcesAvailable: DecimalSource,\n        priceStart: DecimalSource,\n        priceRatio: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.affordGeometricSeries_core(\n            D(resourcesAvailable),\n            D(priceStart),\n            D(priceRatio),\n            currentOwned\n        );\n    }\n    /**\n     * How much resource would it cost to buy (numItems) items if you already have currentOwned,\n     * the initial price is priceStart and it multiplies by priceRatio each purchase?\n     */\n\n    public static sumGeometricSeries(\n        numItems: DecimalSource,\n        priceStart: DecimalSource,\n        priceRatio: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.sumGeometricSeries_core(numItems, D(priceStart), D(priceRatio), currentOwned);\n    }\n    /**\n     * If you're willing to spend 'resourcesAvailable' and want to buy something with additively\n     * increasing cost each purchase (start at priceStart, add by priceAdd, already own currentOwned),\n     * how much of it can you buy?\n     */\n\n    public static affordArithmeticSeries(\n        resourcesAvailable: DecimalSource,\n        priceStart: DecimalSource,\n        priceAdd: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.affordArithmeticSeries_core(\n            D(resourcesAvailable),\n            D(priceStart),\n            D(priceAdd),\n            D(currentOwned)\n        );\n    }\n    /**\n     * How much resource would it cost to buy (numItems) items if you already have currentOwned,\n     * the initial price is priceStart and it adds priceAdd each purchase?\n     * Adapted from http://www.mathwords.com/a/arithmetic_series.htm\n     */\n\n    public static sumArithmeticSeries(\n        numItems: DecimalSource,\n        priceStart: DecimalSource,\n        priceAdd: DecimalSource,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return this.sumArithmeticSeries_core(\n            D(numItems),\n            D(priceStart),\n            D(priceAdd),\n            D(currentOwned)\n        );\n    }\n    /**\n     * When comparing two purchases that cost (resource) and increase your resource/sec by (deltaRpS),\n     * the lowest efficiency score is the better one to purchase.\n     * From Frozen Cookies:\n     * http://cookieclicker.wikia.com/wiki/Frozen_Cookies_(JavaScript_Add-on)#Efficiency.3F_What.27s_that.3F\n     */\n\n    public static efficiencyOfPurchase(\n        cost: DecimalSource,\n        currentRpS: DecimalSource,\n        deltaRpS: DecimalSource\n    ): Decimal {\n        return this.efficiencyOfPurchase_core(D(cost), D(currentRpS), D(deltaRpS));\n    }\n\n    public static randomDecimalForTesting(maxLayers: number): Decimal {\n        // NOTE: This doesn't follow any kind of sane random distribution, so use this for testing purposes only.\n        //5% of the time, return 0\n        if (Math.random() * 20 < 1) {\n            return FC_NN(0, 0, 0);\n        }\n\n        const randomsign = Math.random() > 0.5 ? 1 : -1;\n\n        //5% of the time, return 1 or -1\n        if (Math.random() * 20 < 1) {\n            return FC_NN(randomsign, 0, 1);\n        }\n\n        //pick a random layer\n        const layer = Math.floor(Math.random() * (maxLayers + 1));\n\n        let randomexp = layer === 0 ? Math.random() * 616 - 308 : Math.random() * 16;\n        //10% of the time, make it a simple power of 10\n        if (Math.random() > 0.9) {\n            randomexp = Math.trunc(randomexp);\n        }\n        let randommag = Math.pow(10, randomexp);\n        //10% of the time, trunc mag\n        if (Math.random() > 0.9) {\n            randommag = Math.trunc(randommag);\n        }\n        return FC(randomsign, layer, randommag);\n    }\n\n    public static affordGeometricSeries_core(\n        resourcesAvailable: Decimal,\n        priceStart: Decimal,\n        priceRatio: Decimal,\n        currentOwned: DecimalSource\n    ): Decimal {\n        const actualStart = priceStart.mul(priceRatio.pow(currentOwned));\n        return Decimal.floor(\n            resourcesAvailable\n                .div(actualStart)\n                .mul(priceRatio.sub(1))\n                .add(1)\n                .log10()\n                .div(priceRatio.log10())\n        );\n    }\n\n    public static sumGeometricSeries_core(\n        numItems: DecimalSource,\n        priceStart: Decimal,\n        priceRatio: Decimal,\n        currentOwned: DecimalSource\n    ): Decimal {\n        return priceStart\n            .mul(priceRatio.pow(currentOwned))\n            .mul(Decimal.sub(1, priceRatio.pow(numItems)))\n            .div(Decimal.sub(1, priceRatio));\n    }\n\n    public static affordArithmeticSeries_core(\n        resourcesAvailable: Decimal,\n        priceStart: Decimal,\n        priceAdd: Decimal,\n        currentOwned: Decimal\n    ): Decimal {\n        // n = (-(a-d/2) + sqrt((a-d/2)^2+2dS))/d\n        // where a is actualStart, d is priceAdd and S is resourcesAvailable\n        // then floor it and you're done!\n        const actualStart = priceStart.add(currentOwned.mul(priceAdd));\n        const b = actualStart.sub(priceAdd.div(2));\n        const b2 = b.pow(2);\n        return b\n            .neg()\n            .add(b2.add(priceAdd.mul(resourcesAvailable).mul(2)).sqrt())\n            .div(priceAdd)\n            .floor();\n    }\n\n    public static sumArithmeticSeries_core(\n        numItems: Decimal,\n        priceStart: Decimal,\n        priceAdd: Decimal,\n        currentOwned: Decimal\n    ): Decimal {\n        const actualStart = priceStart.add(currentOwned.mul(priceAdd)); // (n/2)*(2*a+(n-1)*d)\n\n        return numItems.div(2).mul(actualStart.mul(2).plus(numItems.sub(1).mul(priceAdd)));\n    }\n\n    public static efficiencyOfPurchase_core(\n        cost: Decimal,\n        currentRpS: Decimal,\n        deltaRpS: Decimal\n    ): Decimal {\n        return cost.div(currentRpS).add(cost.div(deltaRpS));\n    }\n\n    public [Symbol.for(\"+\")](other: DecimalSource): DecimalSource {\n        return this.add(other);\n    }\n\n    public [Symbol.for(\"-\")](other: DecimalSource): DecimalSource {\n        return this.sub(other);\n    }\n\n    public [Symbol.for(\"*\")](other: DecimalSource): DecimalSource {\n        return this.times(other);\n    }\n\n    public [Symbol.for(\"/\")](other: DecimalSource): DecimalSource {\n        return this.div(other);\n    }\n\n    public [Symbol.for(\"minus\")](): DecimalSource {\n        return this.neg();\n    }\n\n    public [Symbol.for(\"==\")](other: DecimalSource): boolean {\n        return this.eq(other);\n    }\n\n    public [Symbol.for(\">\")](other: DecimalSource): boolean {\n        return this.gt(other);\n    }\n\n    public [Symbol.for(\"<\")](other: DecimalSource): boolean {\n        return this.lt(other);\n    }\n\n    public [Symbol.for(\">=\")](other: DecimalSource): boolean {\n        return this.gte(other);\n    }\n\n    public [Symbol.for(\"<=\")](other: DecimalSource): boolean {\n        return this.lte(other);\n    }\n\n    public [Symbol.for(\"!=\")](other: DecimalSource): boolean {\n        return this.neq(other);\n    }\n\n    public normalize(): this {\n        /*\n    PSEUDOCODE:\n    Whenever we are partially 0 (sign is 0 or mag and layer is 0), make it fully 0.\n    Whenever we are at or hit layer 0, extract sign from negative mag.\n    If layer === 0 and mag < FIRST_NEG_LAYER (1/9e15), shift to 'first negative layer' (add layer, log10 mag).\n    While abs(mag) > EXP_LIMIT (9e15), layer += 1, mag = maglog10(mag).\n    While abs(mag) < LAYER_DOWN (15.954) and layer > 0, layer -= 1, mag = pow(10, mag).\n\n    When we're done, all of the following should be true OR one of the numbers is not IsFinite OR layer is not IsInteger (error state):\n    Any 0 is totally zero (0, 0, 0).\n    Anything layer 0 has mag 0 OR mag > 1/9e15 and < 9e15.\n    Anything layer 1 or higher has abs(mag) >= 15.954 and < 9e15.\n    We will assume in calculations that all Decimals are either erroneous or satisfy these criteria. (Otherwise: Garbage in, garbage out.)\n    */\n        if (this.sign === 0 || (this.mag === 0 && this.layer === 0)) {\n            this.sign = 0;\n            this.mag = 0;\n            this.layer = 0;\n            return this;\n        }\n\n        if (this.layer === 0 && this.mag < 0) {\n            //extract sign from negative mag at layer 0\n            this.mag = -this.mag;\n            this.sign = -this.sign;\n        }\n\n        //Handle shifting from layer 0 to negative layers.\n        if (this.layer === 0 && this.mag < FIRST_NEG_LAYER) {\n            this.layer += 1;\n            this.mag = Math.log10(this.mag);\n            return this;\n        }\n\n        let absmag = Math.abs(this.mag);\n        let signmag = Math.sign(this.mag);\n\n        if (absmag >= EXP_LIMIT) {\n            this.layer += 1;\n            this.mag = signmag * Math.log10(absmag);\n            return this;\n        } else {\n            while (absmag < LAYER_DOWN && this.layer > 0) {\n                this.layer -= 1;\n                if (this.layer === 0) {\n                    this.mag = Math.pow(10, this.mag);\n                } else {\n                    this.mag = signmag * Math.pow(10, absmag);\n                    absmag = Math.abs(this.mag);\n                    signmag = Math.sign(this.mag);\n                }\n            }\n            if (this.layer === 0) {\n                if (this.mag < 0) {\n                    //extract sign from negative mag at layer 0\n                    this.mag = -this.mag;\n                    this.sign = -this.sign;\n                } else if (this.mag === 0) {\n                    //excessive rounding can give us all zeroes\n                    this.sign = 0;\n                }\n            }\n        }\n\n        return this;\n    }\n\n    public fromComponents(sign: number, layer: number, mag: number): this {\n        this.sign = sign;\n        this.layer = layer;\n        this.mag = mag;\n\n        this.normalize();\n        return this;\n    }\n\n    public fromComponents_noNormalize(sign: number, layer: number, mag: number): this {\n        this.sign = sign;\n        this.layer = layer;\n        this.mag = mag;\n        return this;\n    }\n\n    public fromMantissaExponent(mantissa: number, exponent: number): this {\n        this.layer = 1;\n        this.sign = Math.sign(mantissa);\n        mantissa = Math.abs(mantissa);\n        this.mag = exponent + Math.log10(mantissa);\n\n        this.normalize();\n        return this;\n    }\n\n    public fromMantissaExponent_noNormalize(mantissa: number, exponent: number): this {\n        //The idea of 'normalizing' a break_infinity.js style Decimal doesn't really apply. So just do the same thing.\n        this.fromMantissaExponent(mantissa, exponent);\n        return this;\n    }\n\n    public fromDecimal(value: Decimal): this {\n        this.sign = value.sign;\n        this.layer = value.layer;\n        this.mag = value.mag;\n        return this;\n    }\n\n    public fromNumber(value: number): this {\n        this.mag = Math.abs(value);\n        this.sign = Math.sign(value);\n        this.layer = 0;\n        this.normalize();\n        return this;\n    }\n\n    public fromString(value: string): Decimal {\n        if (IGNORE_COMMAS) {\n            value = value.replace(\",\", \"\");\n        } else if (COMMAS_ARE_DECIMAL_POINTS) {\n            value = value.replace(\",\", \".\");\n        }\n\n        //Handle x^^^y format.\n        const pentationparts = value.split(\"^^^\");\n        if (pentationparts.length === 2) {\n            const base = parseFloat(pentationparts[0]);\n            const height = parseFloat(pentationparts[1]);\n            const heightparts = pentationparts[1].split(\";\");\n            let payload = 1;\n            if (heightparts.length === 2) {\n                payload = parseFloat(heightparts[1]);\n                if (!isFinite(payload)) {\n                    payload = 1;\n                }\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.pentate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //Handle x^^y format.\n        const tetrationparts = value.split(\"^^\");\n        if (tetrationparts.length === 2) {\n            const base = parseFloat(tetrationparts[0]);\n            const height = parseFloat(tetrationparts[1]);\n            const heightparts = tetrationparts[1].split(\";\");\n            let payload = 1;\n            if (heightparts.length === 2) {\n                payload = parseFloat(heightparts[1]);\n                if (!isFinite(payload)) {\n                    payload = 1;\n                }\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.tetrate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //Handle x^y format.\n        const powparts = value.split(\"^\");\n        if (powparts.length === 2) {\n            const base = parseFloat(powparts[0]);\n            const exponent = parseFloat(powparts[1]);\n            if (isFinite(base) && isFinite(exponent)) {\n                const result = Decimal.pow(base, exponent);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //Handle various cases involving it being a Big Number.\n        value = value.trim().toLowerCase();\n\n        //handle X PT Y format.\n        let base;\n        let height;\n        let ptparts = value.split(\"pt\");\n        if (ptparts.length === 2) {\n            base = 10;\n            height = parseFloat(ptparts[0]);\n            ptparts[1] = ptparts[1].replace(\"(\", \"\");\n            ptparts[1] = ptparts[1].replace(\")\", \"\");\n            let payload = parseFloat(ptparts[1]);\n            if (!isFinite(payload)) {\n                payload = 1;\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.tetrate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        //handle XpY format (it's the same thing just with p).\n        ptparts = value.split(\"p\");\n        if (ptparts.length === 2) {\n            base = 10;\n            height = parseFloat(ptparts[0]);\n            ptparts[1] = ptparts[1].replace(\"(\", \"\");\n            ptparts[1] = ptparts[1].replace(\")\", \"\");\n            let payload = parseFloat(ptparts[1]);\n            if (!isFinite(payload)) {\n                payload = 1;\n            }\n            if (isFinite(base) && isFinite(height)) {\n                const result = Decimal.tetrate(base, height, payload);\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            }\n        }\n\n        const parts = value.split(\"e\");\n        const ecount = parts.length - 1;\n\n        //Handle numbers that are exactly floats (0 or 1 es).\n        if (ecount === 0) {\n            const numberAttempt = parseFloat(value);\n            if (isFinite(numberAttempt)) {\n                return this.fromNumber(numberAttempt);\n            }\n        } else if (ecount === 1) {\n            //Very small numbers (\"2e-3000\" and so on) may look like valid floats but round to 0.\n            const numberAttempt = parseFloat(value);\n            if (isFinite(numberAttempt) && numberAttempt !== 0) {\n                return this.fromNumber(numberAttempt);\n            }\n        }\n\n        //Handle new (e^N)X format.\n        const newparts = value.split(\"e^\");\n        if (newparts.length === 2) {\n            this.sign = 1;\n            if (newparts[0].charAt(0) == \"-\") {\n                this.sign = -1;\n            }\n            let layerstring = \"\";\n            for (let i = 0; i < newparts[1].length; ++i) {\n                const chrcode = newparts[1].charCodeAt(i);\n                if ((chrcode >= 43 && chrcode <= 57) || chrcode === 101) {\n                    //is \"0\" to \"9\" or \"+\" or \"-\" or \".\" or \"e\" (or \",\" or \"/\")\n                    layerstring += newparts[1].charAt(i);\n                } //we found the end of the layer count\n                else {\n                    this.layer = parseFloat(layerstring);\n                    this.mag = parseFloat(newparts[1].substr(i + 1));\n                    this.normalize();\n                    return this;\n                }\n            }\n        }\n\n        if (ecount < 1) {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n            return this;\n        }\n        const mantissa = parseFloat(parts[0]);\n        if (mantissa === 0) {\n            this.sign = 0;\n            this.layer = 0;\n            this.mag = 0;\n            return this;\n        }\n        let exponent = parseFloat(parts[parts.length - 1]);\n        //handle numbers like AeBeC and AeeeeBeC\n        if (ecount >= 2) {\n            const me = parseFloat(parts[parts.length - 2]);\n            if (isFinite(me)) {\n                exponent *= Math.sign(me);\n                exponent += f_maglog10(me);\n            }\n        }\n\n        //Handle numbers written like eee... (N es) X\n        if (!isFinite(mantissa)) {\n            this.sign = parts[0] === \"-\" ? -1 : 1;\n            this.layer = ecount;\n            this.mag = exponent;\n        }\n        //Handle numbers written like XeY\n        else if (ecount === 1) {\n            this.sign = Math.sign(mantissa);\n            this.layer = 1;\n            //Example: 2e10 is equal to 10^log10(2e10) which is equal to 10^(10+log10(2))\n            this.mag = exponent + Math.log10(Math.abs(mantissa));\n        }\n        //Handle numbers written like Xeee... (N es) Y\n        else {\n            this.sign = Math.sign(mantissa);\n            this.layer = ecount;\n            if (ecount === 2) {\n                const result = Decimal.mul(FC(1, 2, exponent), D(mantissa));\n                this.sign = result.sign;\n                this.layer = result.layer;\n                this.mag = result.mag;\n                return this;\n            } else {\n                //at eee and above, mantissa is too small to be recognizable!\n                this.mag = exponent;\n            }\n        }\n\n        this.normalize();\n        return this;\n    }\n\n    public fromValue(value: DecimalSource): Decimal {\n        if (value instanceof Decimal || (value != null && typeof value === \"object\" && \"sign\" in value && \"mag\" in value && \"layer\" in value)) {\n            return this.fromDecimal(value);\n        }\n\n        if (typeof value === \"number\") {\n            return this.fromNumber(value);\n        }\n\n        if (typeof value === \"string\") {\n            return this.fromString(value);\n        }\n\n        this.sign = 0;\n        this.layer = 0;\n        this.mag = 0;\n        return this;\n    }\n\n    public toNumber(): number {\n        if (!Number.isFinite(this.layer)) {\n            return Number.NaN;\n        }\n        if (this.layer === 0) {\n            return this.sign * this.mag;\n        } else if (this.layer === 1) {\n            return this.sign * Math.pow(10, this.mag);\n        } //overflow for any normalized Decimal\n        else {\n            return this.mag > 0\n                ? this.sign > 0\n                    ? Number.POSITIVE_INFINITY\n                    : Number.NEGATIVE_INFINITY\n                : 0;\n        }\n    }\n\n    public mantissaWithDecimalPlaces(places: number): number {\n        // https://stackoverflow.com/a/37425022\n        if (isNaN(this.m)) {\n            return Number.NaN;\n        }\n\n        if (this.m === 0) {\n            return 0;\n        }\n\n        return decimalPlaces(this.m, places);\n    }\n\n    public magnitudeWithDecimalPlaces(places: number): number {\n        // https://stackoverflow.com/a/37425022\n        if (isNaN(this.mag)) {\n            return Number.NaN;\n        }\n\n        if (this.mag === 0) {\n            return 0;\n        }\n\n        return decimalPlaces(this.mag, places);\n    }\n\n    public toString(): string {\n        if (isNaN(this.layer) || isNaN(this.sign) || isNaN(this.mag)) {\n            return \"NaN\";\n        }\n        if (this.mag === Number.POSITIVE_INFINITY || this.layer === Number.POSITIVE_INFINITY) {\n            return this.sign === 1 ? \"Infinity\" : \"-Infinity\";\n        }\n\n        if (this.layer === 0) {\n            if ((this.mag < 1e21 && this.mag > 1e-7) || this.mag === 0) {\n                return (this.sign * this.mag).toString();\n            }\n            return this.m + \"e\" + this.e;\n        } else if (this.layer === 1) {\n            return this.m + \"e\" + this.e;\n        } else {\n            //layer 2+\n            if (this.layer <= MAX_ES_IN_A_ROW) {\n                return (this.sign === -1 ? \"-\" : \"\") + \"e\".repeat(this.layer) + this.mag;\n            } else {\n                return (this.sign === -1 ? \"-\" : \"\") + \"(e^\" + this.layer + \")\" + this.mag;\n            }\n        }\n    }\n\n    public toExponential(places: number): string {\n        if (this.layer === 0) {\n            return (this.sign * this.mag).toExponential(places);\n        }\n        return this.toStringWithDecimalPlaces(places);\n    }\n\n    public toFixed(places: number): string {\n        if (this.layer === 0) {\n            return (this.sign * this.mag).toFixed(places);\n        }\n        return this.toStringWithDecimalPlaces(places);\n    }\n\n    public toPrecision(places: number): string {\n        if (this.e <= -7) {\n            return this.toExponential(places - 1);\n        }\n\n        if (places > this.e) {\n            return this.toFixed(places - this.exponent - 1);\n        }\n\n        return this.toExponential(places - 1);\n    }\n\n    public valueOf(): string {\n        return this.toString();\n    }\n\n    public toJSON(): string {\n        return this.toString();\n    }\n\n    public toStringWithDecimalPlaces(places: number): string {\n        if (this.layer === 0) {\n            if ((this.mag < 1e21 && this.mag > 1e-7) || this.mag === 0) {\n                return (this.sign * this.mag).toFixed(places);\n            }\n            return decimalPlaces(this.m, places) + \"e\" + decimalPlaces(this.e, places);\n        } else if (this.layer === 1) {\n            return decimalPlaces(this.m, places) + \"e\" + decimalPlaces(this.e, places);\n        } else {\n            //layer 2+\n            if (this.layer <= MAX_ES_IN_A_ROW) {\n                return (\n                    (this.sign === -1 ? \"-\" : \"\") +\n                    \"e\".repeat(this.layer) +\n                    decimalPlaces(this.mag, places)\n                );\n            } else {\n                return (\n                    (this.sign === -1 ? \"-\" : \"\") +\n                    \"(e^\" +\n                    this.layer +\n                    \")\" +\n                    decimalPlaces(this.mag, places)\n                );\n            }\n        }\n    }\n\n    public abs(): Decimal {\n        return FC_NN(this.sign === 0 ? 0 : 1, this.layer, this.mag);\n    }\n\n    public neg(): Decimal {\n        return FC_NN(-this.sign, this.layer, this.mag);\n    }\n\n    public negate(): Decimal {\n        return this.neg();\n    }\n\n    public negated(): Decimal {\n        return this.neg();\n    }\n\n    // public sign () {\n    //     return this.sign;\n    //   }\n\n    public sgn(): number {\n        return this.sign;\n    }\n\n    public round(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.round(this.mag));\n        }\n        return this;\n    }\n\n    public floor(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.floor(this.mag));\n        }\n        return this;\n    }\n\n    public ceil(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.ceil(this.mag));\n        }\n        return this;\n    }\n\n    public trunc(): this | Decimal {\n        if (this.mag < 0) {\n            return Decimal.dZero;\n        }\n        if (this.layer === 0) {\n            return FC(this.sign, 0, Math.trunc(this.mag));\n        }\n        return this;\n    }\n\n    public add(value: DecimalSource): this | Decimal {\n        const decimal = D(value);\n\n        //inf/nan check\n        if (!Number.isFinite(this.layer)) {\n            return this;\n        }\n        if (!Number.isFinite(decimal.layer)) {\n            return decimal;\n        }\n\n        //Special case - if one of the numbers is 0, return the other number.\n        if (this.sign === 0) {\n            return decimal;\n        }\n        if (decimal.sign === 0) {\n            return this;\n        }\n\n        //Special case - Adding a number to its negation produces 0, no matter how large.\n        if (\n            this.sign === -decimal.sign &&\n            this.layer === decimal.layer &&\n            this.mag === decimal.mag\n        ) {\n            return FC_NN(0, 0, 0);\n        }\n\n        let a;\n        let b;\n\n        //Special case: If one of the numbers is layer 2 or higher, just take the bigger number.\n        if (this.layer >= 2 || decimal.layer >= 2) {\n            return this.maxabs(decimal);\n        }\n\n        if (Decimal.cmpabs(this, decimal) > 0) {\n            a = this;\n            b = decimal;\n        } else {\n            a = decimal;\n            b = this;\n        }\n\n        if (a.layer === 0 && b.layer === 0) {\n            return D(a.sign * a.mag + b.sign * b.mag);\n        }\n\n        const layera = a.layer * Math.sign(a.mag);\n        const layerb = b.layer * Math.sign(b.mag);\n\n        //If one of the numbers is 2+ layers higher than the other, just take the bigger number.\n        if (layera - layerb >= 2) {\n            return a;\n        }\n\n        if (layera === 0 && layerb === -1) {\n            if (Math.abs(b.mag - Math.log10(a.mag)) > MAX_SIGNIFICANT_DIGITS) {\n                return a;\n            } else {\n                const magdiff = Math.pow(10, Math.log10(a.mag) - b.mag);\n                const mantissa = b.sign + a.sign * magdiff;\n                return FC(Math.sign(mantissa), 1, b.mag + Math.log10(Math.abs(mantissa)));\n            }\n        }\n\n        if (layera === 1 && layerb === 0) {\n            if (Math.abs(a.mag - Math.log10(b.mag)) > MAX_SIGNIFICANT_DIGITS) {\n                return a;\n            } else {\n                const magdiff = Math.pow(10, a.mag - Math.log10(b.mag));\n                const mantissa = b.sign + a.sign * magdiff;\n                return FC(\n                    Math.sign(mantissa),\n                    1,\n                    Math.log10(b.mag) + Math.log10(Math.abs(mantissa))\n                );\n            }\n        }\n\n        if (Math.abs(a.mag - b.mag) > MAX_SIGNIFICANT_DIGITS) {\n            return a;\n        } else {\n            const magdiff = Math.pow(10, a.mag - b.mag);\n            const mantissa = b.sign + a.sign * magdiff;\n            return FC(Math.sign(mantissa), 1, b.mag + Math.log10(Math.abs(mantissa)));\n        }\n\n        throw Error(\"Bad arguments to add: \" + this + \", \" + value);\n    }\n\n    public plus(value: DecimalSource): Decimal {\n        return this.add(value);\n    }\n\n    public sub(value: DecimalSource): Decimal {\n        return this.add(D(value).neg());\n    }\n\n    public subtract(value: DecimalSource): Decimal {\n        return this.sub(value);\n    }\n\n    public minus(value: DecimalSource): Decimal {\n        return this.sub(value);\n    }\n\n    public mul(value: DecimalSource): Decimal {\n        const decimal = D(value);\n\n        //inf/nan check\n        if (!Number.isFinite(this.layer)) {\n            return this;\n        }\n        if (!Number.isFinite(decimal.layer)) {\n            return decimal;\n        }\n\n        //Special case - if one of the numbers is 0, return 0.\n        if (this.sign === 0 || decimal.sign === 0) {\n            return FC_NN(0, 0, 0);\n        }\n\n        //Special case - Multiplying a number by its own reciprocal yields +/- 1, no matter how large.\n        if (this.layer === decimal.layer && this.mag === -decimal.mag) {\n            return FC_NN(this.sign * decimal.sign, 0, 1);\n        }\n\n        let a;\n        let b;\n\n        //Which number is bigger in terms of its multiplicative distance from 1?\n        if (\n            this.layer > decimal.layer ||\n            (this.layer == decimal.layer && Math.abs(this.mag) > Math.abs(decimal.mag))\n        ) {\n            a = this;\n            b = decimal;\n        } else {\n            a = decimal;\n            b = this;\n        }\n\n        if (a.layer === 0 && b.layer === 0) {\n            return D(a.sign * b.sign * a.mag * b.mag);\n        }\n\n        //Special case: If one of the numbers is layer 3 or higher or one of the numbers is 2+ layers bigger than the other, just take the bigger number.\n        if (a.layer >= 3 || a.layer - b.layer >= 2) {\n            return FC(a.sign * b.sign, a.layer, a.mag);\n        }\n\n        if (a.layer === 1 && b.layer === 0) {\n            return FC(a.sign * b.sign, 1, a.mag + Math.log10(b.mag));\n        }\n\n        if (a.layer === 1 && b.layer === 1) {\n            return FC(a.sign * b.sign, 1, a.mag + b.mag);\n        }\n\n        if (a.layer === 2 && b.layer === 1) {\n            const newmag = FC(Math.sign(a.mag), a.layer - 1, Math.abs(a.mag)).add(\n                FC(Math.sign(b.mag), b.layer - 1, Math.abs(b.mag))\n            );\n            return FC(a.sign * b.sign, newmag.layer + 1, newmag.sign * newmag.mag);\n        }\n\n        if (a.layer === 2 && b.layer === 2) {\n            const newmag = FC(Math.sign(a.mag), a.layer - 1, Math.abs(a.mag)).add(\n                FC(Math.sign(b.mag), b.layer - 1, Math.abs(b.mag))\n            );\n            return FC(a.sign * b.sign, newmag.layer + 1, newmag.sign * newmag.mag);\n        }\n\n        throw Error(\"Bad arguments to mul: \" + this + \", \" + value);\n    }\n\n    public multiply(value: DecimalSource): Decimal {\n        return this.mul(value);\n    }\n\n    public times(value: DecimalSource): Decimal {\n        return this.mul(value);\n    }\n\n    public div(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.mul(decimal.recip());\n    }\n\n    public divide(value: DecimalSource): Decimal {\n        return this.div(value);\n    }\n\n    public divideBy(value: DecimalSource): Decimal {\n        return this.div(value);\n    }\n\n    public dividedBy(value: DecimalSource): Decimal {\n        return this.div(value);\n    }\n\n    public recip(): Decimal {\n        if (this.mag === 0) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0) {\n            return FC(this.sign, 0, 1 / this.mag);\n        } else {\n            return FC(this.sign, this.layer, -this.mag);\n        }\n    }\n\n    public reciprocal(): Decimal {\n        return this.recip();\n    }\n\n    public reciprocate(): Decimal {\n        return this.recip();\n    }\n\n    /**\n     * -1 for less than value, 0 for equals value, 1 for greater than value\n     */\n    public cmp(value: DecimalSource): CompareResult {\n        const decimal = D(value);\n        if (this.sign > decimal.sign) {\n            return 1;\n        }\n        if (this.sign < decimal.sign) {\n            return -1;\n        }\n        return (this.sign * this.cmpabs(value)) as CompareResult;\n    }\n\n    public cmpabs(value: DecimalSource): CompareResult {\n        const decimal = D(value);\n        const layera = this.mag > 0 ? this.layer : -this.layer;\n        const layerb = decimal.mag > 0 ? decimal.layer : -decimal.layer;\n        if (layera > layerb) {\n            return 1;\n        }\n        if (layera < layerb) {\n            return -1;\n        }\n        if (this.mag > decimal.mag) {\n            return 1;\n        }\n        if (this.mag < decimal.mag) {\n            return -1;\n        }\n        return 0;\n    }\n\n    public compare(value: DecimalSource): CompareResult {\n        return this.cmp(value);\n    }\n\n    public isNan(): boolean {\n        return isNaN(this.sign) || isNaN(this.layer) || isNaN(this.mag);\n    }\n\n    public isFinite(): boolean {\n        return isFinite(this.sign) && isFinite(this.layer) && isFinite(this.mag);\n    }\n\n    public eq(value: DecimalSource): boolean {\n        const decimal = D(value);\n        return (\n            this.sign === decimal.sign && this.layer === decimal.layer && this.mag === decimal.mag\n        );\n    }\n\n    public equals(value: DecimalSource): boolean {\n        return this.eq(value);\n    }\n\n    public neq(value: DecimalSource): boolean {\n        return !this.eq(value);\n    }\n\n    public notEquals(value: DecimalSource): boolean {\n        return this.neq(value);\n    }\n\n    public lt(value: DecimalSource): boolean {\n        return this.cmp(value) === -1;\n    }\n\n    public lte(value: DecimalSource): boolean {\n        return !this.gt(value);\n    }\n\n    public gt(value: DecimalSource): boolean {\n        return this.cmp(value) === 1;\n    }\n\n    public gte(value: DecimalSource): boolean {\n        return !this.lt(value);\n    }\n\n    public max(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.lt(decimal) ? decimal : this;\n    }\n\n    public min(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.gt(decimal) ? decimal : this;\n    }\n\n    public maxabs(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.cmpabs(decimal) < 0 ? decimal : this;\n    }\n\n    public minabs(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.cmpabs(decimal) > 0 ? decimal : this;\n    }\n\n    public clamp(min: DecimalSource, max: DecimalSource): Decimal {\n        return this.max(min).min(max);\n    }\n\n    public clampMin(min: DecimalSource): Decimal {\n        return this.max(min);\n    }\n\n    public clampMax(max: DecimalSource): Decimal {\n        return this.min(max);\n    }\n\n    public cmp_tolerance(value: DecimalSource, tolerance: number): CompareResult {\n        const decimal = D(value);\n        return this.eq_tolerance(decimal, tolerance) ? 0 : this.cmp(decimal);\n    }\n\n    public compare_tolerance(value: DecimalSource, tolerance: number): CompareResult {\n        return this.cmp_tolerance(value, tolerance);\n    }\n\n    /**\n     * Tolerance is a relative tolerance, multiplied by the greater of the magnitudes of the two arguments.\n     * For example, if you put in 1e-9, then any number closer to the\n     * larger number than (larger number)*1e-9 will be considered equal.\n     */\n    public eq_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value); // https://stackoverflow.com/a/33024979\n        if (tolerance == null) {\n            tolerance = 1e-7;\n        }\n        //Numbers that are too far away are never close.\n        if (this.sign !== decimal.sign) {\n            return false;\n        }\n        if (Math.abs(this.layer - decimal.layer) > 1) {\n            return false;\n        }\n        // return abs(a-b) <= tolerance * max(abs(a), abs(b))\n        let magA = this.mag;\n        let magB = decimal.mag;\n        if (this.layer > decimal.layer) {\n            magB = f_maglog10(magB);\n        }\n        if (this.layer < decimal.layer) {\n            magA = f_maglog10(magA);\n        }\n        return Math.abs(magA - magB) <= tolerance * Math.max(Math.abs(magA), Math.abs(magB));\n    }\n\n    public equals_tolerance(value: DecimalSource, tolerance: number): boolean {\n        return this.eq_tolerance(value, tolerance);\n    }\n\n    public neq_tolerance(value: DecimalSource, tolerance: number): boolean {\n        return !this.eq_tolerance(value, tolerance);\n    }\n\n    public notEquals_tolerance(value: DecimalSource, tolerance: number): boolean {\n        return this.neq_tolerance(value, tolerance);\n    }\n\n    public lt_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return !this.eq_tolerance(decimal, tolerance) && this.lt(decimal);\n    }\n\n    public lte_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return this.eq_tolerance(decimal, tolerance) || this.lt(decimal);\n    }\n\n    public gt_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return !this.eq_tolerance(decimal, tolerance) && this.gt(decimal);\n    }\n\n    public gte_tolerance(value: DecimalSource, tolerance: number): boolean {\n        const decimal = D(value);\n        return this.eq_tolerance(decimal, tolerance) || this.gt(decimal);\n    }\n\n    public pLog10(): Decimal {\n        if (this.lt(Decimal.dZero)) {\n            return Decimal.dZero;\n        }\n        return this.log10();\n    }\n\n    public absLog10(): Decimal {\n        if (this.sign === 0) {\n            return Decimal.dNaN;\n        } else if (this.layer > 0) {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        } else {\n            return FC(1, 0, Math.log10(this.mag));\n        }\n    }\n\n    public log10(): Decimal {\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        } else if (this.layer > 0) {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        } else {\n            return FC(this.sign, 0, Math.log10(this.mag));\n        }\n    }\n\n    public log(base: DecimalSource): Decimal {\n        base = D(base);\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        }\n        if (base.sign <= 0) {\n            return Decimal.dNaN;\n        }\n        if (base.sign === 1 && base.layer === 0 && base.mag === 1) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0 && base.layer === 0) {\n            return FC(this.sign, 0, Math.log(this.mag) / Math.log(base.mag));\n        }\n\n        return Decimal.div(this.log10(), base.log10());\n    }\n\n    public log2(): Decimal {\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0) {\n            return FC(this.sign, 0, Math.log2(this.mag));\n        } else if (this.layer === 1) {\n            return FC(Math.sign(this.mag), 0, Math.abs(this.mag) * 3.321928094887362); //log2(10)\n        } else if (this.layer === 2) {\n            return FC(Math.sign(this.mag), 1, Math.abs(this.mag) + 0.5213902276543247); //-log10(log10(2))\n        } else {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        }\n    }\n\n    public ln(): Decimal {\n        if (this.sign <= 0) {\n            return Decimal.dNaN;\n        } else if (this.layer === 0) {\n            return FC(this.sign, 0, Math.log(this.mag));\n        } else if (this.layer === 1) {\n            return FC(Math.sign(this.mag), 0, Math.abs(this.mag) * 2.302585092994046); //ln(10)\n        } else if (this.layer === 2) {\n            return FC(Math.sign(this.mag), 1, Math.abs(this.mag) + 0.36221568869946325); //log10(log10(e))\n        } else {\n            return FC(Math.sign(this.mag), this.layer - 1, Math.abs(this.mag));\n        }\n    }\n\n    public logarithm(base: DecimalSource): Decimal {\n        return this.log(base);\n    }\n\n    public pow(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        const a = this;\n        const b = decimal;\n\n        //special case: if a is 0, then return 0 (UNLESS b is 0, then return 1)\n        if (a.sign === 0) {\n            return b.eq(0) ? FC_NN(1, 0, 1) : a;\n        }\n        //special case: if a is 1, then return 1\n        if (a.sign === 1 && a.layer === 0 && a.mag === 1) {\n            return a;\n        }\n        //special case: if b is 0, then return 1\n        if (b.sign === 0) {\n            return FC_NN(1, 0, 1);\n        }\n        //special case: if b is 1, then return a\n        if (b.sign === 1 && b.layer === 0 && b.mag === 1) {\n            return a;\n        }\n\n        const result = a\n            .absLog10()\n            .mul(b)\n            .pow10();\n\n        if (this.sign === -1) {\n            if (Math.abs(b.toNumber() % 2) % 2 === 1) {\n                return result.neg();\n            } else if (Math.abs(b.toNumber() % 2) % 2 === 0) {\n                return result;\n            }\n            return Decimal.dNaN;\n        }\n\n        return result;\n    }\n\n    public pow10(): Decimal {\n        /*\n    There are four cases we need to consider:\n    1) positive sign, positive mag (e15, ee15): +1 layer (e.g. 10^15 becomes e15, 10^e15 becomes ee15)\n    2) negative sign, positive mag (-e15, -ee15): +1 layer but sign and mag sign are flipped (e.g. 10^-15 becomes e-15, 10^-e15 becomes ee-15)\n    3) positive sign, negative mag (e-15, ee-15): layer 0 case would have been handled in the Math.pow check, so just return 1\n    4) negative sign, negative mag (-e-15, -ee-15): layer 0 case would have been handled in the Math.pow check, so just return 1\n    */\n\n        if (!Number.isFinite(this.layer) || !Number.isFinite(this.mag)) {\n            return Decimal.dNaN;\n        }\n\n        let a = this;\n\n        //handle layer 0 case - if no precision is lost just use Math.pow, else promote one layer\n        if (a.layer === 0) {\n            const newmag = Math.pow(10, a.sign * a.mag);\n            if (Number.isFinite(newmag) && Math.abs(newmag) >= 0.1) {\n                return FC(1, 0, newmag);\n            } else {\n                if (a.sign === 0) {\n                    return Decimal.dOne;\n                } else {\n                    a = FC_NN(a.sign, a.layer + 1, Math.log10(a.mag)) as this;\n                }\n            }\n        }\n\n        //handle all 4 layer 1+ cases individually\n        if (a.sign > 0 && a.mag >= 0) {\n            return FC(a.sign, a.layer + 1, a.mag);\n        }\n        if (a.sign < 0 && a.mag >= 0) {\n            return FC(-a.sign, a.layer + 1, -a.mag);\n        }\n        //both the negative mag cases are identical: one +/- rounding error\n        return Decimal.dOne;\n    }\n\n    public pow_base(value: DecimalSource): Decimal {\n        return D(value).pow(this);\n    }\n\n    public root(value: DecimalSource): Decimal {\n        const decimal = D(value);\n        return this.pow(decimal.recip());\n    }\n\n    public factorial(): Decimal {\n        if (this.mag < 0) {\n            return this.add(1).gamma();\n        } else if (this.layer === 0) {\n            return this.add(1).gamma();\n        } else if (this.layer === 1) {\n            return Decimal.exp(Decimal.mul(this, Decimal.ln(this).sub(1)));\n        } else {\n            return Decimal.exp(this);\n        }\n    }\n\n    //from HyperCalc source code\n    public gamma(): Decimal {\n        if (this.mag < 0) {\n            return this.recip();\n        } else if (this.layer === 0) {\n            if (this.lt(FC_NN(1, 0, 24))) {\n                return D(f_gamma(this.sign * this.mag));\n            }\n\n            const t = this.mag - 1;\n            let l = 0.9189385332046727; //0.5*Math.log(2*Math.PI)\n            l = l + (t + 0.5) * Math.log(t);\n            l = l - t;\n            const n2 = t * t;\n            let np = t;\n            let lm = 12 * np;\n            let adj = 1 / lm;\n            let l2 = l + adj;\n            if (l2 === l) {\n                return Decimal.exp(l);\n            }\n\n            l = l2;\n            np = np * n2;\n            lm = 360 * np;\n            adj = 1 / lm;\n            l2 = l - adj;\n            if (l2 === l) {\n                return Decimal.exp(l);\n            }\n\n            l = l2;\n            np = np * n2;\n            lm = 1260 * np;\n            let lt = 1 / lm;\n            l = l + lt;\n            np = np * n2;\n            lm = 1680 * np;\n            lt = 1 / lm;\n            l = l - lt;\n            return Decimal.exp(l);\n        } else if (this.layer === 1) {\n            return Decimal.exp(Decimal.mul(this, Decimal.ln(this).sub(1)));\n        } else {\n            return Decimal.exp(this);\n        }\n    }\n\n    public lngamma(): Decimal {\n        return this.gamma().ln();\n    }\n\n    public exp(): Decimal {\n        if (this.mag < 0) {\n            return Decimal.dOne;\n        }\n        if (this.layer === 0 && this.mag <= 709.7) {\n            return D(Math.exp(this.sign * this.mag));\n        } else if (this.layer === 0) {\n            return FC(1, 1, this.sign * Math.log10(Math.E) * this.mag);\n        } else if (this.layer === 1) {\n            return FC(1, 2, this.sign * (Math.log10(0.4342944819032518) + this.mag));\n        } else {\n            return FC(1, this.layer + 1, this.sign * this.mag);\n        }\n    }\n\n    public sqr(): Decimal {\n        return this.pow(2);\n    }\n\n    public sqrt(): Decimal {\n        if (this.layer === 0) {\n            return D(Math.sqrt(this.sign * this.mag));\n        } else if (this.layer === 1) {\n            return FC(1, 2, Math.log10(this.mag) - 0.3010299956639812);\n        } else {\n            const result = Decimal.div(FC_NN(this.sign, this.layer - 1, this.mag), FC_NN(1, 0, 2));\n            result.layer += 1;\n            result.normalize();\n            return result;\n        }\n    }\n\n    public cube(): Decimal {\n        return this.pow(3);\n    }\n\n    public cbrt(): Decimal {\n        return this.pow(1 / 3);\n    }\n\n    //Tetration/tetrate: The result of exponentiating 'this' to 'this' 'height' times in a row.  https://en.wikipedia.org/wiki/Tetration\n    //If payload != 1, then this is 'iterated exponentiation', the result of exping (payload) to base (this) (height) times. https://andydude.github.io/tetration/archives/tetration2/ident.html\n    //Works with negative and positive real heights.\n    public tetrate(height = 2, payload: DecimalSource = FC_NN(1, 0, 1)): Decimal {\n        //x^^1 == x\n        if (height === 1) {\n            return Decimal.pow(this, payload);\n        }\n        //x^^0 == 1\n        if (height === 0) {\n            return new Decimal(payload);\n        }\n        //1^^x == 1\n        if (this.eq(Decimal.dOne)) {\n            return Decimal.dOne;\n        }\n        //-1^^x == -1\n        if (this.eq(-1)) {\n            return Decimal.pow(this, payload);\n        }\n\n        if (height === Number.POSITIVE_INFINITY) {\n            const this_num = this.toNumber();\n            //within the convergence range?\n            if (this_num <= 1.44466786100976613366 && this_num >= 0.06598803584531253708) {\n                //hotfix for the very edge of the number range not being handled properly\n                if (this_num > 1.444667861009099) {\n                    return new Decimal(Math.E);\n                }\n                //Formula for infinite height power tower.\n                const negln = Decimal.ln(this).neg();\n                return negln.lambertw().div(negln);\n            } else if (this_num > 1.44466786100976613366) {\n                //explodes to infinity\n                return new Decimal(Number.POSITIVE_INFINITY);\n            } else {\n                //0.06598803584531253708 > this_num >= 0: never converges\n                //this_num < 0: quickly becomes a complex number\n                return Decimal.dNaN;\n            }\n        }\n\n        //0^^x oscillates if we define 0^0 == 1 (which in javascript land we do), since then 0^^1 is 0, 0^^2 is 1, 0^^3 is 0, etc. payload is ignored\n        //using the linear approximation for height (TODO: don't know a better way to calculate it ATM, but it wouldn't surprise me if it's just NaN)\n        if (this.eq(Decimal.dZero)) {\n            let result = Math.abs((height + 1) % 2);\n            if (result > 1) {\n                result = 2 - result;\n            }\n            return new Decimal(result);\n        }\n\n        if (height < 0) {\n            return Decimal.iteratedlog(payload, this, -height);\n        }\n\n        payload = D(payload);\n        const oldheight = height;\n        height = Math.trunc(height);\n        const fracheight = oldheight - height;\n\n        if (this.gt(Decimal.dZero) && this.lte(1.44466786100976613366)) {\n            //similar to 0^^n, flip-flops between two values, converging slowly (or if it's below 0.06598803584531253708, never. so once again, the fractional part at the end will be a linear approximation (TODO: again pending knowledge of how to approximate better, although tbh I think it should in reality just be NaN)\n            height = Math.min(10000, height);\n            for (let i = 0; i < height; ++i) {\n                const old_payload: Decimal = payload;\n                payload = this.pow(payload);\n                //stop early if we converge\n                if (old_payload.eq(payload)) {\n                    return payload;\n                }\n            }\n            if (fracheight != 0) {\n                const next_payload = this.pow(payload);\n                return payload.mul(1 - fracheight).add(next_payload.mul(fracheight));\n            }\n            return payload;\n        }\n        //TODO: base < 0, but it's hard for me to reason about (probably all non-integer heights are NaN automatically?)\n\n        if (fracheight !== 0) {\n            if (payload.eq(Decimal.dOne)) {\n                //TODO: for bases above 10, revert to old linear approximation until I can think of something better\n                if (this.gt(10)) {\n                    payload = this.pow(fracheight);\n                } else {\n                    payload = D(Decimal.tetrate_critical(this.toNumber(), fracheight));\n                    //TODO: until the critical section grid can handle numbers below 2, scale them to the base\n                    //TODO: maybe once the critical section grid has very large bases, this math can be appropriate for them too? I'll think about it\n                    if (this.lt(2)) {\n                        payload = payload\n                            .sub(1)\n                            .mul(this.minus(1))\n                            .plus(1);\n                    }\n                }\n            } else {\n                if (this.eq(10)) {\n                    payload = payload.layeradd10(fracheight);\n                } else {\n                    payload = payload.layeradd(fracheight, this);\n                }\n            }\n        }\n\n        for (let i = 0; i < height; ++i) {\n            payload = this.pow(payload);\n            //bail if we're NaN\n            if (!isFinite(payload.layer) || !isFinite(payload.mag)) {\n                return payload.normalize();\n            }\n            //shortcut\n            if (payload.layer - this.layer > 3) {\n                return FC_NN(payload.sign, payload.layer + (height - i - 1), payload.mag);\n            }\n            //give up after 10000 iterations if nothing is happening\n            if (i > 10000) {\n                return payload;\n            }\n        }\n        return payload;\n    }\n\n    //iteratedexp/iterated exponentiation: - all cases handled in tetrate, so just call it\n    public iteratedexp(height = 2, payload = FC_NN(1, 0, 1)): Decimal {\n        return this.tetrate(height, payload);\n    }\n\n    //iterated log/repeated log: The result of applying log(base) 'times' times in a row. Approximately equal to subtracting (times) from the number's slog representation. Equivalent to tetrating to a negative height.\n    //Works with negative and positive real heights.\n    public iteratedlog(base: DecimalSource = 10, times = 1): Decimal {\n        if (times < 0) {\n            return Decimal.tetrate(base, -times, this);\n        }\n\n        base = D(base);\n        let result = D(this);\n        const fulltimes = times;\n        times = Math.trunc(times);\n        const fraction = fulltimes - times;\n        if (result.layer - base.layer > 3) {\n            const layerloss = Math.min(times, result.layer - base.layer - 3);\n            times -= layerloss;\n            result.layer -= layerloss;\n        }\n\n        for (let i = 0; i < times; ++i) {\n            result = result.log(base);\n            //bail if we're NaN\n            if (!isFinite(result.layer) || !isFinite(result.mag)) {\n                return result.normalize();\n            }\n            //give up after 10000 iterations if nothing is happening\n            if (i > 10000) {\n                return result;\n            }\n        }\n\n        //handle fractional part\n        if (fraction > 0 && fraction < 1) {\n            if (base.eq(10)) {\n                result = result.layeradd10(-fraction);\n            } else {\n                result = result.layeradd(-fraction, base);\n            }\n        }\n\n        return result;\n    }\n\n    //Super-logarithm, one of tetration's inverses, tells you what size power tower you'd have to tetrate base to to get number. By definition, will never be higher than 1.8e308 in break_eternity.js, since a power tower 1.8e308 numbers tall is the largest representable number.\n    // https://en.wikipedia.org/wiki/Super-logarithm\n    public slog(base: DecimalSource = 10): Decimal {\n        base = D(base);\n\n        //special cases:\n        //slog base 0 or lower is NaN\n        if (base.lte(Decimal.dZero)) {\n            return Decimal.dNaN;\n        }\n        //slog base 1 is NaN\n        if (base.eq(Decimal.dOne)) {\n            return Decimal.dNaN;\n        }\n        //need to handle these small, wobbling bases specially\n        if (base.lt(Decimal.dOne)) {\n            if (this.eq(Decimal.dOne)) {\n                return Decimal.dZero;\n            }\n            if (this.eq(Decimal.dZero)) {\n                return Decimal.dNegOne;\n            }\n            //0 < this < 1: ambiguous (happens multiple times)\n            //this < 0: impossible (as far as I can tell)\n            //this > 1: partially complex (http://myweb.astate.edu/wpaulsen/tetcalc/tetcalc.html base 0.25 for proof)\n            return Decimal.dNaN;\n        }\n        //slog_n(0) is -1\n        if (this.mag < 0 || this.eq(Decimal.dZero)) {\n            return Decimal.dNegOne;\n        }\n\n        let result = 0;\n        let copy = D(this);\n        if (copy.layer - base.layer > 3) {\n            const layerloss = copy.layer - base.layer - 3;\n            result += layerloss;\n            copy.layer -= layerloss;\n        }\n\n        for (let i = 0; i < 100; ++i) {\n            if (copy.lt(Decimal.dZero)) {\n                copy = Decimal.pow(base, copy);\n                result -= 1;\n            } else if (copy.lte(Decimal.dOne)) {\n                return D(result + Decimal.slog_critical(base.toNumber(), copy.toNumber()));\n            } else {\n                result += 1;\n                copy = Decimal.log(copy, base);\n            }\n        }\n        return D(result);\n    }\n\n    //background info and tables of values for critical functions taken here: https://github.com/Patashu/break_eternity.js/issues/22\n    public static slog_critical(base: number, height: number): number {\n        //TODO: for bases above 10, revert to old linear approximation until I can think of something better\n        if (base > 10) {\n            return height - 1;\n        }\n        return Decimal.critical_section(base, height, critical_slog_values);\n    }\n\n    public static tetrate_critical(base: number, height: number): number {\n        return Decimal.critical_section(base, height, critical_tetr_values);\n    }\n\n    public static critical_section(base: number, height: number, grid: number[][]): number {\n        //this part is simple at least, since it's just 0.1 to 0.9\n        height *= 10;\n        if (height < 0) {\n            height = 0;\n        }\n        if (height > 10) {\n            height = 10;\n        }\n        //have to do this complicated song and dance since one of the critical_headers is Math.E, and in the future I'd like 1.5 as well\n        if (base < 2) {\n            base = 2;\n        }\n        if (base > 10) {\n            base = 10;\n        }\n        let lower = 0;\n        let upper = 0;\n        //basically, if we're between bases, we interpolate each bases' relevant values together\n        //then we interpolate based on what the fractional height is.\n        //accuracy could be improved by doing a non-linear interpolation (maybe), by adding more bases and heights (definitely) but this is AFAIK the best you can get without running some pari.gp or mathematica program to calculate exact values\n        for (let i = 0; i < critical_headers.length; ++i) {\n            if (critical_headers[i] == base) {\n                // exact match\n                lower = grid[i][Math.floor(height)];\n                upper = grid[i][Math.ceil(height)];\n                break;\n            } else if (critical_headers[i] < base && critical_headers[i + 1] > base) {\n                // interpolate between this and the next\n                const basefrac =\n                    (base - critical_headers[i]) / (critical_headers[i + 1] - critical_headers[i]);\n                lower =\n                    grid[i][Math.floor(height)] * (1 - basefrac) +\n                    grid[i + 1][Math.floor(height)] * basefrac;\n                upper =\n                    grid[i][Math.ceil(height)] * (1 - basefrac) +\n                    grid[i + 1][Math.ceil(height)] * basefrac;\n                break;\n            }\n        }\n        const frac = height - Math.floor(height);\n        const result = lower * (1 - frac) + upper * frac;\n        return result;\n    }\n\n    //Function for adding/removing layers from a Decimal, even fractional layers (e.g. its slog10 representation).\n    //Moved this over to use the same critical section as tetrate/slog.\n    public layeradd10(diff: DecimalSource): Decimal {\n        diff = Decimal.fromValue_noAlloc(diff).toNumber();\n        const result = D(this);\n        if (diff >= 1) {\n            //bug fix: if result is very smol (mag < 0, layer > 0) turn it into 0 first\n            if (result.mag < 0 && result.layer > 0) {\n                result.sign = 0;\n                result.mag = 0;\n                result.layer = 0;\n            } else if (result.sign === -1 && result.layer == 0) {\n                //bug fix - for stuff like -3.layeradd10(1) we need to move the sign to the mag\n                result.sign = 1;\n                result.mag = -result.mag;\n            }\n            const layeradd = Math.trunc(diff);\n            diff -= layeradd;\n            result.layer += layeradd;\n        }\n        if (diff <= -1) {\n            const layeradd = Math.trunc(diff);\n            diff -= layeradd;\n            result.layer += layeradd;\n            if (result.layer < 0) {\n                for (let i = 0; i < 100; ++i) {\n                    result.layer++;\n                    result.mag = Math.log10(result.mag);\n                    if (!isFinite(result.mag)) {\n                        //another bugfix: if we hit -Infinity mag, then we should return negative infinity, not 0. 0.layeradd10(-1) h its this\n                        if (result.sign === 0) {\n                            result.sign = 1;\n                        }\n                        //also this, for 0.layeradd10(-2)\n                        if (result.layer < 0) {\n                            result.layer = 0;\n                        }\n                        return result.normalize();\n                    }\n                    if (result.layer >= 0) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        while (result.layer < 0) {\n            result.layer++;\n            result.mag = Math.log10(result.mag);\n        }\n        //bugfix: before we normalize: if we started with 0, we now need to manually fix a layer ourselves!\n        if (result.sign === 0) {\n            result.sign = 1;\n            if (result.mag === 0 && result.layer >= 1) {\n                result.layer -= 1;\n                result.mag = 1;\n            }\n        }\n        result.normalize();\n\n        //layeradd10: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 10 and iterated log base 10. Also equivalent to adding a fractional amount to the number's layer in its break_eternity.js representation.\n        if (diff !== 0) {\n            return result.layeradd(diff, 10); //safe, only calls positive height 1 payload tetration, slog and log\n        }\n\n        return result;\n    }\n\n    //layeradd: like adding 'diff' to the number's slog(base) representation. Very similar to tetrate base 'base' and iterated log base 'base'.\n    public layeradd(diff: number, base: DecimalSource): Decimal {\n        const slogthis = this.slog(base).toNumber();\n        const slogdest = slogthis + diff;\n        if (slogdest >= 0) {\n            return Decimal.tetrate(base, slogdest);\n        } else if (!Number.isFinite(slogdest)) {\n            return Decimal.dNaN;\n        } else if (slogdest >= -1) {\n            return Decimal.log(Decimal.tetrate(base, slogdest + 1), base);\n        } else {\n            return Decimal.log(Decimal.log(Decimal.tetrate(base, slogdest + 2), base), base);\n        }\n    }\n\n    //The Lambert W function, also called the omega function or product logarithm, is the solution W(x) === x*e^x.\n    // https://en.wikipedia.org/wiki/Lambert_W_function\n    //Some special values, for testing: https://en.wikipedia.org/wiki/Lambert_W_function#Special_values\n    public lambertw(): Decimal {\n        if (this.lt(-0.3678794411710499)) {\n            throw Error(\"lambertw is unimplemented for results less than -1, sorry!\");\n        } else if (this.mag < 0) {\n            return D(f_lambertw(this.toNumber()));\n        } else if (this.layer === 0) {\n            return D(f_lambertw(this.sign * this.mag));\n        } else if (this.layer === 1) {\n            return d_lambertw(this);\n        } else if (this.layer === 2) {\n            return d_lambertw(this);\n        }\n        if (this.layer >= 3) {\n            return FC_NN(this.sign, this.layer - 1, this.mag);\n        }\n\n        throw \"Unhandled behavior in lambertw()\";\n    }\n\n    //The super square-root function - what number, tetrated to height 2, equals this?\n    //Other sroots are possible to calculate probably through guess and check methods, this one is easy though.\n    // https://en.wikipedia.org/wiki/Tetration#Super-root\n    public ssqrt(): Decimal {\n        if (this.sign == 1 && this.layer >= 3) {\n            return FC_NN(this.sign, this.layer - 1, this.mag);\n        }\n        const lnx = this.ln();\n        return lnx.div(lnx.lambertw());\n    }\n    /*\n\nUnit tests for tetrate/iteratedexp/iteratedlog/layeradd10/layeradd/slog:\n(note: these won't be exactly precise with the new slog implementation, but that's okay)\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  var expected = first+both+1;\n  var result = new Decimal(10).layeradd10(first).layeradd10(both).slog();\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  first += both;\n  var expected = first-both+1;\n  var result = new Decimal(10).layeradd10(first).layeradd10(-both).slog();\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  var base = Math.random()*8+2;\n  var expected = first+both+1;\n  var result = new Decimal(base).layeradd(first, base).layeradd(both, base).slog(base);\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var first = Math.random()*100;\n  var both = Math.random()*100;\n  var base = Math.random()*8+2;\n  first += both;\n  var expected = first-both+1;\n  var result = new Decimal(base).layeradd(first, base).layeradd(-both, base).slog(base);\n  if (Number.isFinite(result.mag) && !Decimal.eq_tolerance(expected, result))\n  {\n      console.log(first + \", \" + both);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\nvar first = Math.round((Math.random()*30))/10;\nvar both = Math.round((Math.random()*30))/10;\nvar tetrateonly = Decimal.tetrate(10, first);\nvar tetrateandlog = Decimal.tetrate(10, first+both).iteratedlog(10, both);\nif (!Decimal.eq_tolerance(tetrateonly, tetrateandlog))\n{\n  console.log(first + \", \" + both);\n}\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\nvar first = Math.round((Math.random()*30))/10;\nvar both = Math.round((Math.random()*30))/10;\nvar base = Math.random()*8+2;\nvar tetrateonly = Decimal.tetrate(base, first);\nvar tetrateandlog = Decimal.tetrate(base, first+both).iteratedlog(base, both);\nif (!Decimal.eq_tolerance(tetrateonly, tetrateandlog))\n{\n  console.log(first + \", \" + both);\n}\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\nvar first = Math.round((Math.random()*30))/10;\nvar both = Math.round((Math.random()*30))/10;\nvar base = Math.random()*8+2;\nvar tetrateonly = Decimal.tetrate(base, first, base);\nvar tetrateandlog = Decimal.tetrate(base, first+both, base).iteratedlog(base, both);\nif (!Decimal.eq_tolerance(tetrateonly, tetrateandlog))\n{\n  console.log(first + \", \" + both);\n}\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var xex = new Decimal(-0.3678794411710499+Math.random()*100);\n  var x = Decimal.lambertw(xex);\n  if (!Decimal.eq_tolerance(xex, x.mul(Decimal.exp(x))))\n  {\n      console.log(xex);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var xex = new Decimal(-0.3678794411710499+Math.exp(Math.random()*100));\n  var x = Decimal.lambertw(xex);\n  if (!Decimal.eq_tolerance(xex, x.mul(Decimal.exp(x))))\n  {\n      console.log(xex);\n  }\n}\n\nfor (var i = 0; i < 1000; ++i)\n{\n  var a = Decimal.randomDecimalForTesting(Math.random() > 0.5 ? 0 : 1);\n  var b = Decimal.randomDecimalForTesting(Math.random() > 0.5 ? 0 : 1);\n  if (Math.random() > 0.5) { a = a.recip(); }\n  if (Math.random() > 0.5) { b = b.recip(); }\n  var c = a.add(b).toNumber();\n  if (Number.isFinite(c) && !Decimal.eq_tolerance(c, a.toNumber()+b.toNumber()))\n  {\n      console.log(a + \", \" + b);\n  }\n}\n\nfor (var i = 0; i < 100; ++i)\n{\n  var a = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  var b = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  if (Math.random() > 0.5) { a = a.recip(); }\n  if (Math.random() > 0.5) { b = b.recip(); }\n  var c = a.mul(b).toNumber();\n  if (Number.isFinite(c) && Number.isFinite(a.toNumber()) && Number.isFinite(b.toNumber()) && a.toNumber() != 0 && b.toNumber() != 0 && c != 0 && !Decimal.eq_tolerance(c, a.toNumber()*b.toNumber()))\n  {\n      console.log(\"Test 1: \" + a + \", \" + b);\n  }\n  else if (!Decimal.mul(a.recip(), b.recip()).eq_tolerance(Decimal.mul(a, b).recip()))\n  {\n      console.log(\"Test 3: \" + a + \", \" + b);\n  }\n}\n\nfor (var i = 0; i < 10; ++i)\n{\n  var a = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  var b = Decimal.randomDecimalForTesting(Math.round(Math.random()*4));\n  if (Math.random() > 0.5 && a.sign !== 0) { a = a.recip(); }\n  if (Math.random() > 0.5 && b.sign !== 0) { b = b.recip(); }\n  var c = a.pow(b);\n  var d = a.root(b.recip());\n  var e = a.pow(b.recip());\n  var f = a.root(b);\n\n  if (!c.eq_tolerance(d) && a.sign !== 0 && b.sign !== 0)\n  {\n    console.log(\"Test 1: \" + a + \", \" + b);\n  }\n  if (!e.eq_tolerance(f) && a.sign !== 0 && b.sign !== 0)\n  {\n    console.log(\"Test 2: \" + a + \", \" + b);\n  }\n}\n\nfor (var i = 0; i < 10; ++i)\n{\n  var a = Math.round(Math.random()*18-9);\n  var b = Math.round(Math.random()*100-50);\n  var c = Math.round(Math.random()*18-9);\n  var d = Math.round(Math.random()*100-50);\n  console.log(\"Decimal.pow(Decimal.fromMantissaExponent(\" + a + \", \" + b + \"), Decimal.fromMantissaExponent(\" + c + \", \" + d + \")).toString()\");\n}\n\n*/\n\n    //Pentation/pentate: The result of tetrating 'height' times in a row. An absurdly strong operator - Decimal.pentate(2, 4.28) and Decimal.pentate(10, 2.37) are already too huge for break_eternity.js!\n    // https://en.wikipedia.org/wiki/Pentation\n    public pentate(height = 2, payload: DecimalSource = FC_NN(1, 0, 1)): Decimal {\n        payload = D(payload);\n        const oldheight = height;\n        height = Math.trunc(height);\n        const fracheight = oldheight - height;\n\n        //I have no idea if this is a meaningful approximation for pentation to continuous heights, but it is monotonic and continuous.\n        if (fracheight !== 0) {\n            if (payload.eq(Decimal.dOne)) {\n                ++height;\n                payload = new Decimal(fracheight);\n            } else {\n                if (this.eq(10)) {\n                    payload = payload.layeradd10(fracheight);\n                } else {\n                    payload = payload.layeradd(fracheight, this);\n                }\n            }\n        }\n\n        for (let i = 0; i < height; ++i) {\n            payload = this.tetrate(payload.toNumber());\n            //bail if we're NaN\n            if (!isFinite(payload.layer) || !isFinite(payload.mag)) {\n                return payload.normalize();\n            }\n            //give up after 10 iterations if nothing is happening\n            if (i > 10) {\n                return payload;\n            }\n        }\n\n        return payload;\n    }\n\n    // trig functions!\n    public sin(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.sin(this.sign * this.mag));\n        }\n        return FC_NN(0, 0, 0);\n    }\n\n    public cos(): Decimal {\n        if (this.mag < 0) {\n            return Decimal.dOne;\n        }\n        if (this.layer === 0) {\n            return D(Math.cos(this.sign * this.mag));\n        }\n        return FC_NN(0, 0, 0);\n    }\n\n    public tan(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.tan(this.sign * this.mag));\n        }\n        return FC_NN(0, 0, 0);\n    }\n\n    public asin(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.asin(this.sign * this.mag));\n        }\n        return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    }\n\n    public acos(): Decimal {\n        if (this.mag < 0) {\n            return D(Math.acos(this.toNumber()));\n        }\n        if (this.layer === 0) {\n            return D(Math.acos(this.sign * this.mag));\n        }\n        return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n    }\n\n    public atan(): this | Decimal {\n        if (this.mag < 0) {\n            return this;\n        }\n        if (this.layer === 0) {\n            return D(Math.atan(this.sign * this.mag));\n        }\n        return D(Math.atan(this.sign * 1.8e308));\n    }\n\n    public sinh(): Decimal {\n        return this.exp()\n            .sub(this.negate().exp())\n            .div(2);\n    }\n\n    public cosh(): Decimal {\n        return this.exp()\n            .add(this.negate().exp())\n            .div(2);\n    }\n\n    public tanh(): Decimal {\n        return this.sinh().div(this.cosh());\n    }\n\n    public asinh(): Decimal {\n        return Decimal.ln(\n            this.add(\n                this.sqr()\n                    .add(1)\n                    .sqrt()\n            )\n        );\n    }\n\n    public acosh(): Decimal {\n        return Decimal.ln(\n            this.add(\n                this.sqr()\n                    .sub(1)\n                    .sqrt()\n            )\n        );\n    }\n\n    public atanh(): Decimal {\n        if (this.abs().gte(1)) {\n            return FC_NN(Number.NaN, Number.NaN, Number.NaN);\n        }\n\n        return Decimal.ln(this.add(1).div(D(1).sub(this))).div(2);\n    }\n\n    /**\n     * Joke function from Realm Grinder\n     */\n    public ascensionPenalty(ascensions: DecimalSource): Decimal {\n        if (ascensions === 0) {\n            return this;\n        }\n\n        return this.root(Decimal.pow(10, ascensions));\n    }\n\n    /**\n     * Joke function from Cookie Clicker. It's 'egg'\n     */\n    public egg(): Decimal {\n        return this.add(9);\n    }\n\n    public lessThanOrEqualTo(other: DecimalSource): boolean {\n        return this.cmp(other) < 1;\n    }\n\n    public lessThan(other: DecimalSource): boolean {\n        return this.cmp(other) < 0;\n    }\n\n    public greaterThanOrEqualTo(other: DecimalSource): boolean {\n        return this.cmp(other) > -1;\n    }\n\n    public greaterThan(other: DecimalSource): boolean {\n        return this.cmp(other) > 0;\n    }\n\n    // return Decimal;\n}\n\n// return Decimal;\n","import Decimal, { DecimalSource } from \"lib/break_eternity\";\nimport projInfo from \"data/projInfo.json\";\n\nexport default Decimal;\n\nconst decimalOne = new Decimal(1);\n\nexport function exponentialFormat(num: DecimalSource, precision: number, mantissa = true): string {\n    let e = Decimal.log10(num).floor();\n    let m = Decimal.div(num, Decimal.pow(10, e));\n    if (m.toStringWithDecimalPlaces(precision) === \"10\") {\n        m = decimalOne;\n        e = e.add(1);\n    }\n    const eString = e.gte(1e9)\n        ? format(e, Math.max(Math.max(precision, 3), projInfo.defaultDecimalsShown))\n        : e.gte(10000)\n        ? commaFormat(e, 0)\n        : e.toStringWithDecimalPlaces(0);\n    if (mantissa) {\n        return m.toStringWithDecimalPlaces(precision) + \"e\" + eString;\n    } else {\n        return \"e\" + eString;\n    }\n}\n\nexport function commaFormat(num: DecimalSource, precision: number): string {\n    if (num === null || num === undefined) {\n        return \"NaN\";\n    }\n    num = new Decimal(num);\n    if (num.mag < 0.001) {\n        return (0).toFixed(precision);\n    }\n    const init = num.toStringWithDecimalPlaces(precision);\n    const portions = init.split(\".\");\n    portions[0] = portions[0].replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n    if (portions.length == 1) return portions[0];\n    return portions[0] + \".\" + portions[1];\n}\n\nexport function regularFormat(num: DecimalSource, precision: number): string {\n    if (num === null || num === undefined) {\n        return \"NaN\";\n    }\n    num = new Decimal(num);\n    if (num.mag < 0.0001) {\n        return (0).toFixed(precision);\n    }\n    if (num.mag < 0.1 && precision !== 0) {\n        precision = Math.max(Math.max(precision, 4), projInfo.defaultDecimalsShown);\n    }\n    return num.toStringWithDecimalPlaces(precision);\n}\n\nconst eeee1000 = new Decimal(\"eeee1000\");\nconst e100000 = new Decimal(\"e100000\");\nconst e1000 = new Decimal(\"e1000\");\nconst e9 = new Decimal(1e9);\nconst e6 = new Decimal(1e6);\nconst e3 = new Decimal(1e3);\nconst nearOne = new Decimal(0.98);\nconst thousandth = new Decimal(0.001);\nconst zero = new Decimal(0);\nexport function format(num: DecimalSource, precision?: number, small?: boolean): string {\n    if (precision == null) precision = projInfo.defaultDecimalsShown;\n    small = small ?? projInfo.defaultShowSmall;\n    num = new Decimal(num);\n    if (isNaN(num.sign) || isNaN(num.layer) || isNaN(num.mag)) {\n        return \"NaN\";\n    }\n    if (num.sign < 0) {\n        return \"-\" + format(num.neg(), precision);\n    }\n    if (num.mag === Number.POSITIVE_INFINITY) {\n        return \"Infinity\";\n    }\n    if (num.gte(eeee1000)) {\n        const slog = num.slog();\n        if (slog.gte(e6)) {\n            return \"F\" + format(slog.floor());\n        } else {\n            return (\n                Decimal.pow(10, slog.sub(slog.floor())).toStringWithDecimalPlaces(3) +\n                \"F\" +\n                commaFormat(slog.floor(), 0)\n            );\n        }\n    } else if (num.gte(e100000)) {\n        return exponentialFormat(num, 0, false);\n    } else if (num.gte(e1000)) {\n        return exponentialFormat(num, 0);\n    } else if (num.gte(e9)) {\n        return exponentialFormat(num, precision);\n    } else if (num.gte(e3)) {\n        return commaFormat(num, 0);\n    } else if (num.gte(thousandth) || !small) {\n        return regularFormat(num, precision);\n    } else if (num.eq(zero)) {\n        return (0).toFixed(precision);\n    }\n\n    num = invertOOM(num);\n    if (num.lt(e1000)) {\n        const val = exponentialFormat(num, precision);\n        return val.replace(/([^(?:e|F)]*)$/, \"-$1\");\n    } else {\n        return format(num, precision) + \"\";\n    }\n}\n\nexport function formatWhole(num: DecimalSource): string {\n    num = new Decimal(num);\n    if (num.sign < 0) {\n        return \"-\" + formatWhole(num.neg());\n    }\n    if (num.gte(e9)) {\n        return format(num);\n    }\n    if (num.lte(nearOne) && !num.eq(zero)) {\n        return format(num);\n    }\n    return format(num, 0);\n}\n\nexport function formatTime(seconds: DecimalSource): string {\n    if (Decimal.lt(seconds, 0)) {\n        return \"-\" + formatTime(Decimal.neg(seconds));\n    }\n    if (Decimal.gt(seconds, 2 ** 51)) {\n        // integer precision limit\n        return format(Decimal.div(seconds, 31536000)) + \"y\";\n    }\n    seconds = new Decimal(seconds).toNumber();\n    if (seconds < 60) {\n        return format(seconds) + \"s\";\n    } else if (seconds < 3600) {\n        return formatWhole(Math.floor(seconds / 60)) + \"m \" + format(seconds % 60) + \"s\";\n    } else if (seconds < 86400) {\n        return (\n            formatWhole(Math.floor(seconds / 3600)) +\n            \"h \" +\n            formatWhole(Math.floor(seconds / 60) % 60) +\n            \"m \" +\n            formatWhole(seconds % 60) +\n            \"s\"\n        );\n    } else if (seconds < 31536000) {\n        return (\n            formatWhole(Math.floor(seconds / 84600) % 365) +\n            \"d \" +\n            formatWhole(Math.floor(seconds / 3600) % 24) +\n            \"h \" +\n            formatWhole(Math.floor(seconds / 60) % 60) +\n            \"m\"\n        );\n    } else {\n        return (\n            formatWhole(Math.floor(seconds / 31536000)) +\n            \"y \" +\n            formatWhole(Math.floor(seconds / 84600) % 365) +\n            \"d \" +\n            formatWhole(Math.floor(seconds / 3600) % 24) +\n            \"h\"\n        );\n    }\n}\n\nexport function toPlaces(x: DecimalSource, precision: number, maxAccepted: DecimalSource): string {\n    x = new Decimal(x);\n    let result = x.toStringWithDecimalPlaces(precision);\n    if (new Decimal(result).gte(maxAccepted)) {\n        result = Decimal.sub(maxAccepted, Math.pow(0.1, precision)).toStringWithDecimalPlaces(\n            precision\n        );\n    }\n    return result;\n}\n\n// Will also display very small numbers\nexport function formatSmall(x: DecimalSource, precision?: number): string {\n    return format(x, precision, true);\n}\n\nexport function invertOOM(x: DecimalSource): Decimal {\n    let e = Decimal.log10(x).ceil();\n    const m = Decimal.div(x, Decimal.pow(10, e));\n    e = e.neg();\n    x = new Decimal(10).pow(e).times(m);\n\n    return x;\n}\n","// Import Decimal and numberUtils from a different file to globally change which big num library gets used\n// This way switching out big number libraries just needs to happen here, not every file that needs big numbers\nimport { DecimalSource as RawDecimalSource } from \"lib/break_eternity\";\nimport Decimal, * as numberUtils from \"util/break_eternity\";\n\nexport const {\n    exponentialFormat,\n    commaFormat,\n    regularFormat,\n    format,\n    formatWhole,\n    formatTime,\n    toPlaces,\n    formatSmall,\n    invertOOM\n} = numberUtils;\n\nexport type DecimalSource = RawDecimalSource;\n\nwindow.Decimal = Decimal;\nwindow.exponentialFormat = exponentialFormat;\nwindow.commaFormat = commaFormat;\nwindow.regularFormat = regularFormat;\nwindow.format = format;\nwindow.formatWhole = formatWhole;\nwindow.formatTime = formatTime;\nwindow.toPlaces = toPlaces;\nwindow.formatSmall = formatSmall;\nwindow.invertOOM = invertOOM;\n\nexport default Decimal;\n","export type WithRequired<T, K extends keyof T> = T & { [P in K]-?: T[P] };\n\n// Reference:\n// https://stackoverflow.com/questions/7225407/convert-camelcasetext-to-sentence-case-text\nexport function camelToTitle(camel: string): string {\n    let title = camel.replace(/([A-Z])/g, \" $1\");\n    title = title.charAt(0).toUpperCase() + title.slice(1);\n    return title;\n}\n\nexport function isPlainObject(object: unknown): boolean {\n    return Object.prototype.toString.call(object) === \"[object Object]\";\n}\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function isFunction(func: unknown): func is Function {\n    return typeof func === \"function\";\n}\n\nexport enum Direction {\n    Up = \"Up\",\n    Down = \"Down\",\n    Left = \"Left\",\n    Right = \"Right\",\n    Default = \"Up\"\n}\n","import { computed, Ref } from \"vue\";\nimport { isFunction } from \"./common\";\n\nexport const DoNotCache = Symbol(\"DoNotCache\");\n\nexport type Computable<T> = T | Ref<T> | (() => T);\nexport type ProcessedComputable<T> = T | Ref<T>;\nexport type GetComputableType<T> = T extends { [DoNotCache]: true }\n    ? T\n    : T extends () => infer S\n    ? Ref<S>\n    : undefined extends T\n    ? undefined\n    : T;\nexport type GetComputableTypeWithDefault<T, S> = undefined extends T\n    ? S\n    : GetComputableType<NonNullable<T>>;\nexport type UnwrapComputableType<T> = T extends Ref<infer S> ? S : T extends () => infer S ? S : T;\n\nexport type ComputableKeysOf<T> = Pick<\n    T,\n    {\n        [K in keyof T]: T[K] extends Computable<unknown> ? K : never;\n    }[keyof T]\n>;\n\n// TODO fix the typing of this function, such that casting isn't necessary and can be used to\n// detect if a createX function is validly written\nexport function processComputable<T, S extends keyof ComputableKeysOf<T>>(\n    obj: T,\n    key: S\n): asserts obj is T & { [K in S]: ProcessedComputable<UnwrapComputableType<T[S]>> } {\n    const computable = obj[key];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (isFunction(computable) && computable.length === 0 && !(computable as any)[DoNotCache]) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        obj[key] = computed(computable.bind(obj));\n    }\n}\n\nexport function convertComputable<T>(obj: Computable<T>): ProcessedComputable<T> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (isFunction(obj) && !(obj as any)[DoNotCache]) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        obj = computed(obj);\n    }\n    return obj as ProcessedComputable<T>;\n}\n","import Decimal from \"./bignum\";\n\nexport const ProxyState = Symbol(\"ProxyState\");\nexport const ProxyPath = Symbol(\"ProxyPath\");\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ProxiedWithState<T> = NonNullable<T> extends Record<PropertyKey, any>\n    ? NonNullable<T> extends Decimal\n        ? T\n        : {\n              [K in keyof T]: ProxiedWithState<T[K]>;\n          } & {\n              [ProxyState]: T;\n              [ProxyPath]: string[];\n          }\n    : T;\n\n// Takes a function that returns an object and pretends to be that object\n// Note that the object is lazily calculated\nexport function createLazyProxy<T extends object, S>(\n    objectFunc: (baseObject: S) => T & S,\n    baseObject: S = {} as S\n): T {\n    const obj: S & Partial<T> = baseObject;\n    let calculated = false;\n    function calculateObj(): T {\n        if (!calculated) {\n            Object.assign(obj, objectFunc(obj));\n            calculated = true;\n        }\n        return obj as S & T;\n    }\n\n    return new Proxy(obj, {\n        get(target, key) {\n            if (key === ProxyState) {\n                return calculateObj();\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return (calculateObj() as any)[key];\n        },\n        set(target, key, value) {\n            // TODO give warning about this? It should only be done with caution\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (calculateObj() as any)[key] = value;\n            return true;\n        },\n        has(target, key) {\n            if (key === ProxyState) {\n                return true;\n            }\n            return Reflect.has(calculateObj(), key);\n        },\n        ownKeys() {\n            return Reflect.ownKeys(calculateObj());\n        },\n        getOwnPropertyDescriptor(target, key) {\n            if (!calculated) {\n                Object.assign(obj, objectFunc(obj));\n                calculated = true;\n            }\n            return Object.getOwnPropertyDescriptor(target, key);\n        }\n    }) as S & T;\n}\n","import projInfo from \"data/projInfo.json\";\nimport player, { Player, PlayerData, stringifySave } from \"game/player\";\nimport settings, { loadSettings } from \"game/settings\";\nimport { ProxyState } from \"./proxies\";\nimport LZString from \"lz-string\";\n\nexport function setupInitialStore(player: Partial<PlayerData> = {}): Player {\n    return Object.assign(\n        {\n            id: `${projInfo.id}-0`,\n            name: \"Default Save\",\n            tabs: projInfo.initialTabs.slice(),\n            time: Date.now(),\n            autosave: true,\n            offlineProd: true,\n            offlineTime: 0,\n            timePlayed: 0,\n            keepGoing: false,\n            modID: projInfo.id,\n            modVersion: projInfo.versionNumber,\n            layers: {}\n        },\n        player\n    ) as Player;\n}\n\nexport function save(playerData?: PlayerData): string {\n    let stringifiedSave = stringifySave(playerData ?? player[ProxyState]);\n    switch (projInfo.saveEncoding) {\n        default:\n            console.warn(`Unknown save encoding: ${projInfo.saveEncoding}. Defaulting to lz`);\n        case \"lz\":\n            stringifiedSave = LZString.compressToUTF16(stringifiedSave);\n            break;\n        case \"base64\":\n            stringifiedSave = btoa(unescape(encodeURIComponent(stringifiedSave)));\n            break;\n        case \"plain\":\n            break;\n    }\n    localStorage.setItem((playerData ?? player[ProxyState]).id, stringifiedSave);\n    return stringifiedSave;\n}\n\nexport async function load(): Promise<void> {\n    // Load global settings\n    loadSettings();\n\n    try {\n        let save = localStorage.getItem(settings.active);\n        if (save == null) {\n            await loadSave(newSave());\n            return;\n        }\n        if (save[0] === \"{\") {\n            // plaintext. No processing needed\n        } else if (save[0] === \"e\") {\n            // Assumed to be base64, which starts with e\n            save = decodeURIComponent(escape(atob(save)));\n        } else if (save[0] === \"\") {\n            // Assumed to be lz, which starts with \n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            save = LZString.decompressFromUTF16(save)!;\n        } else {\n            throw `Unable to determine save encoding`;\n        }\n        const player = JSON.parse(save);\n        if (player.modID !== projInfo.id) {\n            await loadSave(newSave());\n            return;\n        }\n        player.id = settings.active;\n        await loadSave(player);\n    } catch (e) {\n        console.error(\"Failed to load save. Falling back to new save.\\n\", e);\n        await loadSave(newSave());\n    }\n}\n\nexport function newSave(): PlayerData {\n    const id = getUniqueID();\n    const player = setupInitialStore({ id });\n    save(player);\n\n    settings.saves.push(id);\n\n    return player;\n}\n\nexport function getUniqueID(): string {\n    let id,\n        i = 0;\n    do {\n        id = `${projInfo.id}-${i++}`;\n    } while (localStorage.getItem(id));\n    return id;\n}\n\nexport async function loadSave(playerObj: Partial<PlayerData>): Promise<void> {\n    console.info(\"Loading save\", playerObj);\n    const { layers, removeLayer, addLayer } = await import(\"game/layers\");\n    const { fixOldSave, getInitialLayers } = await import(\"data/projEntry\");\n\n    for (const layer in layers) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        removeLayer(layers[layer]!);\n    }\n    getInitialLayers(playerObj).forEach(layer => addLayer(layer, playerObj));\n\n    playerObj = setupInitialStore(playerObj);\n    if (playerObj.offlineProd && playerObj.time) {\n        if (playerObj.offlineTime == undefined) playerObj.offlineTime = 0;\n        playerObj.offlineTime += (Date.now() - playerObj.time) / 1000;\n    }\n    playerObj.time = Date.now();\n    if (playerObj.modVersion !== projInfo.versionNumber) {\n        fixOldSave(playerObj.modVersion, playerObj);\n    }\n\n    Object.assign(player, playerObj);\n    settings.active = player.id;\n}\n\nsetInterval(() => {\n    if (player.autosave) {\n        save();\n    }\n}, 1000);\nwindow.onbeforeunload = () => {\n    if (player.autosave) {\n        save();\n    }\n};\nwindow.save = save;\nexport const hardReset = (window.hardReset = async () => {\n    await loadSave(newSave());\n});\n","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    width: { default: \"8px\" },\n    height: { default: \"17px\" }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    style: _normalizeStyle({ width: __props.width, height: __props.height })\n  }, null, 4))\n}\n}\n\n})","import script from \"./Spacer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Spacer.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Decimal, { DecimalSource, format, formatWhole } from \"util/bignum\";\nimport { computed, ComputedRef, isRef, ref, Ref, watch } from \"vue\";\nimport { globalBus } from \"game/events\";\nimport { State, persistent } from \"game/persistence\";\n\nexport interface Resource<T = DecimalSource> extends Ref<T> {\n    [x: string]: DecimalSource;\n    displayName: string;\n    precision: number;\n    small?: boolean;\n}\n\nexport function createResource<T extends State>(\n    defaultValue: T | Ref<T>,\n    displayName = \"points\",\n    precision = 0,\n    small = undefined\n): Resource<T> {\n    const resource: Partial<Resource<T>> = isRef(defaultValue)\n        ? defaultValue\n        : persistent(defaultValue);\n    resource.displayName = displayName;\n    resource.precision = precision;\n    resource.small = small;\n    return resource as Resource<T>;\n}\n\nexport function trackBest(resource: Resource): Ref<DecimalSource> {\n    const best = persistent(resource.value);\n    watch(resource, amount => {\n        if (Decimal.gt(amount, best.value)) {\n            best.value = amount;\n        }\n    });\n    return best;\n}\n\nexport function trackTotal(resource: Resource): Ref<DecimalSource> {\n    const total = persistent(resource.value);\n    watch(resource, (amount, prevAmount) => {\n        if (Decimal.gt(amount, prevAmount)) {\n            total.value = Decimal.add(total.value, Decimal.sub(amount, prevAmount));\n        }\n    });\n    return total;\n}\n\nconst tetra8 = new Decimal(\"10^^8\");\nconst e100 = new Decimal(\"1e100\");\nexport function trackOOMPS(\n    resource: Resource,\n    pointGain?: ComputedRef<DecimalSource>\n): Ref<string> {\n    const oomps = ref<DecimalSource>(0);\n    const oompsMag = ref(0);\n    const lastPoints = ref<DecimalSource>(0);\n\n    globalBus.on(\"update\", diff => {\n        oompsMag.value = 0;\n        if (Decimal.lte(resource.value, e100)) {\n            lastPoints.value = resource.value;\n            return;\n        }\n\n        let curr = resource.value;\n        let prev = lastPoints.value;\n        lastPoints.value = curr;\n        if (Decimal.gt(curr, prev)) {\n            if (Decimal.gte(curr, tetra8)) {\n                curr = Decimal.slog(curr, 1e10);\n                prev = Decimal.slog(prev, 1e10);\n                oomps.value = curr.sub(prev).div(diff);\n                oompsMag.value = -1;\n            } else {\n                while (\n                    Decimal.div(curr, prev).log(10).div(diff).gte(\"100\") &&\n                    oompsMag.value <= 5 &&\n                    Decimal.gt(prev, 0)\n                ) {\n                    curr = Decimal.log10(curr);\n                    prev = Decimal.log10(prev);\n                    oomps.value = curr.sub(prev).div(diff);\n                    oompsMag.value++;\n                }\n            }\n        }\n    });\n\n    const oompsString = computed(() => {\n        if (oompsMag.value === 0) {\n            return pointGain\n                ? format(pointGain.value, resource.precision, resource.small) +\n                      \" \" +\n                      resource.displayName +\n                      \"/s\"\n                : \"\";\n        }\n        return (\n            format(oomps.value) +\n            \" OOM\" +\n            (oompsMag.value < 0 ? \"^OOM\" : \"^\" + oompsMag.value) +\n            \"s/sec\"\n        );\n    });\n    return oompsString;\n}\n\nexport function displayResource(resource: Resource, overrideAmount?: DecimalSource): string {\n    const amount = overrideAmount ?? resource.value;\n    if (Decimal.eq(resource.precision, 0)) {\n        return formatWhole(amount);\n    }\n    return format(amount, resource.precision, resource.small);\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Links = _resolveComponent(\"Links\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.nodesComp))),\n    (_ctx.leftNodesComp)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.leftNodesComp), { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    (_ctx.rightNodesComp)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.rightNodesComp), { key: 1 }))\n      : _createCommentVNode(\"\", true),\n    (_ctx.branches)\n      ? (_openBlock(), _createBlock(_component_Links, {\n          key: 2,\n          links: _ctx.unref(_ctx.branches)\n        }, null, 8, [\"links\"]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"x1\", \"y1\", \"x2\", \"y2\"]\n\nimport { Link } from \"features/links/links\";\nimport { FeatureNode } from \"game/layers\";\nimport { computed, toRefs } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    link: null,\n    startNode: null,\n    endNode: null,\n    boundingRect: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as {\n    link: Link;\n    startNode: FeatureNode;\n    endNode: FeatureNode;\n    boundingRect: DOMRect | undefined;\n}\n\n\nconst props = toRefs(_props);\n\nconst startPosition = computed(() => {\n    const rect = props.startNode.value.rect;\n    const boundingRect = props.boundingRect.value;\n    const position = boundingRect\n        ? {\n              x: rect.x + rect.width / 2 - boundingRect.x,\n              y: rect.y + rect.height / 2 - boundingRect.y\n          }\n        : { x: 0, y: 0 };\n    if (props.link.value.offsetStart) {\n        position.x += props.link.value.offsetStart.x;\n        position.y += props.link.value.offsetStart.y;\n    }\n    return position;\n});\n\nconst endPosition = computed(() => {\n    const rect = props.endNode.value.rect;\n    const boundingRect = props.boundingRect.value;\n    const position = boundingRect\n        ? {\n              x: rect.x + rect.width / 2 - boundingRect.x,\n              y: rect.y + rect.height / 2 - boundingRect.y\n          }\n        : { x: 0, y: 0 };\n    if (props.link.value.offsetEnd) {\n        position.x += props.link.value.offsetEnd.x;\n        position.y += props.link.value.offsetEnd.y;\n    }\n    return position;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"line\", _mergeProps({\n    \"stroke-width\": \"15px\",\n    stroke: \"white\"\n  }, __props.link, {\n    x1: _unref(startPosition).x,\n    y1: _unref(startPosition).y,\n    x2: _unref(endPosition).x,\n    y2: _unref(endPosition).y\n  }), null, 16, _hoisted_1))\n}\n}\n\n})","import script from \"./Link.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Link.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeProps as _normalizeProps, guardReactiveProps as _guardReactiveProps, mergeProps as _mergeProps, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nimport { Link } from \"features/links/links\";\nimport { FeatureNode, NodesInjectionKey } from \"game/layers\";\nimport { computed, inject, nextTick, onMounted, ref, toRef } from \"vue\";\nimport LinkVue from \"./Link.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    links: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as { links?: Link[] }\n\n\nconst links = toRef(_props, \"links\");\n\nconst resizeObserver = new ResizeObserver(updateNodes);\n\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\nconst nodes = inject(NodesInjectionKey)!;\n\nconst resizeListener = ref<Element | null>(null);\n\nonMounted(() => {\n    // ResizeListener exists because ResizeObserver's don't work when told to observe an SVG element\n    const resListener = resizeListener.value;\n    if (resListener != null) {\n        resizeObserver.observe(resListener);\n    }\n});\n\nlet isDirty = true;\nlet boundingRect = ref(resizeListener.value?.getBoundingClientRect());\nfunction updateNodes() {\n    if (resizeListener.value != null && isDirty) {\n        isDirty = false;\n        nextTick(() => {\n            boundingRect.value = resizeListener.value?.getBoundingClientRect();\n            (Object.values(nodes.value) as FeatureNode[]).forEach(\n                node => (node.rect = node.element.getBoundingClientRect())\n            );\n            isDirty = true;\n        });\n    }\n}\ndocument.fonts.ready.then(updateNodes);\n\nconst validLinks = computed(() => {\n    const n = nodes.value;\n    return (\n        links.value?.filter(link => n[link.startNode.id]?.rect && n[link.startNode.id]?.rect) ?? []\n    );\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_unref(validLinks))\n      ? (_openBlock(), _createElementBlock(\"svg\", _normalizeProps(_mergeProps({ key: 0 }, _ctx.$attrs)), [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(validLinks), (link, index) => {\n            return (_openBlock(), _createBlock(LinkVue, {\n              key: index,\n              link: link,\n              boundingRect: _unref(boundingRect),\n              startNode: _unref(nodes)[link.startNode.id]!,\n              endNode: _unref(nodes)[link.endNode.id]!\n            }, null, 8, [\"link\", \"boundingRect\", \"startNode\", \"endNode\"]))\n          }), 128))\n        ], 16))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      ref_key: \"resizeListener\",\n      ref: resizeListener,\n      class: \"resize-listener\"\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","import script from \"./Links.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Links.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Links.vue?vue&type=style&index=0&id=4144d5d3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4144d5d3\"]])\n\nexport default __exports__","\nimport \"components/common/table.css\";\nimport { GenericTreeNode, TreeBranch } from \"features/trees/tree\";\nimport { coerceComponent, processedPropType, renderJSX, unwrapRef } from \"util/vue\";\nimport { Component, defineComponent, shallowRef, toRefs, unref, watchEffect } from \"vue\";\nimport Links from \"features/links/Links.vue\";\nimport { jsx } from \"features/feature\";\n\nexport default defineComponent({\n    props: {\n        nodes: {\n            type: processedPropType<GenericTreeNode[][]>(Array),\n            required: true\n        },\n        leftSideNodes: processedPropType<GenericTreeNode[]>(Array),\n        rightSideNodes: processedPropType<GenericTreeNode[]>(Array),\n        branches: processedPropType<TreeBranch[]>(Array)\n    },\n    components: { Links },\n    setup(props) {\n        const { nodes, leftSideNodes, rightSideNodes } = toRefs(props);\n\n        const nodesComp = shallowRef<Component | \"\">();\n        watchEffect(() => {\n            const currNodes = unwrapRef(nodes);\n            nodesComp.value = coerceComponent(\n                jsx(() => (\n                    <>\n                        {currNodes.map(row => (\n                            <span class=\"row tree-row\" style=\"margin: 50px auto;\">\n                                {row.map(renderJSX)}\n                            </span>\n                        ))}\n                    </>\n                ))\n            );\n        });\n\n        const leftNodesComp = shallowRef<Component | \"\">();\n        watchEffect(() => {\n            const currNodes = unwrapRef(leftSideNodes);\n            leftNodesComp.value = currNodes\n                ? coerceComponent(\n                      jsx(() => (\n                          <span class=\"left-side-nodes small\">{currNodes.map(renderJSX)}</span>\n                      ))\n                  )\n                : \"\";\n        });\n\n        const rightNodesComp = shallowRef<Component | \"\">();\n        watchEffect(() => {\n            const currNodes = unwrapRef(rightSideNodes);\n            rightNodesComp.value = currNodes\n                ? coerceComponent(\n                      jsx(() => <span class=\"side-nodes small\">{currNodes.map(renderJSX)}</span>)\n                  )\n                : \"\";\n        });\n\n        return {\n            unref,\n            nodesComp,\n            leftNodesComp,\n            rightNodesComp\n        };\n    }\n});\n","import { render } from \"./Tree.vue?vue&type=template&id=aa87859c&scoped=true&ts=true\"\nimport script from \"./Tree.vue?vue&type=script&lang=tsx\"\nexport * from \"./Tree.vue?vue&type=script&lang=tsx\"\n\nimport \"./Tree.vue?vue&type=style&index=0&id=aa87859c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aa87859c\"]])\n\nexport default __exports__","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle({ visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined }),\n        class: _normalizeClass({\n            treeNode: true,\n            can: _ctx.unref(_ctx.canClick),\n            ..._ctx.unref(_ctx.classes)\n        }),\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClick && _ctx.onClick(...args))),\n        onMousedown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onMouseleave: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onMouseup: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchstart: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onTouchend: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchcancel: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args)))\n      }, [\n        _createElementVNode(\"div\", {\n          style: _normalizeStyle([\n                {\n                    backgroundColor: _ctx.unref(_ctx.color),\n                    boxShadow: `-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${_ctx.unref(\n                        _ctx.glowColor\n                    )}`\n                },\n                _ctx.unref(_ctx.style) ?? []\n            ])\n        }, [\n          (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp))))\n        ], 4),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 38))\n    : _createCommentVNode(\"\", true)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { RegisterNodeInjectionKey, UnregisterNodeInjectionKey } from \"game/layers\";\nimport { computed, inject, onUnmounted, ref, toRefs, unref, watch } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    id: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as { id: string }\n\n\nconst props = toRefs(_props);\n\nconst register = inject(RegisterNodeInjectionKey);\nconst unregister = inject(UnregisterNodeInjectionKey);\n\nconst node = ref<HTMLElement | null>(null);\nconst parentNode = computed(() => node.value && node.value.parentElement);\n\nif (register && unregister) {\n    watch([parentNode, props.id], ([newNode, newID], [prevNode, prevID]) => {\n        if (prevNode) {\n            unregister(unref(prevID));\n        }\n        if (newNode) {\n            register(newID, newNode);\n        }\n    });\n\n    onUnmounted(() => unregister(unref(props.id)));\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"node\",\n    ref_key: \"node\",\n    ref: node\n  }, null, 512))\n}\n}\n\n})","import script from \"./Node.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Node.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Node.vue?vue&type=style&index=0&id=63ded336&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-63ded336\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c476c56a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"mark star\"\n}\nconst _hoisted_3 = [\"src\"]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    mark: { type: [Boolean, String] }\n  },\n  setup(__props: any) {\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.mark)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (__props.mark === true)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n          : (_openBlock(), _createElementBlock(\"img\", {\n              key: 1,\n              class: \"mark\",\n              src: __props.mark\n            }, null, 8, _hoisted_3))\n      ]))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./MarkNode.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MarkNode.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MarkNode.vue?vue&type=style&index=0&id=c476c56a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c476c56a\"]])\n\nexport default __exports__","\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { CoercableComponent, StyleValue, Visibility } from \"features/feature\";\nimport {\n    computeOptionalComponent,\n    isCoercableComponent,\n    processedPropType,\n    setupHoldToClick\n} from \"util/vue\";\nimport { defineComponent, PropType, toRefs, unref } from \"vue\";\n\nexport default defineComponent({\n    props: {\n        display: processedPropType<CoercableComponent>(Object, String, Function),\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        onClick: Function as PropType<(e?: MouseEvent | TouchEvent) => void>,\n        onHold: Function as PropType<VoidFunction>,\n        color: processedPropType<string>(String),\n        glowColor: processedPropType<string>(String),\n        canClick: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        MarkNode,\n        Node\n    },\n    setup(props) {\n        const { onClick, onHold, display } = toRefs(props);\n\n        const comp = computeOptionalComponent(display);\n\n        const { start, stop } = setupHoldToClick(onClick, onHold);\n\n        return {\n            start,\n            stop,\n            comp,\n            unref,\n            Visibility,\n            isCoercableComponent\n        };\n    }\n});\n","import { render } from \"./TreeNode.vue?vue&type=template&id=2f0d200c&scoped=true&ts=true\"\nimport script from \"./TreeNode.vue?vue&type=script&lang=ts\"\nexport * from \"./TreeNode.vue?vue&type=script&lang=ts\"\n\nimport \"./TreeNode.vue?vue&type=style&index=0&id=2f0d200c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f0d200c\"]])\n\nexport default __exports__","import {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { Link } from \"features/links/links\";\nimport { GenericReset } from \"features/reset\";\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport TreeComponent from \"features/trees/Tree.vue\";\nimport TreeNodeComponent from \"features/trees/TreeNode.vue\";\nimport Decimal, { DecimalSource, format, formatWhole } from \"util/bignum\";\nimport {\n    Computable,\n    convertComputable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, ref, Ref, shallowRef, unref } from \"vue\";\n\nexport const TreeNodeType = Symbol(\"TreeNode\");\nexport const TreeType = Symbol(\"Tree\");\n\nexport interface TreeNodeOptions {\n    visibility?: Computable<Visibility>;\n    canClick?: Computable<boolean>;\n    color?: Computable<string>;\n    display?: Computable<CoercableComponent>;\n    glowColor?: Computable<string>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    mark?: Computable<boolean | string>;\n    reset?: GenericReset;\n    onClick?: (e?: MouseEvent | TouchEvent) => void;\n    onHold?: VoidFunction;\n}\n\nexport interface BaseTreeNode {\n    id: string;\n    type: typeof TreeNodeType;\n    [Component]: typeof TreeNodeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type TreeNode<T extends TreeNodeOptions> = Replace<\n    T & BaseTreeNode,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        canClick: GetComputableTypeWithDefault<T[\"canClick\"], true>;\n        color: GetComputableType<T[\"color\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        glowColor: GetComputableType<T[\"glowColor\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n    }\n>;\n\nexport type GenericTreeNode = Replace<\n    TreeNode<TreeNodeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canClick: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createTreeNode<T extends TreeNodeOptions>(\n    optionsFunc?: OptionsFunc<T, TreeNode<T>, BaseTreeNode>\n): TreeNode<T> {\n    return createLazyProxy(() => {\n        const treeNode = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        treeNode.id = getUniqueID(\"treeNode-\");\n        treeNode.type = TreeNodeType;\n        treeNode[Component] = TreeNodeComponent;\n\n        processComputable(treeNode as T, \"visibility\");\n        setDefault(treeNode, \"visibility\", Visibility.Visible);\n        processComputable(treeNode as T, \"canClick\");\n        setDefault(treeNode, \"canClick\", true);\n        processComputable(treeNode as T, \"color\");\n        processComputable(treeNode as T, \"display\");\n        processComputable(treeNode as T, \"glowColor\");\n        processComputable(treeNode as T, \"classes\");\n        processComputable(treeNode as T, \"style\");\n        processComputable(treeNode as T, \"mark\");\n\n        if (treeNode.onClick) {\n            const onClick = treeNode.onClick.bind(treeNode);\n            treeNode.onClick = function () {\n                if (unref(treeNode.canClick)) {\n                    onClick();\n                }\n            };\n        }\n        if (treeNode.onHold) {\n            const onHold = treeNode.onHold.bind(treeNode);\n            treeNode.onHold = function () {\n                if (unref(treeNode.canClick)) {\n                    onHold();\n                }\n            };\n        }\n\n        treeNode[GatherProps] = function (this: GenericTreeNode) {\n            const {\n                display,\n                visibility,\n                style,\n                classes,\n                onClick,\n                onHold,\n                color,\n                glowColor,\n                canClick,\n                mark,\n                id\n            } = this;\n            return {\n                display,\n                visibility,\n                style,\n                classes,\n                onClick,\n                onHold,\n                color,\n                glowColor,\n                canClick,\n                mark,\n                id\n            };\n        };\n\n        return treeNode as unknown as TreeNode<T>;\n    });\n}\n\nexport interface TreeBranch extends Omit<Link, \"startNode\" | \"endNode\"> {\n    startNode: GenericTreeNode;\n    endNode: GenericTreeNode;\n}\n\nexport interface TreeOptions {\n    visibility?: Computable<Visibility>;\n    nodes: Computable<GenericTreeNode[][]>;\n    leftSideNodes?: Computable<GenericTreeNode[]>;\n    rightSideNodes?: Computable<GenericTreeNode[]>;\n    branches?: Computable<TreeBranch[]>;\n    resetPropagation?: ResetPropagation;\n    onReset?: (node: GenericTreeNode) => void;\n}\n\nexport interface BaseTree {\n    id: string;\n    links: Ref<Link[]>;\n    reset: (node: GenericTreeNode) => void;\n    isResetting: Ref<boolean>;\n    resettingNode: Ref<GenericTreeNode | null>;\n    type: typeof TreeType;\n    [Component]: typeof TreeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Tree<T extends TreeOptions> = Replace<\n    T & BaseTree,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        nodes: GetComputableType<T[\"nodes\"]>;\n        leftSideNodes: GetComputableType<T[\"leftSideNodes\"]>;\n        rightSideNodes: GetComputableType<T[\"rightSideNodes\"]>;\n        branches: GetComputableType<T[\"branches\"]>;\n    }\n>;\n\nexport type GenericTree = Replace<\n    Tree<TreeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createTree<T extends TreeOptions>(\n    optionsFunc: OptionsFunc<T, Tree<T>, BaseTree>\n): Tree<T> {\n    return createLazyProxy(() => {\n        const tree = optionsFunc();\n        tree.id = getUniqueID(\"tree-\");\n        tree.type = TreeType;\n        tree[Component] = TreeComponent;\n\n        tree.isResetting = ref(false);\n        tree.resettingNode = shallowRef(null);\n\n        tree.reset = function (node) {\n            const genericTree = tree as GenericTree;\n            genericTree.isResetting.value = true;\n            genericTree.resettingNode.value = node;\n            genericTree.resetPropagation?.(genericTree, node);\n            genericTree.onReset?.(node);\n            genericTree.isResetting.value = false;\n            genericTree.resettingNode.value = null;\n        };\n        tree.links = computed(() => {\n            const genericTree = tree as GenericTree;\n            return unref(genericTree.branches) ?? [];\n        });\n\n        processComputable(tree as T, \"visibility\");\n        setDefault(tree, \"visibility\", Visibility.Visible);\n        processComputable(tree as T, \"nodes\");\n        processComputable(tree as T, \"leftSideNodes\");\n        processComputable(tree as T, \"rightSideNodes\");\n        processComputable(tree as T, \"branches\");\n\n        tree[GatherProps] = function (this: GenericTree) {\n            const { nodes, leftSideNodes, rightSideNodes, branches } = this;\n            return { nodes, leftSideNodes, rightSideNodes, branches };\n        };\n\n        return tree as unknown as Tree<T>;\n    });\n}\n\nexport type ResetPropagation = {\n    (tree: GenericTree, resettingNode: GenericTreeNode): void;\n};\n\nexport const defaultResetPropagation = function (\n    tree: GenericTree,\n    resettingNode: GenericTreeNode\n): void {\n    const nodes = unref(tree.nodes);\n    const row = nodes.findIndex(nodes => nodes.includes(resettingNode)) - 1;\n    for (let x = row; x >= 0; x--) {\n        nodes[x].forEach(node => node.reset?.reset());\n    }\n};\n\nexport const invertedResetPropagation = function (\n    tree: GenericTree,\n    resettingNode: GenericTreeNode\n): void {\n    const nodes = unref(tree.nodes);\n    const row = nodes.findIndex(nodes => nodes.includes(resettingNode)) + 1;\n    for (let x = row; x < nodes.length; x++) {\n        nodes[x].forEach(node => node.reset?.reset());\n    }\n};\n\nexport const branchedResetPropagation = function (\n    tree: GenericTree,\n    resettingNode: GenericTreeNode\n): void {\n    const visitedNodes = [resettingNode];\n    let currentNodes = [resettingNode];\n    if (tree.branches != null) {\n        const branches = unref(tree.branches);\n        while (currentNodes.length > 0) {\n            const nextNodes: GenericTreeNode[] = [];\n            currentNodes.forEach(node => {\n                branches\n                    .filter(branch => branch.startNode === node || branch.endNode === node)\n                    .map(branch => {\n                        if (branch.startNode === node) {\n                            return branch.endNode;\n                        }\n                        return branch.startNode;\n                    })\n                    .filter(node => !visitedNodes.includes(node))\n                    .forEach(node => {\n                        // Check here instead of in the filter because this check's results may\n                        // change as we go through each node\n                        if (!nextNodes.includes(node)) {\n                            nextNodes.push(node);\n                            node.reset?.reset();\n                        }\n                    });\n            });\n            currentNodes = nextNodes;\n            visitedNodes.push(...currentNodes);\n        }\n    }\n};\n\nexport function createResourceTooltip(\n    resource: Resource,\n    requiredResource: Resource | null = null,\n    requirement: Computable<DecimalSource> = 0\n): Ref<string> {\n    const req = convertComputable(requirement);\n    return computed(() => {\n        if (requiredResource == null || Decimal.gte(resource.value, unref(req))) {\n            return displayResource(resource) + \" \" + resource.displayName;\n        }\n        return `Reach ${\n            Decimal.eq(requiredResource.precision, 0)\n                ? formatWhole(unref(req))\n                : format(unref(req), requiredResource.precision)\n        } ${requiredResource.displayName} to unlock (You have ${\n            Decimal.eq(requiredResource.precision, 0)\n                ? formatWhole(requiredResource.value)\n                : format(requiredResource.value, requiredResource.precision)\n        })`;\n    });\n}\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5e580749\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.notifyStyle,\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        class: _normalizeClass({\n            feature: true,\n            challenge: true,\n            done: _ctx.unref(_ctx.completed),\n            canStart: _ctx.unref(_ctx.canStart) && !_ctx.unref(_ctx.maxed),\n            maxed: _ctx.unref(_ctx.maxed),\n            ..._ctx.unref(_ctx.classes)\n        })\n      }, [\n        _createElementVNode(\"button\", {\n          class: \"toggleChallenge\",\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.toggle && _ctx.toggle(...args))),\n          disabled: !_ctx.unref(_ctx.canStart) || _ctx.unref(_ctx.maxed)\n        }, _toDisplayString(_ctx.buttonText), 9, _hoisted_1),\n        (_ctx.unref(_ctx.comp))\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp)), { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","import { globalBus } from \"game/events\";\nimport Toast from \"vue-toastification\";\nimport \"vue-toastification/dist/index.css\";\n\nglobalBus.on(\"setupVue\", vue => vue.use(Toast));\n\nexport function getNotifyStyle(color = \"white\", strength = \"8px\") {\n    return {\n        transform: \"scale(1.05, 1.05)\",\n        borderColor: \"rgba(0, 0, 0, 0.125)\",\n        boxShadow: `-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 ${strength} ${color}`,\n        zIndex: 1\n    };\n}\n\nexport function getHighNotifyStyle() {\n    return getNotifyStyle(\"red\", \"20px\");\n}\n","\nimport \"components/common/features.css\";\nimport { GenericChallenge } from \"features/challenges/challenge\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport { getHighNotifyStyle, getNotifyStyle } from \"game/notifications\";\nimport { coerceComponent, isCoercableComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport {\n    Component,\n    computed,\n    defineComponent,\n    PropType,\n    shallowRef,\n    toRefs,\n    unref,\n    UnwrapRef,\n    watchEffect\n} from \"vue\";\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\n\nexport default defineComponent({\n    props: {\n        active: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        maxed: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        canComplete: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        display: processedPropType<UnwrapRef<GenericChallenge[\"display\"]>>(\n            String,\n            Object,\n            Function\n        ),\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        completed: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        canStart: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        },\n        toggle: {\n            type: Function as PropType<VoidFunction>,\n            required: true\n        }\n    },\n    components: {\n        MarkNode,\n        Node\n    },\n    setup(props) {\n        const { active, maxed, canComplete, display } = toRefs(props);\n\n        const buttonText = computed(() => {\n            if (active.value) {\n                return canComplete.value ? \"Finish\" : \"Exit Early\";\n            }\n            if (maxed.value) {\n                return \"Completed\";\n            }\n            return \"Start\";\n        });\n\n        const comp = shallowRef<Component | string>(\"\");\n\n        const notifyStyle = computed(() => {\n            const currActive = unwrapRef(active);\n            const currCanComplete = unwrapRef(canComplete);\n            if (currActive) {\n                if (currCanComplete) {\n                    return getHighNotifyStyle();\n                }\n                return getNotifyStyle();\n            }\n            return {};\n        });\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                comp.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                comp.value = coerceComponent(currDisplay);\n                return;\n            }\n            const Title = coerceComponent(currDisplay.title || \"\", \"h3\");\n            const Description = coerceComponent(currDisplay.description, \"div\");\n            const Goal = coerceComponent(currDisplay.goal || \"\");\n            const Reward = coerceComponent(currDisplay.reward || \"\");\n            const EffectDisplay = coerceComponent(currDisplay.effectDisplay || \"\");\n            comp.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        {currDisplay.title ? (\n                            <div>\n                                <Title />\n                            </div>\n                        ) : null}\n                        <Description />\n                        {currDisplay.goal ? (\n                            <div>\n                                <br />\n                                Goal: <Goal />\n                            </div>\n                        ) : null}\n                        {currDisplay.reward ? (\n                            <div>\n                                <br />\n                                Reward: <Reward />\n                            </div>\n                        ) : null}\n                        {currDisplay.effectDisplay ? (\n                            <div>\n                                Currently: <EffectDisplay />\n                            </div>\n                        ) : null}\n                    </span>\n                ))\n            );\n        });\n\n        return {\n            buttonText,\n            notifyStyle,\n            comp,\n            Visibility,\n            unref\n        };\n    }\n});\n","import { render } from \"./Challenge.vue?vue&type=template&id=5e580749&scoped=true&ts=true\"\nimport script from \"./Challenge.vue?vue&type=script&lang=tsx\"\nexport * from \"./Challenge.vue?vue&type=script&lang=tsx\"\n\nimport \"./Challenge.vue?vue&type=style&index=0&id=5e580749&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e580749\"]])\n\nexport default __exports__","import { isArray } from \"@vue/shared\";\nimport Toggle from \"components/fields/Toggle.vue\";\nimport ChallengeComponent from \"features/challenges/Challenge.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    jsx,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { GenericReset } from \"features/reset\";\nimport { Resource } from \"features/resources/resource\";\nimport { globalBus } from \"game/events\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport settings, { registerSettingField } from \"game/settings\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, Ref, unref, watch, WatchStopHandle } from \"vue\";\n\nexport const ChallengeType = Symbol(\"ChallengeType\");\n\nexport interface ChallengeOptions {\n    visibility?: Computable<Visibility>;\n    canStart?: Computable<boolean>;\n    reset?: GenericReset;\n    canComplete?: Computable<boolean | DecimalSource>;\n    completionLimit?: Computable<DecimalSource>;\n    mark?: Computable<boolean | string>;\n    resource?: Resource;\n    goal?: Computable<DecimalSource>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              title?: CoercableComponent;\n              description: CoercableComponent;\n              goal?: CoercableComponent;\n              reward?: CoercableComponent;\n              effectDisplay?: CoercableComponent;\n          }\n    >;\n    onComplete?: VoidFunction;\n    onExit?: VoidFunction;\n    onEnter?: VoidFunction;\n}\n\nexport interface BaseChallenge {\n    id: string;\n    completions: Persistent<DecimalSource>;\n    completed: Ref<boolean>;\n    maxed: Ref<boolean>;\n    active: Persistent<boolean>;\n    toggle: VoidFunction;\n    complete: (remainInChallenge?: boolean) => void;\n    type: typeof ChallengeType;\n    [Component]: typeof ChallengeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Challenge<T extends ChallengeOptions> = Replace<\n    T & BaseChallenge,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        canStart: GetComputableTypeWithDefault<T[\"canStart\"], true>;\n        canComplete: GetComputableTypeWithDefault<T[\"canComplete\"], Ref<boolean>>;\n        completionLimit: GetComputableTypeWithDefault<T[\"completionLimit\"], 1>;\n        mark: GetComputableTypeWithDefault<T[\"mark\"], Ref<boolean>>;\n        goal: GetComputableType<T[\"goal\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        display: GetComputableType<T[\"display\"]>;\n    }\n>;\n\nexport type GenericChallenge = Replace<\n    Challenge<ChallengeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canStart: ProcessedComputable<boolean>;\n        canComplete: ProcessedComputable<boolean | DecimalSource>;\n        completionLimit: ProcessedComputable<DecimalSource>;\n        mark: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createChallenge<T extends ChallengeOptions>(\n    optionsFunc: OptionsFunc<T, Challenge<T>, BaseChallenge>\n): Challenge<T> {\n    const completions = persistent(0);\n    const active = persistent(false);\n    return createLazyProxy(() => {\n        const challenge = optionsFunc();\n\n        if (\n            challenge.canComplete == null &&\n            (challenge.resource == null || challenge.goal == null)\n        ) {\n            console.warn(\n                \"Cannot create challenge without a canComplete property or a resource and goal property\",\n                challenge\n            );\n            throw \"Cannot create challenge without a canComplete property or a resource and goal property\";\n        }\n\n        challenge.id = getUniqueID(\"challenge-\");\n        challenge.type = ChallengeType;\n        challenge[Component] = ChallengeComponent;\n\n        challenge.completions = completions;\n        challenge.active = active;\n        challenge.completed = computed(() =>\n            Decimal.gt((challenge as GenericChallenge).completions.value, 0)\n        );\n        challenge.maxed = computed(() =>\n            Decimal.gte(\n                (challenge as GenericChallenge).completions.value,\n                unref((challenge as GenericChallenge).completionLimit)\n            )\n        );\n        challenge.toggle = function () {\n            const genericChallenge = challenge as GenericChallenge;\n            if (genericChallenge.active.value) {\n                if (unref(genericChallenge.canComplete) && !genericChallenge.maxed.value) {\n                    let completions: boolean | DecimalSource = unref(genericChallenge.canComplete);\n                    if (typeof completions === \"boolean\") {\n                        completions = 1;\n                    }\n                    genericChallenge.completions.value = Decimal.min(\n                        Decimal.add(genericChallenge.completions.value, completions),\n                        unref(genericChallenge.completionLimit)\n                    );\n                    genericChallenge.onComplete?.();\n                }\n                genericChallenge.active.value = false;\n                genericChallenge.onExit?.();\n                genericChallenge.reset?.reset();\n            } else if (\n                unref(genericChallenge.canStart) &&\n                unref(genericChallenge.visibility) === Visibility.Visible &&\n                !genericChallenge.maxed.value\n            ) {\n                genericChallenge.reset?.reset();\n                genericChallenge.active.value = true;\n                genericChallenge.onEnter?.();\n            }\n        };\n        challenge.complete = function (remainInChallenge?: boolean) {\n            const genericChallenge = challenge as GenericChallenge;\n            let completions: boolean | DecimalSource = unref(genericChallenge.canComplete);\n            if (\n                genericChallenge.active.value &&\n                completions !== false &&\n                (completions === true || Decimal.neq(0, completions)) &&\n                !genericChallenge.maxed.value\n            ) {\n                if (typeof completions === \"boolean\") {\n                    completions = 1;\n                }\n                genericChallenge.completions.value = Decimal.min(\n                    Decimal.add(genericChallenge.completions.value, completions),\n                    unref(genericChallenge.completionLimit)\n                );\n                genericChallenge.onComplete?.();\n                if (remainInChallenge !== true) {\n                    genericChallenge.active.value = false;\n                    genericChallenge.onExit?.();\n                    genericChallenge.reset?.reset();\n                }\n            }\n        };\n        processComputable(challenge as T, \"visibility\");\n        setDefault(challenge, \"visibility\", Visibility.Visible);\n        const visibility = challenge.visibility as ProcessedComputable<Visibility>;\n        challenge.visibility = computed(() => {\n            if (settings.hideChallenges === true && unref(challenge.maxed)) {\n                return Visibility.None;\n            }\n            return unref(visibility);\n        });\n        if (challenge.canComplete == null) {\n            challenge.canComplete = computed(() => {\n                const genericChallenge = challenge as GenericChallenge;\n                if (\n                    !genericChallenge.active.value ||\n                    genericChallenge.resource == null ||\n                    genericChallenge.goal == null\n                ) {\n                    return false;\n                }\n                return Decimal.gte(genericChallenge.resource.value, unref(genericChallenge.goal));\n            });\n        }\n        if (challenge.mark == null) {\n            challenge.mark = computed(\n                () =>\n                    Decimal.gt(unref((challenge as GenericChallenge).completionLimit), 1) &&\n                    !!unref(challenge.maxed)\n            );\n        }\n\n        processComputable(challenge as T, \"canStart\");\n        setDefault(challenge, \"canStart\", true);\n        processComputable(challenge as T, \"canComplete\");\n        processComputable(challenge as T, \"completionLimit\");\n        setDefault(challenge, \"completionLimit\", 1);\n        processComputable(challenge as T, \"mark\");\n        processComputable(challenge as T, \"goal\");\n        processComputable(challenge as T, \"classes\");\n        processComputable(challenge as T, \"style\");\n        processComputable(challenge as T, \"display\");\n\n        if (challenge.reset != null) {\n            globalBus.on(\"reset\", currentReset => {\n                if (currentReset === challenge.reset && (challenge.active as Ref<boolean>).value) {\n                    (challenge.toggle as VoidFunction)();\n                }\n            });\n        }\n\n        challenge[GatherProps] = function (this: GenericChallenge) {\n            const {\n                active,\n                maxed,\n                canComplete,\n                display,\n                visibility,\n                style,\n                classes,\n                completed,\n                canStart,\n                mark,\n                id,\n                toggle\n            } = this;\n            return {\n                active,\n                maxed,\n                canComplete,\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                completed,\n                canStart,\n                mark,\n                id,\n                toggle\n            };\n        };\n\n        return challenge as unknown as Challenge<T>;\n    });\n}\n\nexport function setupAutoComplete(\n    challenge: GenericChallenge,\n    autoActive: Computable<boolean> = true,\n    exitOnComplete = true\n): WatchStopHandle {\n    const isActive = typeof autoActive === \"function\" ? computed(autoActive) : autoActive;\n    return watch([challenge.canComplete, isActive], ([canComplete, isActive]) => {\n        if (canComplete && isActive) {\n            challenge.complete(!exitOnComplete);\n        }\n    });\n}\n\nexport function createActiveChallenge(\n    challenges: GenericChallenge[]\n): Ref<GenericChallenge | undefined> {\n    return computed(() => challenges.find(challenge => challenge.active.value));\n}\n\nexport function isAnyChallengeActive(\n    challenges: GenericChallenge[] | Ref<GenericChallenge | undefined>\n): Ref<boolean> {\n    if (isArray(challenges)) {\n        challenges = createActiveChallenge(challenges);\n    }\n    return computed(() => (challenges as Ref<GenericChallenge | undefined>).value != null);\n}\n\ndeclare module \"game/settings\" {\n    interface Settings {\n        hideChallenges: boolean;\n    }\n}\n\nglobalBus.on(\"loadSettings\", settings => {\n    setDefault(settings, \"hideChallenges\", false);\n});\n\nregisterSettingField(\n    jsx(() => (\n        <Toggle\n            title=\"Hide Maxed Challenges\"\n            onUpdate:modelValue={value => (settings.hideChallenges = value)}\n            modelValue={settings.hideChallenges}\n        />\n    ))\n);\n","import { GenericLayer } from \"game/layers\";\nimport { Modifier } from \"game/modifiers\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { WithRequired } from \"util/common\";\nimport {\n    Computable,\n    convertComputable,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, isRef, Ref, unref } from \"vue\";\nimport { OptionsFunc, Replace, setDefault } from \"./feature\";\nimport { Resource } from \"./resources/resource\";\n\n/**\n * An object that configures a {@link conversion}.\n */\nexport interface ConversionOptions {\n    /**\n     * The scaling function that is used to determine the rate of conversion from one {@link resource} to the other.\n     */\n    scaling: ScalingFunction;\n    /**\n     * How much of the output resource the conversion can currently convert for.\n     * Typically this will be set for you in a conversion constructor.\n     */\n    currentGain?: Computable<DecimalSource>;\n    /**\n     * The absolute amount the output resource will be changed by.\n     * Typically this will be set for you in a conversion constructor.\n     * This will differ from {@link currentGain} in the cases where the conversion isn't just adding the converted amount to the output resource.\n     */\n    actualGain?: Computable<DecimalSource>;\n    /**\n     * The amount of the input resource currently being required in order to produce the {@link currentGain}.\n     * That is, if it went below this value then {@link currentGain} would decrease.\n     * Typically this will be set for you in a conversion constructor.\n     */\n    currentAt?: Computable<DecimalSource>;\n    /**\n     * The amount of the input resource required to make {@link currentGain} increase.\n     * Typically this will be set for you in a conversion constructor.\n     */\n    nextAt?: Computable<DecimalSource>;\n    /**\n     * The input {@link resource} for this conversion.\n     */\n    baseResource: Resource;\n    /**\n     * The output {@link resource} for this conversion. i.e. the resource being generated.\n     */\n    gainResource: Resource;\n    /**\n     * Whether or not to cap the amount of the output resource gained by converting at 1.\n     */\n    buyMax?: Computable<boolean>;\n    /**\n     * Whether or not to round up the cost to generate a given amount of the output resource.\n     */\n    roundUpCost?: Computable<boolean>;\n    /**\n     * The function that performs the actual conversion from {@link baseResource} to {@link gainResource}.\n     * Typically this will be set for you in a conversion constructor.\n     */\n    convert?: VoidFunction;\n    /**\n     * An addition modifier that will be applied to the gain amounts.\n     * Must be reversible in order to correctly calculate {@link nextAt}.\n     * @see {@link createSequentialModifier} if you want to apply multiple modifiers.\n     */\n    gainModifier?: WithRequired<Modifier, \"revert\">;\n}\n\n/**\n * The properties that are added onto a processed {@link ConversionOptions} to create a {@link Conversion}.\n */\nexport interface BaseConversion {\n    /**\n     * The function that performs the actual conversion.\n     */\n    convert: VoidFunction;\n}\n\n/**\n * An object that converts one {@link resource} into another at a given rate.\n */\nexport type Conversion<T extends ConversionOptions> = Replace<\n    T & BaseConversion,\n    {\n        currentGain: GetComputableTypeWithDefault<T[\"currentGain\"], Ref<DecimalSource>>;\n        actualGain: GetComputableTypeWithDefault<T[\"actualGain\"], Ref<DecimalSource>>;\n        currentAt: GetComputableTypeWithDefault<T[\"currentAt\"], Ref<DecimalSource>>;\n        nextAt: GetComputableTypeWithDefault<T[\"nextAt\"], Ref<DecimalSource>>;\n        buyMax: GetComputableTypeWithDefault<T[\"buyMax\"], true>;\n        roundUpCost: GetComputableTypeWithDefault<T[\"roundUpCost\"], true>;\n    }\n>;\n\n/**\n * A type that matches any {@link conversion} object.\n */\nexport type GenericConversion = Replace<\n    Conversion<ConversionOptions>,\n    {\n        currentGain: ProcessedComputable<DecimalSource>;\n        actualGain: ProcessedComputable<DecimalSource>;\n        currentAt: ProcessedComputable<DecimalSource>;\n        nextAt: ProcessedComputable<DecimalSource>;\n        buyMax: ProcessedComputable<boolean>;\n        roundUpCost: ProcessedComputable<boolean>;\n    }\n>;\n\n/**\n * Lazily creates a conversion with the given options.\n * You typically shouldn't use this function directly. Instead use one of the other conversion constructors, which will then call this.\n * @param optionsFunc Conversion options.\n * @see {@link createCumulativeConversion}.\n * @see {@link createIndependentConversion}.\n */\nexport function createConversion<T extends ConversionOptions>(\n    optionsFunc: OptionsFunc<T, Conversion<T>, BaseConversion>\n): Conversion<T> {\n    return createLazyProxy(() => {\n        const conversion = optionsFunc();\n\n        if (conversion.currentGain == null) {\n            conversion.currentGain = computed(() => {\n                let gain = conversion.gainModifier\n                    ? conversion.gainModifier.apply(\n                          conversion.scaling.currentGain(conversion as GenericConversion)\n                      )\n                    : conversion.scaling.currentGain(conversion as GenericConversion);\n                gain = Decimal.floor(gain).max(0);\n\n                if (!unref(conversion.buyMax)) {\n                    gain = gain.min(1);\n                }\n                return gain;\n            });\n        }\n        if (conversion.actualGain == null) {\n            conversion.actualGain = conversion.currentGain;\n        }\n        if (conversion.currentAt == null) {\n            conversion.currentAt = computed(() => {\n                let current = conversion.scaling.currentAt(conversion as GenericConversion);\n                if (conversion.roundUpCost) current = Decimal.ceil(current);\n                return current;\n            });\n        }\n        if (conversion.nextAt == null) {\n            conversion.nextAt = computed(() => {\n                let next = conversion.scaling.nextAt(conversion as GenericConversion);\n                if (conversion.roundUpCost) next = Decimal.ceil(next);\n                return next;\n            });\n        }\n\n        if (conversion.convert == null) {\n            conversion.convert = function () {\n                conversion.gainResource.value = Decimal.add(\n                    conversion.gainResource.value,\n                    unref((conversion as GenericConversion).currentGain)\n                );\n                // TODO just subtract cost?\n                conversion.baseResource.value = 0;\n            };\n        }\n\n        processComputable(conversion as T, \"currentGain\");\n        processComputable(conversion as T, \"actualGain\");\n        processComputable(conversion as T, \"currentAt\");\n        processComputable(conversion as T, \"nextAt\");\n        processComputable(conversion as T, \"buyMax\");\n        setDefault(conversion, \"buyMax\", true);\n        processComputable(conversion as T, \"roundUpCost\");\n        setDefault(conversion, \"roundUpCost\", true);\n\n        return conversion as unknown as Conversion<T>;\n    });\n}\n\n/**\n * A collection of functions that allow a conversion to scale the amount of resources gained based on the input resource.\n * This typically shouldn't be created directly. Instead use one of the scaling function constructors.\n * @see {@link createLinearScaling}.\n * @see {@link createPolynomialScaling}.\n */\nexport interface ScalingFunction {\n    /**\n     * Calculates the amount of the output resource a conversion should be able to currently produce.\n     * This should be based off of `conversion.baseResource.value`.\n     * The conversion is responsible for applying the gainModifier, so this function should be un-modified.\n     * It does not need to be clamped or rounded.\n     */\n    currentGain: (conversion: GenericConversion) => DecimalSource;\n    /**\n     * Calculates the amount of the input resource that is required for the current value of `conversion.currentGain`.\n     * Note that `conversion.currentGain` has been modified by `conversion.gainModifier`, so you will need to revert that as appropriate.\n     * The conversion is responsible for rounding up the amount as appropriate.\n     * The returned value should not be below 0.\n     */\n    currentAt: (conversion: GenericConversion) => DecimalSource;\n    /**\n     * Calculates the amount of the input resource that would be required for the current value of `conversion.currentGain` to increase.\n     * Note that `conversion.currentGain` has been modified by `conversion.gainModifier`, so you will need to revert that as appropriate.\n     * The conversion is responsible for rounding up the amount as appropriate.\n     * The returned value should not be below 0.\n     */\n    nextAt: (conversion: GenericConversion) => DecimalSource;\n}\n\n/**\n * Creates a scaling function based off the formula `(baseResource - base) * coefficient`.\n * If the baseResource value is less than base then the currentGain will be 0.\n * @param base The base variable in the scaling formula.\n * @param coefficient The coefficient variable in the scaling formula.\n * @example\n * A scaling function created via `createLinearScaling(10, 0.5)` would produce the following values:\n * | Base Resource | Current Gain |\n * | ------------- | ------------ |\n * | 10            | 1            |\n * | 12            | 2            |\n * | 20            | 6            |\n */\nexport function createLinearScaling(\n    base: Computable<DecimalSource>,\n    coefficient: Computable<DecimalSource>\n): ScalingFunction {\n    const processedBase = convertComputable(base);\n    const processedCoefficient = convertComputable(coefficient);\n    return {\n        currentGain(conversion) {\n            if (Decimal.lt(conversion.baseResource.value, unref(processedBase))) {\n                return 0;\n            }\n\n            return Decimal.sub(conversion.baseResource.value, unref(processedBase))\n                .sub(1)\n                .times(unref(processedCoefficient))\n                .add(1);\n        },\n        currentAt(conversion) {\n            let current: DecimalSource = unref(conversion.currentGain);\n            if (conversion.gainModifier) {\n                current = conversion.gainModifier.revert(current);\n            }\n            current = Decimal.max(0, current);\n            return Decimal.sub(current, 1)\n                .div(unref(processedCoefficient))\n                .add(unref(processedBase));\n        },\n        nextAt(conversion) {\n            let next: DecimalSource = Decimal.add(unref(conversion.currentGain), 1);\n            if (conversion.gainModifier) {\n                next = conversion.gainModifier.revert(next);\n            }\n            next = Decimal.max(0, next);\n            return Decimal.sub(next, 1)\n                .div(unref(processedCoefficient))\n                .add(unref(processedBase))\n                .max(unref(processedBase));\n        }\n    };\n}\n\n/**\n * Creates a scaling function based off the formula `(baseResource / base) ^ exponent`.\n * If the baseResource value is less than base then the currentGain will be 0.\n * @param base The base variable in the scaling formula.\n * @param exponent The exponent variable in the scaling formula.\n * @example\n * A scaling function created via `createLinearScaling(10, 0.5)` would produce the following values:\n * | Base Resource | Current Gain |\n * | ------------- | ------------ |\n * | 10            | 1            |\n * | 40            | 2            |\n * | 250           | 5            |\n */\nexport function createPolynomialScaling(\n    base: Computable<DecimalSource>,\n    exponent: Computable<DecimalSource>\n): ScalingFunction {\n    const processedBase = convertComputable(base);\n    const processedExponent = convertComputable(exponent);\n    return {\n        currentGain(conversion) {\n            if (Decimal.lt(conversion.baseResource.value, unref(processedBase))) {\n                return 0;\n            }\n\n            const gain = Decimal.div(conversion.baseResource.value, unref(processedBase)).pow(\n                unref(processedExponent)\n            );\n\n            if (gain.isNan()) {\n                return new Decimal(0);\n            }\n            return gain;\n        },\n        currentAt(conversion) {\n            let current: DecimalSource = unref(conversion.currentGain);\n            if (conversion.gainModifier) {\n                current = conversion.gainModifier.revert(current);\n            }\n            current = Decimal.max(0, current);\n            return Decimal.root(current, unref(processedExponent)).times(unref(processedBase));\n        },\n        nextAt(conversion) {\n            let next: DecimalSource = Decimal.add(unref(conversion.currentGain), 1);\n            if (conversion.gainModifier) {\n                next = conversion.gainModifier.revert(next);\n            }\n            next = Decimal.max(0, next);\n            return Decimal.root(next, unref(processedExponent))\n                .times(unref(processedBase))\n                .max(unref(processedBase));\n        }\n    };\n}\n\nexport function createExponentialScaling(\n    factor: DecimalSource | Ref<DecimalSource>,\n    base: DecimalSource | Ref<DecimalSource>,\n    exponent: DecimalSource | Ref<DecimalSource>\n): ScalingFunction {\n    return {\n        currentGain(conversion) {\n            const gain = Decimal.div(conversion.baseResource.value, unref(factor))\n                .log(unref(base))\n                .root(unref(exponent))\n                .add(1);\n\n            if (gain.isNan()) {\n                return new Decimal(0);\n            }\n            return gain;\n        },\n        currentAt(conversion) {\n            let current: DecimalSource = unref(conversion.currentGain);\n            if (conversion.gainModifier) {\n                current = conversion.gainModifier.revert(current);\n            }\n            current = Decimal.max(0, current);\n            return Decimal.pow(unref(base), Decimal.pow(current.sub(1), unref(exponent))).times(\n                unref(factor)\n            );\n        },\n        nextAt(conversion) {\n            let next: DecimalSource = Decimal.add(unref(conversion.currentGain), 1);\n            if (conversion.gainModifier) {\n                next = conversion.gainModifier.revert(next);\n            }\n            next = Decimal.max(0, next);\n            return Decimal.pow(unref(base), Decimal.pow(next.sub(1), unref(exponent)))\n                .times(unref(factor))\n                .max(unref(base));\n        }\n    };\n}\n\n/**\n * Creates a conversion that simply adds to the gainResource amount upon converting.\n * This is similar to the behavior of \"normal\" layers in The Modding Tree.\n * This is equivalent to just calling createConversion directly.\n * @param optionsFunc Conversion options.\n */\nexport function createCumulativeConversion<S extends ConversionOptions>(\n    optionsFunc: OptionsFunc<S, Conversion<S>>\n): Conversion<S> {\n    return createConversion(optionsFunc);\n}\n\n/**\n * Creates a conversion that will replace the gainResource amount with the new amount upon converting.\n * This is similar to the behavior of \"static\" layers in The Modding Tree.\n * @param optionsFunc Converison options.\n */\nexport function createIndependentConversion<S extends ConversionOptions>(\n    optionsFunc: OptionsFunc<S, Conversion<S>>\n): Conversion<S> {\n    return createConversion(() => {\n        const conversion: S = optionsFunc();\n\n        setDefault(conversion, \"buyMax\", false);\n\n        if (conversion.currentGain == null) {\n            conversion.currentGain = computed(() => {\n                let gain = conversion.gainModifier\n                    ? conversion.gainModifier.apply(\n                          conversion.scaling.currentGain(conversion as GenericConversion)\n                      )\n                    : conversion.scaling.currentGain(conversion as GenericConversion);\n                gain = Decimal.floor(gain).max(conversion.gainResource.value);\n\n                if (!unref(conversion.buyMax)) {\n                    gain = gain.min(Decimal.add(conversion.gainResource.value, 1));\n                }\n                return gain;\n            });\n        }\n        if (conversion.actualGain == null) {\n            conversion.actualGain = computed(() => {\n                let gain = Decimal.sub(\n                    conversion.scaling.currentGain(conversion as GenericConversion),\n                    conversion.gainResource.value\n                ).max(0);\n\n                if (!unref(conversion.buyMax)) {\n                    gain = gain.min(1);\n                }\n                return gain;\n            });\n        }\n        setDefault(conversion, \"convert\", function () {\n            conversion.gainResource.value = conversion.gainModifier\n                ? conversion.gainModifier.apply(\n                      unref((conversion as GenericConversion).currentGain)\n                  )\n                : unref((conversion as GenericConversion).currentGain);\n            // TODO just subtract cost?\n            // Maybe by adding a cost function to scaling and nextAt just calls the cost function\n            // with 1 + currentGain\n            conversion.baseResource.value = 0;\n        });\n\n        return conversion;\n    });\n}\n\n/**\n * This will automatically increase the value of conversion.gainResource without lowering the value of the input resource.\n * It will by default perform 100% of a conversion's currentGain per second.\n * If you use a ref for the rate you can set it's value to 0 when passive generation should be disabled.\n * @param layer The layer this passive generation will be associated with.\n * @param conversion The conversion that will determine how much generation there is.\n * @param rate A multiplier to multiply against the conversion's currentGain.\n */\nexport function setupPassiveGeneration(\n    layer: GenericLayer,\n    conversion: GenericConversion,\n    rate: Computable<DecimalSource> = 1\n): void {\n    const processedRate = convertComputable(rate);\n    layer.on(\"preUpdate\", diff => {\n        const currRate = unref(processedRate);\n        if (Decimal.neq(currRate, 0)) {\n            conversion.gainResource.value = Decimal.add(\n                conversion.gainResource.value,\n                Decimal.times(currRate, diff).times(unref(conversion.currentGain))\n            );\n        }\n    });\n}\n\n/**\n * Given a value, this function finds the amount above a certain value and raises it to a power.\n * If the power is <1, this will effectively make the value scale slower after the cap.\n * @param value The raw value.\n * @param cap The value after which the softcap should be applied.\n * @param power The power to raise value above the cap to.\n * @example\n * A softcap added via `addSoftcap(scaling, 100, 0.5)` would produce the following values:\n * | Raw Value | Softcapped Value |\n * | --------- | ---------------- |\n * | 1         | 1                |\n * | 100       | 100              |\n * | 125       | 105              |\n * | 200       | 110              |\n */\nexport function softcap(\n    value: DecimalSource,\n    cap: DecimalSource,\n    power: DecimalSource = 0.5\n): DecimalSource {\n    if (Decimal.lte(value, cap)) {\n        return value;\n    } else {\n        return Decimal.pow(value, power).times(Decimal.pow(cap, Decimal.sub(1, power)));\n    }\n}\n\n/**\n * Creates a scaling function based off an existing scaling function, with a softcap applied to it.\n * The softcap will take any value above a certain value and raise it to a power.\n * If the power is <1, this will effectively make the value scale slower after the cap.\n * @param scaling The raw scaling function.\n * @param cap The value after which the softcap should be applied.\n * @param power The power to raise value about the cap to.\n * @see {@link softcap}.\n */\nexport function addSoftcap(\n    scaling: ScalingFunction,\n    cap: ProcessedComputable<DecimalSource>,\n    power: ProcessedComputable<DecimalSource> = 0.5\n): ScalingFunction {\n    return {\n        ...scaling,\n        currentGain: conversion =>\n            softcap(scaling.currentGain(conversion), unref(cap), unref(power))\n    };\n}\n\n/**\n * Creates a scaling function off an existing function, with a hardcap applied to it.\n * The harcap will ensure that the currentGain will stop at a given cap.\n * @param scaling The raw scaling function.\n * @param cap The maximum value the scaling function can output.\n */\nexport function addHardcap(\n    scaling: ScalingFunction,\n    cap: ProcessedComputable<DecimalSource>\n): ScalingFunction {\n    return {\n        ...scaling,\n        currentGain: conversion => Decimal.min(scaling.currentGain(conversion), unref(cap))\n    };\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        class: _normalizeClass({ feature: true, milestone: true, done: _ctx.unref(_ctx.earned), ..._ctx.unref(_ctx.classes) })\n      }, [\n        (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp)))),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 6))\n    : _createCommentVNode(\"\", true)\n}","\nimport \"components/common/features.css\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport { GenericMilestone } from \"features/milestones/milestone\";\nimport { coerceComponent, isCoercableComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport { Component, defineComponent, shallowRef, toRefs, unref, UnwrapRef, watchEffect } from \"vue\";\nimport Node from \"../../components/Node.vue\";\n\nexport default defineComponent({\n    props: {\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        display: {\n            type: processedPropType<UnwrapRef<GenericMilestone[\"display\"]>>(\n                String,\n                Object,\n                Function\n            ),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        earned: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        Node\n    },\n    setup(props) {\n        const { display } = toRefs(props);\n\n        const comp = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                comp.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                comp.value = coerceComponent(currDisplay);\n                return;\n            }\n            const Requirement = coerceComponent(currDisplay.requirement, \"h3\");\n            const EffectDisplay = coerceComponent(currDisplay.effectDisplay || \"\", \"b\");\n            const OptionsDisplay = coerceComponent(currDisplay.optionsDisplay || \"\", \"span\");\n            comp.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        <Requirement />\n                        {currDisplay.effectDisplay ? (\n                            <div>\n                                <EffectDisplay />\n                            </div>\n                        ) : null}\n                        {currDisplay.optionsDisplay ? (\n                            <div class=\"equal-spaced\">\n                                <OptionsDisplay />\n                            </div>\n                        ) : null}\n                    </span>\n                ))\n            );\n        });\n\n        return {\n            comp,\n            unref,\n            Visibility\n        };\n    }\n});\n","import { render } from \"./Milestone.vue?vue&type=template&id=0b660ac3&scoped=true&ts=true\"\nimport script from \"./Milestone.vue?vue&type=script&lang=tsx\"\nexport * from \"./Milestone.vue?vue&type=script&lang=tsx\"\n\nimport \"./Milestone.vue?vue&type=style&index=0&id=0b660ac3&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b660ac3\"]])\n\nexport default __exports__","import Select from \"components/fields/Select.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    jsx,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport MilestoneComponent from \"features/milestones/Milestone.vue\";\nimport { globalBus } from \"game/events\";\nimport \"game/notifications\";\nimport { persistent, Persistent } from \"game/persistence\";\nimport settings, { registerSettingField } from \"game/settings\";\nimport { camelToTitle } from \"util/common\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { coerceComponent, isCoercableComponent } from \"util/vue\";\nimport { computed, unref, watchEffect } from \"vue\";\nimport { useToast } from \"vue-toastification\";\n\nconst toast = useToast();\n\nexport const MilestoneType = Symbol(\"Milestone\");\n\nexport enum MilestoneDisplay {\n    All = \"all\",\n    //Last = \"last\",\n    Configurable = \"configurable\",\n    Incomplete = \"incomplete\",\n    None = \"none\"\n}\n\nexport interface MilestoneOptions {\n    visibility?: Computable<Visibility>;\n    shouldEarn?: () => boolean;\n    style?: Computable<StyleValue>;\n    classes?: Computable<Record<string, boolean>>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              requirement: CoercableComponent;\n              effectDisplay?: CoercableComponent;\n              optionsDisplay?: CoercableComponent;\n          }\n    >;\n    onComplete?: VoidFunction;\n}\n\nexport interface BaseMilestone {\n    id: string;\n    earned: Persistent<boolean>;\n    complete: VoidFunction;\n    type: typeof MilestoneType;\n    [Component]: typeof MilestoneComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Milestone<T extends MilestoneOptions> = Replace<\n    T & BaseMilestone,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        style: GetComputableType<T[\"style\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        display: GetComputableType<T[\"display\"]>;\n    }\n>;\n\nexport type GenericMilestone = Replace<\n    Milestone<MilestoneOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n    }\n>;\n\nexport function createMilestone<T extends MilestoneOptions>(\n    optionsFunc?: OptionsFunc<T, Milestone<T>, BaseMilestone>\n): Milestone<T> {\n    const earned = persistent<boolean>(false);\n    return createLazyProxy(() => {\n        const milestone = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        milestone.id = getUniqueID(\"milestone-\");\n        milestone.type = MilestoneType;\n        milestone[Component] = MilestoneComponent;\n\n        milestone.earned = earned;\n        milestone.complete = function () {\n            earned.value = true;\n        };\n\n        processComputable(milestone as T, \"visibility\");\n        setDefault(milestone, \"visibility\", Visibility.Visible);\n        const visibility = milestone.visibility as ProcessedComputable<Visibility>;\n        milestone.visibility = computed(() => {\n            const display = unref((milestone as GenericMilestone).display);\n            switch (settings.msDisplay) {\n                default:\n                case MilestoneDisplay.All:\n                    return unref(visibility);\n                case MilestoneDisplay.Configurable:\n                    if (\n                        unref(milestone.earned) &&\n                        !(\n                            display != null &&\n                            typeof display == \"object\" &&\n                            \"optionsDisplay\" in (display as Record<string, unknown>)\n                        )\n                    ) {\n                        return Visibility.None;\n                    }\n                    return unref(visibility);\n                case MilestoneDisplay.Incomplete:\n                    if (unref(milestone.earned)) {\n                        return Visibility.None;\n                    }\n                    return unref(visibility);\n                case MilestoneDisplay.None:\n                    return Visibility.None;\n            }\n        });\n\n        processComputable(milestone as T, \"style\");\n        processComputable(milestone as T, \"classes\");\n        processComputable(milestone as T, \"display\");\n\n        milestone[GatherProps] = function (this: GenericMilestone) {\n            const { visibility, display, style, classes, earned, id } = this;\n            return { visibility, display, style: unref(style), classes, earned, id };\n        };\n\n        if (milestone.shouldEarn) {\n            const genericMilestone = milestone as GenericMilestone;\n            watchEffect(() => {\n                if (\n                    !genericMilestone.earned.value &&\n                    unref(genericMilestone.visibility) === Visibility.Visible &&\n                    genericMilestone.shouldEarn?.()\n                ) {\n                    genericMilestone.earned.value = true;\n                    genericMilestone.onComplete?.();\n                    if (genericMilestone.display) {\n                        const display = unref(genericMilestone.display);\n                        const Display = coerceComponent(\n                            isCoercableComponent(display) ? display : display.requirement\n                        );\n                        toast(\n                            <>\n                                <h3>Milestone earned!</h3>\n                                <div>\n                                    {/* eslint-disable-next-line @typescript-eslint/ban-ts-comment */}\n                                    {/* @ts-ignore */}\n                                    <Display />\n                                </div>\n                            </>\n                        );\n                    }\n                }\n            });\n        }\n\n        return milestone as unknown as Milestone<T>;\n    });\n}\n\ndeclare module \"game/settings\" {\n    interface Settings {\n        msDisplay: MilestoneDisplay;\n    }\n}\n\nglobalBus.on(\"loadSettings\", settings => {\n    setDefault(settings, \"msDisplay\", MilestoneDisplay.All);\n});\n\nconst msDisplayOptions = Object.values(MilestoneDisplay).map(option => ({\n    label: camelToTitle(option),\n    value: option\n}));\n\nregisterSettingField(\n    jsx(() => (\n        <Select\n            title=\"Show Milestones\"\n            options={msDisplayOptions}\n            onUpdate:modelValue={value => (settings.msDisplay = value as MilestoneDisplay)}\n            modelValue={settings.msDisplay}\n        />\n    ))\n);\n","import { OptionsFunc, getUniqueID, Replace } from \"features/feature\";\nimport { globalBus } from \"game/events\";\nimport { GenericLayer } from \"game/layers\";\nimport { DefaultValue, Persistent, persistent, PersistentState } from \"game/persistence\";\nimport Decimal from \"util/bignum\";\nimport { Computable, GetComputableType, processComputable } from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { Unsubscribe } from \"nanoevents\";\nimport { isRef, unref } from \"vue\";\n\nexport const ResetType = Symbol(\"Reset\");\n\nexport interface ResetOptions {\n    thingsToReset: Computable<Record<string, unknown>[]>;\n    onReset?: VoidFunction;\n}\n\nexport interface BaseReset {\n    id: string;\n    reset: VoidFunction;\n    type: typeof ResetType;\n}\n\nexport type Reset<T extends ResetOptions> = Replace<\n    T & BaseReset,\n    {\n        thingsToReset: GetComputableType<T[\"thingsToReset\"]>;\n    }\n>;\n\nexport type GenericReset = Reset<ResetOptions>;\n\nexport function createReset<T extends ResetOptions>(\n    optionsFunc: OptionsFunc<T, Reset<T>, BaseReset>\n): Reset<T> {\n    return createLazyProxy(() => {\n        const reset = optionsFunc();\n        reset.id = getUniqueID(\"reset-\");\n        reset.type = ResetType;\n\n        reset.reset = function () {\n            const handleObject = (obj: unknown) => {\n                if (obj && typeof obj === \"object\") {\n                    if (PersistentState in obj) {\n                        (obj as Persistent)[PersistentState].value = (obj as Persistent)[\n                            DefaultValue\n                        ];\n                    } else if (!(obj instanceof Decimal) && !isRef(obj)) {\n                        Object.values(obj).forEach(obj =>\n                            handleObject(obj as Record<string, unknown>)\n                        );\n                    }\n                }\n            };\n            unref((reset as GenericReset).thingsToReset).forEach(handleObject);\n            globalBus.emit(\"reset\", reset as GenericReset);\n            reset.onReset?.();\n        };\n\n        processComputable(reset as T, \"thingsToReset\");\n\n        return reset as unknown as Reset<T>;\n    });\n}\n\nconst listeners: Record<string, Unsubscribe | undefined> = {};\nexport function trackResetTime(layer: GenericLayer, reset: GenericReset): Persistent<Decimal> {\n    const resetTime = persistent<Decimal>(new Decimal(0));\n    listeners[layer.id] = layer.on(\"preUpdate\", diff => {\n        resetTime.value = Decimal.add(resetTime.value, diff);\n    });\n    globalBus.on(\"reset\", currentReset => {\n        if (currentReset === reset) {\n            resetTime.value = new Decimal(0);\n        }\n    });\n    return resetTime;\n}\nglobalBus.on(\"removeLayer\", layer => {\n    // unsubscribe from preUpdate\n    listeners[layer.id]?.();\n    listeners[layer.id] = undefined;\n});\n\ndeclare module \"game/events\" {\n    interface GlobalEvents {\n        reset: (reset: GenericReset) => void;\n    }\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport { computed } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    resource: null,\n    color: null\n  },\n  setup(__props: any) {\n\nconst props = __props as {\n    resource: Resource;\n    color: string;\n}\n\n\n\nconst amount = computed(() => displayResource(props.resource));\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"h2\", {\n    style: _normalizeStyle({ color: __props.color, 'text-shadow': '0px 0px 10px ' + __props.color })\n  }, _toDisplayString(_unref(amount)), 5))\n}\n}\n\n})","import script from \"./Resource.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Resource.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { key: 1 }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\", \")\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\n\nimport { CoercableComponent } from \"features/feature\";\nimport { Resource } from \"features/resources/resource\";\nimport Decimal from \"util/bignum\";\nimport { computeOptionalComponent } from \"util/vue\";\nimport { computed, Ref, StyleValue, toRefs } from \"vue\";\nimport ResourceVue from \"features/resources/Resource.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    resource: null,\n    color: null,\n    classes: null,\n    style: null,\n    effectDisplay: null\n  },\n  setup(__props: any) {\n\nconst _props = __props as {\n    resource: Resource;\n    color?: string;\n    classes?: Record<string, boolean>;\n    style?: StyleValue;\n    effectDisplay?: CoercableComponent;\n}\n\n\nconst props = toRefs(_props);\n\nconst effectComponent = computeOptionalComponent(\n    props.effectDisplay as Ref<CoercableComponent | undefined>\n);\n\nconst showPrefix = computed(() => {\n    return Decimal.lt(props.resource.value, \"1e1000\");\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    (_unref(showPrefix))\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"You have \"))\n      : _createCommentVNode(\"\", true),\n    _createVNode(ResourceVue, {\n      resource: __props.resource,\n      color: __props.color || 'white'\n    }, null, 8, [\"resource\", \"color\"]),\n    _createTextVNode(\" \" + _toDisplayString(__props.resource.displayName), 1),\n    (_unref(effectComponent))\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [\n          _hoisted_3,\n          (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(effectComponent))))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _hoisted_4,\n    _hoisted_5\n  ]))\n}\n}\n\n})","import script from \"./MainDisplay.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MainDisplay.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import TooltipComponent from \"./Tooltip.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    GatherProps,\n    Replace,\n    setDefault,\n    StyleValue\n} from \"features/feature\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { VueFeature } from \"util/vue\";\nimport { nextTick, Ref, unref } from \"vue\";\nimport { persistent } from \"game/persistence\";\nimport { Direction } from \"util/common\";\n\ndeclare module \"@vue/runtime-dom\" {\n    interface CSSProperties {\n        \"--xoffset\"?: string;\n        \"--yoffset\"?: string;\n    }\n}\n\nexport interface TooltipOptions {\n    pinnable?: boolean;\n    display: Computable<CoercableComponent>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    direction?: Computable<Direction>;\n    xoffset?: Computable<string>;\n    yoffset?: Computable<string>;\n}\n\nexport interface BaseTooltip {\n    pinned?: Ref<boolean>;\n}\n\nexport type Tooltip<T extends TooltipOptions> = Replace<\n    T & BaseTooltip,\n    {\n        pinnable: T[\"pinnable\"] extends undefined ? false : T[\"pinnable\"];\n        pinned: T[\"pinnable\"] extends true ? Ref<boolean> : undefined;\n        display: GetComputableType<T[\"display\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        direction: GetComputableTypeWithDefault<T[\"direction\"], Direction.Up>;\n        xoffset: GetComputableType<T[\"xoffset\"]>;\n        yoffset: GetComputableType<T[\"yoffset\"]>;\n    }\n>;\n\nexport type GenericTooltip = Replace<\n    Tooltip<TooltipOptions>,\n    {\n        pinnable: boolean;\n        pinned: Ref<boolean> | undefined;\n        direction: ProcessedComputable<Direction>;\n    }\n>;\n\nexport function addTooltip<T extends TooltipOptions>(\n    element: VueFeature,\n    options: T & ThisType<Tooltip<T>> & Partial<BaseTooltip>\n): Tooltip<T> {\n    processComputable(options as T, \"display\");\n    processComputable(options as T, \"classes\");\n    processComputable(options as T, \"style\");\n    processComputable(options as T, \"direction\");\n    setDefault(options, \"direction\", Direction.Up);\n    processComputable(options as T, \"xoffset\");\n    processComputable(options as T, \"yoffset\");\n\n    nextTick(() => {\n        if (options.pinnable) {\n            if (\"pinned\" in element) {\n                console.error(\n                    \"Cannot add pinnable tooltip to element that already has a property called 'pinned'\"\n                );\n                options.pinnable = false;\n            } else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                (element as any).pinned = options.pinned = persistent<boolean>(false);\n            }\n        }\n\n        const elementComponent = element[Component];\n        element[Component] = TooltipComponent;\n        const elementGratherProps = element[GatherProps].bind(element);\n        element[GatherProps] = function gatherTooltipProps(this: GenericTooltip) {\n            const { display, classes, style, direction, xoffset, yoffset, pinned } = this;\n            return {\n                element: {\n                    [Component]: elementComponent,\n                    [GatherProps]: elementGratherProps\n                },\n                display,\n                classes,\n                style: unref(style),\n                direction,\n                xoffset,\n                yoffset,\n                pinned\n            };\n        }.bind(options as GenericTooltip);\n    });\n\n    return options as unknown as Tooltip<T>;\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        style: _normalizeStyle([\n            { visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined },\n            _ctx.unref(_ctx.style) ?? []\n        ]),\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onClick && _ctx.onClick(...args))),\n        onMousedown: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onMouseleave: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onMouseup: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchstart: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.start && _ctx.start(...args))),\n        onTouchend: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        onTouchcancel: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.stop && _ctx.stop(...args))),\n        class: _normalizeClass({\n            feature: true,\n            clickable: true,\n            can: _ctx.unref(_ctx.canClick),\n            locked: !_ctx.unref(_ctx.canClick),\n            small: _ctx.small,\n            ..._ctx.unref(_ctx.classes)\n        })\n      }, [\n        (_ctx.unref(_ctx.comp))\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.comp)), { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 38))\n    : _createCommentVNode(\"\", true)\n}","\nimport \"components/common/features.css\";\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { GenericClickable } from \"features/clickables/clickable\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport {\n    coerceComponent,\n    isCoercableComponent,\n    processedPropType,\n    setupHoldToClick,\n    unwrapRef\n} from \"util/vue\";\nimport {\n    Component,\n    defineComponent,\n    PropType,\n    shallowRef,\n    toRefs,\n    unref,\n    UnwrapRef,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        display: {\n            type: processedPropType<UnwrapRef<GenericClickable[\"display\"]>>(\n                Object,\n                String,\n                Function\n            ),\n            required: true\n        },\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(Object, String, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        onClick: Function as PropType<(e?: MouseEvent | TouchEvent) => void>,\n        onHold: Function as PropType<VoidFunction>,\n        canClick: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        small: Boolean,\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        }\n    },\n    components: {\n        Node,\n        MarkNode\n    },\n    setup(props) {\n        const { display, onClick, onHold } = toRefs(props);\n\n        const comp = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                comp.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                comp.value = coerceComponent(currDisplay);\n                return;\n            }\n            const Title = coerceComponent(currDisplay.title || \"\", \"h3\");\n            const Description = coerceComponent(currDisplay.description, \"div\");\n            comp.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        {currDisplay.title ? (\n                            <div>\n                                <Title />\n                            </div>\n                        ) : null}\n                        <Description />\n                    </span>\n                ))\n            );\n        });\n\n        const { start, stop } = setupHoldToClick(onClick, onHold);\n\n        return {\n            start,\n            stop,\n            comp,\n            Visibility,\n            unref\n        };\n    }\n});\n","import { render } from \"./Clickable.vue?vue&type=template&id=7fbde57e&scoped=true&ts=true\"\nimport script from \"./Clickable.vue?vue&type=script&lang=tsx\"\nexport * from \"./Clickable.vue?vue&type=script&lang=tsx\"\n\nimport \"./Clickable.vue?vue&type=style&index=0&id=7fbde57e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7fbde57e\"]])\n\nexport default __exports__","import ClickableComponent from \"features/clickables/Clickable.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { GenericLayer } from \"game/layers\";\nimport { Unsubscribe } from \"nanoevents\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, unref } from \"vue\";\n\nexport const ClickableType = Symbol(\"Clickable\");\n\nexport interface ClickableOptions {\n    visibility?: Computable<Visibility>;\n    canClick?: Computable<boolean>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    mark?: Computable<boolean | string>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              title?: CoercableComponent;\n              description: CoercableComponent;\n          }\n    >;\n    small?: boolean;\n    onClick?: (e?: MouseEvent | TouchEvent) => void;\n    onHold?: VoidFunction;\n}\n\nexport interface BaseClickable {\n    id: string;\n    type: typeof ClickableType;\n    [Component]: typeof ClickableComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Clickable<T extends ClickableOptions> = Replace<\n    T & BaseClickable,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        canClick: GetComputableTypeWithDefault<T[\"canClick\"], true>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n        display: GetComputableType<T[\"display\"]>;\n    }\n>;\n\nexport type GenericClickable = Replace<\n    Clickable<ClickableOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canClick: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createClickable<T extends ClickableOptions>(\n    optionsFunc?: OptionsFunc<T, Clickable<T>, BaseClickable>\n): Clickable<T> {\n    return createLazyProxy(() => {\n        const clickable = optionsFunc?.() ?? ({} as ReturnType<NonNullable<typeof optionsFunc>>);\n        clickable.id = getUniqueID(\"clickable-\");\n        clickable.type = ClickableType;\n        clickable[Component] = ClickableComponent;\n\n        processComputable(clickable as T, \"visibility\");\n        setDefault(clickable, \"visibility\", Visibility.Visible);\n        processComputable(clickable as T, \"canClick\");\n        setDefault(clickable, \"canClick\", true);\n        processComputable(clickable as T, \"classes\");\n        processComputable(clickable as T, \"style\");\n        processComputable(clickable as T, \"mark\");\n        processComputable(clickable as T, \"display\");\n\n        if (clickable.onClick) {\n            const onClick = clickable.onClick.bind(clickable);\n            clickable.onClick = function (e) {\n                if (unref(clickable.canClick)) {\n                    onClick(e);\n                }\n            };\n        }\n        if (clickable.onHold) {\n            const onHold = clickable.onHold.bind(clickable);\n            clickable.onHold = function () {\n                if (unref(clickable.canClick)) {\n                    onHold();\n                }\n            };\n        }\n\n        clickable[GatherProps] = function (this: GenericClickable) {\n            const {\n                display,\n                visibility,\n                style,\n                classes,\n                onClick,\n                onHold,\n                canClick,\n                small,\n                mark,\n                id\n            } = this;\n            return {\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                onClick,\n                onHold,\n                canClick,\n                small,\n                mark,\n                id\n            };\n        };\n\n        return clickable as unknown as Clickable<T>;\n    });\n}\n\nexport function setupAutoClick(\n    layer: GenericLayer,\n    clickable: GenericClickable,\n    autoActive: Computable<boolean> = true\n): Unsubscribe {\n    const isActive = typeof autoActive === \"function\" ? computed(autoActive) : autoActive;\n    return layer.on(\"update\", () => {\n        if (unref(isActive) && unref(clickable.canClick)) {\n            clickable.onClick?.();\n        }\n    });\n}\n","import {\n    Clickable,\n    ClickableOptions,\n    createClickable,\n    GenericClickable\n} from \"features/clickables/clickable\";\nimport { GenericConversion } from \"features/conversion\";\nimport {\n    CoercableComponent,\n    jsx,\n    JSXFunction,\n    OptionsFunc,\n    Replace,\n    setDefault\n} from \"features/feature\";\nimport { displayResource } from \"features/resources/resource\";\nimport {\n    createTreeNode,\n    GenericTree,\n    GenericTreeNode,\n    TreeNode,\n    TreeNodeOptions\n} from \"features/trees/tree\";\nimport { Modifier } from \"game/modifiers\";\nimport { Persistent, persistent } from \"game/persistence\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { WithRequired } from \"util/common\";\nimport {\n    Computable,\n    convertComputable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { renderJSX } from \"util/vue\";\nimport { computed, Ref, unref } from \"vue\";\nimport \"./common.css\";\n\nexport interface ResetButtonOptions extends ClickableOptions {\n    conversion: GenericConversion;\n    tree: GenericTree;\n    treeNode: GenericTreeNode;\n    resetDescription?: Computable<string>;\n    showNextAt?: Computable<boolean>;\n    display?: Computable<CoercableComponent>;\n    canClick?: Computable<boolean>;\n    minimumGain?: Computable<DecimalSource>;\n}\n\nexport type ResetButton<T extends ResetButtonOptions> = Replace<\n    Clickable<T>,\n    {\n        resetDescription: GetComputableTypeWithDefault<T[\"resetDescription\"], Ref<string>>;\n        showNextAt: GetComputableTypeWithDefault<T[\"showNextAt\"], true>;\n        display: GetComputableTypeWithDefault<T[\"display\"], Ref<JSX.Element>>;\n        canClick: GetComputableTypeWithDefault<T[\"canClick\"], Ref<boolean>>;\n        minimumGain: GetComputableTypeWithDefault<T[\"minimumGain\"], 1>;\n        onClick: VoidFunction;\n    }\n>;\n\nexport type GenericResetButton = Replace<\n    GenericClickable & ResetButton<ResetButtonOptions>,\n    {\n        resetDescription: ProcessedComputable<string>;\n        showNextAt: ProcessedComputable<boolean>;\n        display: ProcessedComputable<CoercableComponent>;\n        canClick: ProcessedComputable<boolean>;\n        minimumGain: ProcessedComputable<DecimalSource>;\n    }\n>;\n\nexport function createResetButton<T extends ClickableOptions & ResetButtonOptions>(\n    optionsFunc: OptionsFunc<T>\n): ResetButton<T> {\n    return createClickable(() => {\n        const resetButton = optionsFunc();\n\n        processComputable(resetButton as T, \"showNextAt\");\n        setDefault(resetButton, \"showNextAt\", true);\n        setDefault(resetButton, \"minimumGain\", 1);\n\n        if (resetButton.resetDescription == null) {\n            resetButton.resetDescription = computed(() =>\n                Decimal.lt(resetButton.conversion.gainResource.value, 1e3) ? \"Reset for \" : \"\"\n            );\n        } else {\n            processComputable(resetButton as T, \"resetDescription\");\n        }\n\n        if (resetButton.display == null) {\n            resetButton.display = jsx(() => (\n                <span>\n                    {unref(resetButton.resetDescription as ProcessedComputable<string>)}\n                    <b>\n                        {displayResource(\n                            resetButton.conversion.gainResource,\n                            Decimal.max(\n                                unref(resetButton.conversion.actualGain),\n                                unref(resetButton.minimumGain as ProcessedComputable<DecimalSource>)\n                            )\n                        )}\n                    </b>{\" \"}\n                    {resetButton.conversion.gainResource.displayName}\n                    <div v-show={unref(resetButton.showNextAt)}>\n                        <br />\n                        {resetButton.conversion.buyMax ? \"Next:\" : \"Req:\"}{\" \"}\n                        {displayResource(\n                            resetButton.conversion.baseResource,\n                            resetButton.conversion.buyMax ||\n                                Decimal.floor(unref(resetButton.conversion.actualGain)).neq(1)\n                                ? unref(resetButton.conversion.nextAt)\n                                : unref(resetButton.conversion.currentAt)\n                        )}{\" \"}\n                        {resetButton.conversion.baseResource.displayName}\n                    </div>\n                </span>\n            ));\n        }\n\n        if (resetButton.canClick == null) {\n            resetButton.canClick = computed(() =>\n                Decimal.gte(\n                    unref(resetButton.conversion.actualGain),\n                    unref(resetButton.minimumGain as ProcessedComputable<DecimalSource>)\n                )\n            );\n        }\n\n        const onClick = resetButton.onClick;\n        resetButton.onClick = function () {\n            if (!unref(resetButton.canClick)) {\n                return;\n            }\n            resetButton.conversion.convert();\n            resetButton.tree.reset(resetButton.treeNode);\n            onClick?.();\n        };\n\n        return resetButton;\n    }) as unknown as ResetButton<T>;\n}\n\nexport interface LayerTreeNodeOptions extends TreeNodeOptions {\n    layerID: string;\n    color: Computable<string>; // marking as required\n    display?: Computable<CoercableComponent>;\n    append?: Computable<boolean>;\n}\nexport type LayerTreeNode<T extends LayerTreeNodeOptions> = Replace<\n    TreeNode<T>,\n    {\n        display: GetComputableTypeWithDefault<T[\"display\"], T[\"layerID\"]>;\n        append: GetComputableType<T[\"append\"]>;\n    }\n>;\nexport type GenericLayerTreeNode = Replace<\n    LayerTreeNode<LayerTreeNodeOptions>,\n    {\n        display: ProcessedComputable<CoercableComponent>;\n        append?: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createLayerTreeNode<T extends LayerTreeNodeOptions>(\n    optionsFunc: OptionsFunc<T>\n): LayerTreeNode<T> {\n    return createTreeNode(() => {\n        const options = optionsFunc();\n        processComputable(options as T, \"display\");\n        setDefault(options, \"display\", options.layerID);\n        processComputable(options as T, \"append\");\n        return {\n            ...options,\n            display: options.display,\n            onClick: unref((options as unknown as GenericLayerTreeNode).append)\n                ? function () {\n                      if (player.tabs.includes(options.layerID)) {\n                          const index = player.tabs.lastIndexOf(options.layerID);\n                          player.tabs.splice(index, 1);\n                      } else {\n                          player.tabs.push(options.layerID);\n                      }\n                  }\n                : function () {\n                      player.tabs.splice(1, 1, options.layerID);\n                  }\n        };\n    }) as unknown as LayerTreeNode<T>;\n}\n\nexport function createCollapsibleModifierSections(\n    sections: {\n        title: string;\n        subtitle?: string;\n        modifier: WithRequired<Modifier, \"description\">;\n        base?: Computable<DecimalSource>;\n        unit?: string;\n        baseText?: Computable<CoercableComponent>;\n        visible?: Computable<boolean>;\n    }[]\n): [JSXFunction, Persistent<boolean>[]] {\n    const processedBase = sections.map(s => convertComputable(s.base));\n    const processedBaseText = sections.map(s => convertComputable(s.baseText));\n    const processedVisible = sections.map(s => convertComputable(s.visible));\n    const collapsed = sections.map(() => persistent<boolean>(false));\n    const jsxFunc = jsx(() => {\n        const sectionJSX = sections.map((s, i) => {\n            if (unref(processedVisible[i]) === false) return null;\n            const header = (\n                <h3\n                    onClick={() => (collapsed[i].value = !collapsed[i].value)}\n                    style=\"cursor: pointer\"\n                >\n                    <span class={\"modifier-toggle\" + (unref(collapsed[i]) ? \" collapsed\" : \"\")}>\n                        \n                    </span>\n                    {s.title}\n                    {s.subtitle ? <span class=\"subtitle\"> ({s.subtitle})</span> : null}\n                </h3>\n            );\n\n            const modifiers = unref(collapsed[i]) ? null : (\n                <>\n                    <div class=\"modifier-container\">\n                        <span class=\"modifier-amount\">\n                            {format(unref(processedBase[i]) ?? 1)}\n                            {s.unit}\n                        </span>\n                        <span class=\"modifier-description\">\n                            {renderJSX(unref(processedBaseText[i]) ?? \"Base\")}\n                        </span>\n                    </div>\n                    {renderJSX(unref(s.modifier.description))}\n                </>\n            );\n\n            return (\n                <>\n                    {i === 0 ? null : <br />}\n                    <div>\n                        {header}\n                        <br />\n                        {modifiers}\n                        <hr />\n                        Total: {format(s.modifier.apply(unref(processedBase[i]) ?? 1))}\n                        {s.unit}\n                    </div>\n                </>\n            );\n        });\n        return <>{sectionJSX}</>;\n    });\n    return [jsxFunc, collapsed];\n}\n","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f164fe2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_MarkNode = _resolveComponent(\"MarkNode\")!\n  const _component_Node = _resolveComponent(\"Node\")!\n\n  return (_ctx.unref(_ctx.visibility) !== _ctx.Visibility.None)\n    ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        style: _normalizeStyle([\n            {\n                visibility: _ctx.unref(_ctx.visibility) === _ctx.Visibility.Hidden ? 'hidden' : undefined\n            },\n            _ctx.unref(_ctx.style) ?? {}\n        ]),\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.purchase && _ctx.purchase(...args))),\n        class: _normalizeClass({\n            feature: true,\n            upgrade: true,\n            can: _ctx.unref(_ctx.canPurchase),\n            locked: !_ctx.unref(_ctx.canPurchase),\n            bought: _ctx.unref(_ctx.bought),\n            ..._ctx.unref(_ctx.classes)\n        }),\n        disabled: !_ctx.unref(_ctx.canPurchase)\n      }, [\n        (_ctx.unref(_ctx.component))\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.unref(_ctx.component)), { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_MarkNode, {\n          mark: _ctx.unref(_ctx.mark)\n        }, null, 8, [\"mark\"]),\n        _createVNode(_component_Node, { id: _ctx.id }, null, 8, [\"id\"])\n      ], 14, _hoisted_1))\n    : _createCommentVNode(\"\", true)\n}","\nimport \"components/common/features.css\";\nimport Node from \"components/Node.vue\";\nimport MarkNode from \"components/MarkNode.vue\";\nimport { jsx, StyleValue, Visibility } from \"features/feature\";\nimport { displayResource, Resource } from \"features/resources/resource\";\nimport { GenericUpgrade } from \"features/upgrades/upgrade\";\nimport { DecimalSource } from \"util/bignum\";\nimport { coerceComponent, isCoercableComponent, processedPropType, unwrapRef } from \"util/vue\";\nimport {\n    Component,\n    defineComponent,\n    PropType,\n    shallowRef,\n    toRefs,\n    unref,\n    UnwrapRef,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        display: {\n            type: processedPropType<UnwrapRef<GenericUpgrade[\"display\"]>>(String, Object, Function),\n            required: true\n        },\n        visibility: {\n            type: processedPropType<Visibility>(Number),\n            required: true\n        },\n        style: processedPropType<StyleValue>(String, Object, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        resource: Object as PropType<Resource>,\n        cost: processedPropType<DecimalSource>(String, Object, Number),\n        canPurchase: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        bought: {\n            type: processedPropType<boolean>(Boolean),\n            required: true\n        },\n        mark: processedPropType<boolean | string>(Boolean, String),\n        id: {\n            type: String,\n            required: true\n        },\n        purchase: {\n            type: Function as PropType<VoidFunction>,\n            required: true\n        }\n    },\n    components: {\n        Node,\n        MarkNode\n    },\n    setup(props) {\n        const { display, cost } = toRefs(props);\n\n        const component = shallowRef<Component | string>(\"\");\n\n        watchEffect(() => {\n            const currDisplay = unwrapRef(display);\n            if (currDisplay == null) {\n                component.value = \"\";\n                return;\n            }\n            if (isCoercableComponent(currDisplay)) {\n                component.value = coerceComponent(currDisplay);\n                return;\n            }\n            const currCost = unwrapRef(cost);\n            const Title = coerceComponent(currDisplay.title || \"\", \"h3\");\n            const Description = coerceComponent(currDisplay.description, \"div\");\n            const EffectDisplay = coerceComponent(currDisplay.effectDisplay || \"\");\n            component.value = coerceComponent(\n                jsx(() => (\n                    <span>\n                        {currDisplay.title ? (\n                            <div>\n                                <Title />\n                            </div>\n                        ) : null}\n                        <Description />\n                        {currDisplay.effectDisplay ? (\n                            <div>\n                                Currently: <EffectDisplay />\n                            </div>\n                        ) : null}\n                        {props.resource != null ? (\n                            <>\n                                <br />\n                                Cost: {props.resource &&\n                                    displayResource(props.resource, currCost)}{\" \"}\n                                {props.resource?.displayName}\n                            </>\n                        ) : null}\n                    </span>\n                ))\n            );\n        });\n\n        return {\n            component,\n            unref,\n            Visibility\n        };\n    }\n});\n","import { render } from \"./Upgrade.vue?vue&type=template&id=6f164fe2&scoped=true&ts=true\"\nimport script from \"./Upgrade.vue?vue&type=script&lang=tsx\"\nexport * from \"./Upgrade.vue?vue&type=script&lang=tsx\"\n\nimport \"./Upgrade.vue?vue&type=style&index=0&id=6f164fe2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6f164fe2\"]])\n\nexport default __exports__","import UpgradeComponent from \"features/upgrades/Upgrade.vue\";\nimport {\n    CoercableComponent,\n    Component,\n    OptionsFunc,\n    findFeatures,\n    GatherProps,\n    getUniqueID,\n    Replace,\n    setDefault,\n    StyleValue,\n    Visibility\n} from \"features/feature\";\nimport { Resource } from \"features/resources/resource\";\nimport { GenericLayer } from \"game/layers\";\nimport Decimal, { DecimalSource } from \"util/bignum\";\nimport { isFunction } from \"util/common\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { computed, Ref, unref } from \"vue\";\nimport { persistent, Persistent } from \"game/persistence\";\n\nexport const UpgradeType = Symbol(\"Upgrade\");\n\nexport interface UpgradeOptions {\n    visibility?: Computable<Visibility>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    display?: Computable<\n        | CoercableComponent\n        | {\n              title?: CoercableComponent;\n              description: CoercableComponent;\n              effectDisplay?: CoercableComponent;\n          }\n    >;\n    mark?: Computable<boolean | string>;\n    cost?: Computable<DecimalSource>;\n    resource?: Resource;\n    canAfford?: Computable<boolean>;\n    onPurchase?: VoidFunction;\n}\n\nexport interface BaseUpgrade {\n    id: string;\n    bought: Persistent<boolean>;\n    canPurchase: Ref<boolean>;\n    purchase: VoidFunction;\n    type: typeof UpgradeType;\n    [Component]: typeof UpgradeComponent;\n    [GatherProps]: () => Record<string, unknown>;\n}\n\nexport type Upgrade<T extends UpgradeOptions> = Replace<\n    T & BaseUpgrade,\n    {\n        visibility: GetComputableTypeWithDefault<T[\"visibility\"], Visibility.Visible>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        mark: GetComputableType<T[\"mark\"]>;\n        cost: GetComputableType<T[\"cost\"]>;\n        canAfford: GetComputableTypeWithDefault<T[\"canAfford\"], Ref<boolean>>;\n    }\n>;\n\nexport type GenericUpgrade = Replace<\n    Upgrade<UpgradeOptions>,\n    {\n        visibility: ProcessedComputable<Visibility>;\n        canPurchase: ProcessedComputable<boolean>;\n    }\n>;\n\nexport function createUpgrade<T extends UpgradeOptions>(\n    optionsFunc: OptionsFunc<T, Upgrade<T>, BaseUpgrade>\n): Upgrade<T> {\n    const bought = persistent<boolean>(false);\n    return createLazyProxy(() => {\n        const upgrade = optionsFunc();\n        upgrade.id = getUniqueID(\"upgrade-\");\n        upgrade.type = UpgradeType;\n        upgrade[Component] = UpgradeComponent;\n\n        if (upgrade.canAfford == null && (upgrade.resource == null || upgrade.cost == null)) {\n            console.warn(\n                \"Error: can't create upgrade without a canAfford property or a resource and cost property\",\n                upgrade\n            );\n        }\n\n        upgrade.bought = bought;\n        if (upgrade.canAfford == null) {\n            upgrade.canAfford = computed(() => {\n                const genericUpgrade = upgrade as GenericUpgrade;\n                return (\n                    genericUpgrade.resource != null &&\n                    genericUpgrade.cost != null &&\n                    Decimal.gte(genericUpgrade.resource.value, unref(genericUpgrade.cost))\n                );\n            });\n        } else {\n            processComputable(upgrade as T, \"canAfford\");\n        }\n        upgrade.canPurchase = computed(\n            () =>\n                unref((upgrade as GenericUpgrade).visibility) === Visibility.Visible &&\n                unref((upgrade as GenericUpgrade).canAfford) &&\n                !unref(upgrade.bought)\n        );\n        upgrade.purchase = function () {\n            const genericUpgrade = upgrade as GenericUpgrade;\n            if (!unref(genericUpgrade.canPurchase)) {\n                return;\n            }\n            if (genericUpgrade.resource != null && genericUpgrade.cost != null) {\n                genericUpgrade.resource.value = Decimal.sub(\n                    genericUpgrade.resource.value,\n                    unref(genericUpgrade.cost)\n                );\n            }\n            bought.value = true;\n            genericUpgrade.onPurchase?.();\n        };\n\n        processComputable(upgrade as T, \"visibility\");\n        setDefault(upgrade, \"visibility\", Visibility.Visible);\n        processComputable(upgrade as T, \"classes\");\n        processComputable(upgrade as T, \"style\");\n        processComputable(upgrade as T, \"display\");\n        processComputable(upgrade as T, \"mark\");\n        processComputable(upgrade as T, \"cost\");\n        processComputable(upgrade as T, \"resource\");\n\n        upgrade[GatherProps] = function (this: GenericUpgrade) {\n            const {\n                display,\n                visibility,\n                style,\n                classes,\n                resource,\n                cost,\n                canPurchase,\n                bought,\n                mark,\n                id,\n                purchase\n            } = this;\n            return {\n                display,\n                visibility,\n                style: unref(style),\n                classes,\n                resource,\n                cost,\n                canPurchase,\n                bought,\n                mark,\n                id,\n                purchase\n            };\n        };\n\n        return upgrade as unknown as Upgrade<T>;\n    });\n}\n\nexport function setupAutoPurchase(\n    layer: GenericLayer,\n    autoActive: Computable<boolean>,\n    upgrades: GenericUpgrade[] = []\n): void {\n    upgrades = upgrades || findFeatures(layer, UpgradeType);\n    const isAutoActive = isFunction(autoActive) ? computed(autoActive) : autoActive;\n    layer.on(\"update\", () => {\n        if (unref(isAutoActive)) {\n            upgrades.forEach(upgrade => upgrade.purchase());\n        }\n    });\n}\n","import \"components/common/modifiers.css\";\nimport { CoercableComponent, jsx } from \"features/feature\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { WithRequired } from \"util/common\";\nimport { Computable, convertComputable, ProcessedComputable } from \"util/computed\";\nimport { renderJSX } from \"util/vue\";\nimport { computed, unref } from \"vue\";\n\n/**\n * An object that can be used to apply or unapply some modification to a number.\n * Being reversible requires the operation being invertible, but some features may rely on that.\n * Descriptions can be optionally included for displaying them to the player.\n * The built-in modifier creators are designed to display the modifiers using.\n * {@link createModifierSection}.\n */\nexport interface Modifier {\n    /**\n     * Applies some operation on the input and returns the result.\n     */\n    apply: (gain: DecimalSource) => DecimalSource;\n    /**\n     * Reverses the operation applied by the apply property. Required by some features.\n     */\n    revert?: (gain: DecimalSource) => DecimalSource;\n    /**\n     * Whether or not this modifier should be considered enabled.\n     * Typically for use with modifiers passed into {@link createSequentialModifier}.\n     */\n    enabled?: ProcessedComputable<boolean>;\n    /**\n     * A description of this modifier.\n     * @see {@link createModifierSection}.\n     */\n    description?: ProcessedComputable<CoercableComponent>;\n}\n\n/**\n * Utility type used to narrow down a modifier type that will have a description and/or enabled property based on optional parameters, T and S (respectively).\n */\nexport type ModifierFromOptionalParams<T, S> = T extends undefined\n    ? S extends undefined\n        ? Omit<WithRequired<Modifier, \"revert\">, \"description\" | \"enabled\">\n        : Omit<WithRequired<Modifier, \"revert\" | \"enabled\">, \"description\">\n    : S extends undefined\n    ? Omit<WithRequired<Modifier, \"revert\" | \"description\">, \"enabled\">\n    : WithRequired<Modifier, \"revert\" | \"enabled\" | \"description\">;\n\n/**\n * Create a modifier that adds some value to the input value.\n * @param addend The amount to add to the input value.\n * @param description Description of what this modifier is doing.\n * @param enabled A computable that will be processed and passed directly into the returned modifier.\n */\nexport function createAdditiveModifier<\n    T extends Computable<CoercableComponent> | undefined,\n    S extends Computable<boolean> | undefined,\n    R = ModifierFromOptionalParams<T, S>\n>(addend: Computable<DecimalSource>, description?: T, enabled?: S): R {\n    const processedAddend = convertComputable(addend);\n    const processedDescription = convertComputable(description);\n    const processedEnabled = enabled == null ? undefined : convertComputable(enabled);\n    return {\n        apply: (gain: DecimalSource) => Decimal.add(gain, unref(processedAddend)),\n        revert: (gain: DecimalSource) => Decimal.sub(gain, unref(processedAddend)),\n        enabled: processedEnabled,\n        description:\n            description == null\n                ? undefined\n                : jsx(() => (\n                      <div class=\"modifier-container\">\n                          <span class=\"modifier-amount\">+{format(unref(processedAddend))}</span>\n                          {unref(processedDescription) ? (\n                              <span class=\"modifier-description\">\n                                  {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                                  {renderJSX(unref(processedDescription)!)}\n                              </span>\n                          ) : null}\n                      </div>\n                  ))\n    } as unknown as R;\n}\n\n/**\n * Create a modifier that multiplies the input value by some value.\n * @param multiplier The value to multiply the input value by.\n * @param description Description of what this modifier is doing.\n * @param enabled A computable that will be processed and passed directly into the returned modifier.\n */\nexport function createMultiplicativeModifier<\n    T extends Computable<CoercableComponent> | undefined,\n    S extends Computable<boolean> | undefined,\n    R = ModifierFromOptionalParams<T, S>\n>(multiplier: Computable<DecimalSource>, description?: T, enabled?: S): R {\n    const processedMultiplier = convertComputable(multiplier);\n    const processedDescription = convertComputable(description);\n    const processedEnabled = enabled == null ? undefined : convertComputable(enabled);\n    return {\n        apply: (gain: DecimalSource) => Decimal.times(gain, unref(processedMultiplier)),\n        revert: (gain: DecimalSource) => Decimal.div(gain, unref(processedMultiplier)),\n        enabled: processedEnabled,\n        description:\n            description == null\n                ? undefined\n                : jsx(() => (\n                      <div class=\"modifier-container\">\n                          <span class=\"modifier-amount\">x{format(unref(processedMultiplier))}</span>\n                          {unref(processedDescription) ? (\n                              <span class=\"modifier-description\">\n                                  {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                                  {renderJSX(unref(processedDescription)!)}\n                              </span>\n                          ) : null}\n                      </div>\n                  ))\n    } as unknown as R;\n}\n\n/**\n * Create a modifier that raises the input value to the power of some value.\n * @param exponent The value to raise the input value to the power of.\n * @param description Description of what this modifier is doing.\n * @param enabled A computable that will be processed and passed directly into the returned modifier.\n */\nexport function createExponentialModifier<\n    T extends Computable<CoercableComponent> | undefined,\n    S extends Computable<boolean> | undefined,\n    R = ModifierFromOptionalParams<T, S>\n>(exponent: Computable<DecimalSource>, description?: T, enabled?: S): R {\n    const processedExponent = convertComputable(exponent);\n    const processedDescription = convertComputable(description);\n    const processedEnabled = enabled == null ? undefined : convertComputable(enabled);\n    return {\n        apply: (gain: DecimalSource) => Decimal.pow(gain, unref(processedExponent)),\n        revert: (gain: DecimalSource) => Decimal.root(gain, unref(processedExponent)),\n        enabled: processedEnabled,\n        description:\n            description == null\n                ? undefined\n                : jsx(() => (\n                      <div class=\"modifier-container\">\n                          <span class=\"modifier-amount\">^{format(unref(processedExponent))}</span>\n                          {unref(processedDescription) ? (\n                              <span class=\"modifier-description\">\n                                  {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                                  {renderJSX(unref(processedDescription)!)}\n                              </span>\n                          ) : null}\n                      </div>\n                  ))\n    } as unknown as R;\n}\n\n/**\n * Takes an array of modifiers and applies and reverses them in order.\n * Modifiers that are not enabled will not be applied nor reversed.\n * Also joins their descriptions together.\n * @param modifiers The modifiers to perform sequentially.\n * @see {@link createModifierSection}.\n */\nexport function createSequentialModifier<\n    T extends Modifier[],\n    S = T extends WithRequired<Modifier, \"revert\">[]\n        ? WithRequired<Modifier, \"description\" | \"revert\">\n        : Omit<WithRequired<Modifier, \"description\">, \"revert\">\n>(...modifiers: T): S {\n    return {\n        apply: (gain: DecimalSource) =>\n            modifiers\n                .filter(m => unref(m.enabled) !== false)\n                .reduce((gain, modifier) => modifier.apply(gain), gain),\n        revert: modifiers.every(m => m.revert != null)\n            ? (gain: DecimalSource) =>\n                  modifiers\n                      .filter(m => unref(m.enabled) !== false)\n                      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                      .reduceRight((gain, modifier) => modifier.revert!(gain), gain)\n            : undefined,\n        enabled: computed(() => modifiers.filter(m => unref(m.enabled) !== false).length > 0),\n        description: jsx(() => (\n            <>\n                {(\n                    modifiers\n                        .filter(m => unref(m.enabled) !== false)\n                        .map(m => unref(m.description))\n                        .filter(d => d) as CoercableComponent[]\n                ).map(renderJSX)}\n            </>\n        ))\n    } as unknown as S;\n}\n\n/**\n * Create a JSX element that displays a modifier.\n * Intended to be used with the output from {@link createSequentialModifier}.\n * @param title The header for the section.\n * @param subtitle Smaller text that appears in the header after the title.\n * @param modifier The modifier to render.\n * @param base The base value that'll be passed into the modifier.\n * @param unit The unit of the value being modified, if any.\n * @param baseText The label to use for the base value.\n */\nexport function createModifierSection(\n    title: string,\n    subtitle: string,\n    modifier: Required<Modifier>,\n    base: DecimalSource = 1,\n    unit = \"\",\n    baseText: CoercableComponent = \"Base\"\n) {\n    return (\n        <div>\n            <h3>\n                {title}\n                {subtitle ? <span class=\"subtitle\"> ({subtitle})</span> : null}\n            </h3>\n            <br />\n            <div class=\"modifier-container\">\n                <span class=\"modifier-amount\">\n                    {format(base)}\n                    {unit}\n                </span>\n                <span class=\"modifier-description\">{renderJSX(baseText)}</span>\n            </div>\n            {renderJSX(unref(modifier.description))}\n            <hr />\n            Total: {format(modifier.apply(base))}\n            {unit}\n        </div>\n    );\n}\n","/**\n * @module\n * @hidden\n */\nimport { main } from \"data/projEntry\";\nimport { createCumulativeConversion, createPolynomialScaling } from \"features/conversion\";\nimport { jsx, Visibility } from \"features/feature\";\nimport { createReset } from \"features/reset\";\nimport MainDisplay from \"features/resources/MainDisplay.vue\";\nimport { createResource, displayResource } from \"features/resources/resource\";\nimport { addTooltip } from \"features/tooltips/tooltip\";\nimport { createResourceTooltip } from \"features/trees/tree\";\nimport { createUpgrade } from \"features/upgrades/upgrade\";\nimport { createLayer } from \"game/layers\";\nimport { createMultiplicativeModifier, createSequentialModifier } from \"game/modifiers\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource, format } from \"util/bignum\";\nimport { render, renderRow } from \"util/vue\";\nimport { computed, unref } from \"vue\";\nimport { createLayerTreeNode, createResetButton } from \"../common\";\nimport factor from \"./factor\";\nconst id = \"n\";\nconst layer = createLayer(id, () => {\n    const name = \"number\";\n    const color = \"#4BDC13\";\n    const points = createResource<DecimalSource>(0, \"numbers\");\n\n    const conversion = createCumulativeConversion(() => ({\n        scaling: createPolynomialScaling(5, 0.5),\n        baseResource: main.points,\n        gainResource: points,\n        roundUpCost: true,\n        gainModifier: createSequentialModifier(\n            createMultiplicativeModifier(upgradeEffects[4], \"Number Upgrade 4\", up4.bought),\n            createMultiplicativeModifier(upgradeEffects[7], \"Number Upgrade 7\", up7.bought),\n            createMultiplicativeModifier(\n                factor.milestoneEffects[1],\n                \"Factor Milestone 1\",\n                factor.mi1.earned\n            )\n        )\n    }));\n\n    const upgradeEffects = {\n        2: computed(() => {\n            let power = new Decimal(0.4);\n            if (up5.bought.value) power = power.add(0.2);\n            let cap = new Decimal(1000);\n            if (up6.bought.value) cap = cap.times(40);\n            return Decimal.add(1, points.value).pow(power).min(cap);\n        }),\n        3: computed(() => {\n            let power = new Decimal(0.2);\n            if (up8.bought.value) power = power.add(0.075);\n            let cap = new Decimal(30);\n            if (up8.bought.value) cap = cap.times(50);\n            return Decimal.add(1, main.points.value).pow(power).min(cap);\n        }),\n        4: computed(() => {\n            let power = new Decimal(0.15);\n            if (up10.bought.value) power = power.sub(0.025);\n            let cap = new Decimal(20);\n            if (up10.bought.value) cap = cap.times(50);\n            return Decimal.add(1, main.points.value).pow(0.15).min(cap);\n        }),\n        7: computed(() => {\n            let power = new Decimal(1);\n            if (up9.bought.value) power = power.times(2);\n            return Decimal.add(10, points.value).log10().pow(power);\n        })\n    };\n\n    const up1 = createUpgrade(() => ({\n        display: {\n            title: \"1\",\n            description: \"Points gain x4\"\n        },\n        cost: 1,\n        resource: points\n    }));\n    const up2 = createUpgrade(() => ({\n        display: {\n            title: \"2\",\n            description: \"Numbers boost points gain.\",\n            effectDisplay() {\n                return format(upgradeEffects[2].value) + \"x\";\n            }\n        },\n        cost: 5,\n        resource: points,\n        visibility: () => (up1.bought.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up3 = createUpgrade(() => ({\n        display: {\n            title: \"3\",\n            description: \"Points boost themselves.\",\n            effectDisplay() {\n                return format(upgradeEffects[3].value) + \"x\";\n            }\n        },\n        cost: 30,\n        resource: points,\n        visibility: () => (up2.bought.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up4 = createUpgrade(() => ({\n        display: {\n            title: \"4\",\n            description: \"Points boost numbers gain.\",\n            effectDisplay() {\n                return format(upgradeEffects[4].value) + \"x\";\n            }\n        },\n        cost: 100,\n        resource: points,\n        visibility: () => (up3.bought.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up5 = createUpgrade(() => ({\n        display: {\n            title: \"5\",\n            description: \"Boost '2'.\"\n        },\n        cost: 400,\n        resource: points,\n        visibility: () => (up4.bought.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up6 = createUpgrade(() => ({\n        display: {\n            title: \"6\",\n            description: \"'2' hardcap start later.\"\n        },\n        cost: 1e5,\n        resource: points,\n        visibility: () => (factor.mi1.earned.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up7 = createUpgrade(() => ({\n        display: {\n            title: \"7\",\n            description: \"Numbers boost themselves.\",\n            effectDisplay() {\n                return format(upgradeEffects[7].value) + \"x\";\n            }\n        },\n        cost: 5e5,\n        resource: points,\n        visibility: () => (factor.mi1.earned.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up8 = createUpgrade(() => ({\n        display: {\n            title: \"8\",\n            description: \"Boost '3' and its hardcap start later.\"\n        },\n        cost: 1e7,\n        resource: points,\n        visibility: () => (factor.mi1.earned.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up9 = createUpgrade(() => ({\n        display: {\n            title: \"9\",\n            description: \"'7' also affect point gain and boost it.\"\n        },\n        cost: 1e10,\n        resource: points,\n        visibility: () => (factor.mi1.earned.value ? Visibility.Visible : Visibility.None)\n    }));\n    const up10 = createUpgrade(() => ({\n        display: {\n            title: \"10\",\n            description: \"'4' hardcap start later but nerf it.\"\n        },\n        cost: 1e16,\n        resource: points,\n        visibility: () => (factor.mi1.earned.value ? Visibility.Visible : Visibility.None)\n    }));\n    const reset = createReset(() => ({\n        thingsToReset: (): Record<string, unknown>[] => [layer]\n    }));\n\n    const treeNode = createLayerTreeNode(() => ({\n        layerID: id,\n        color,\n        reset\n    }));\n    addTooltip(treeNode, {\n        display: createResourceTooltip(points),\n        pinnable: true\n    });\n\n    const resetButton = createResetButton(() => ({\n        conversion,\n        tree: main.tree,\n        treeNode\n    }));\n\n    return {\n        name,\n        color,\n        points,\n        display: jsx(() => (\n            <>\n                <MainDisplay resource={points} color={color} />\n                {render(resetButton)}\n                <br />\n                <br />\n\n                {renderRow(up1, up2, up3, up4, up5)}\n                <br />\n                {renderRow(up6, up7, up8, up9, up10)}\n            </>\n        )),\n        treeNode,\n        up1,\n        up2,\n        up3,\n        up4,\n        up5,\n        up6,\n        up7,\n        up8,\n        up9,\n        up10,\n        upgradeEffects\n    };\n});\nexport default layer;\n","/**\n * @module\n * @hidden\n */\nimport { main } from \"data/projEntry\";\nimport { createChallenge } from \"features/challenges/challenge\";\nimport {\n    createCumulativeConversion,\n    createExponentialScaling,\n    createIndependentConversion,\n    createPolynomialScaling\n} from \"features/conversion\";\nimport { jsx, Visibility } from \"features/feature\";\nimport { createMilestone } from \"features/milestones/milestone\";\nimport { createReset } from \"features/reset\";\nimport MainDisplay from \"features/resources/MainDisplay.vue\";\nimport { createResource, displayResource } from \"features/resources/resource\";\nimport { addTooltip } from \"features/tooltips/tooltip\";\nimport { createResourceTooltip } from \"features/trees/tree\";\nimport { createUpgrade } from \"features/upgrades/upgrade\";\nimport { createLayer } from \"game/layers\";\nimport { createMultiplicativeModifier, createSequentialModifier } from \"game/modifiers\";\nimport player from \"game/player\";\nimport Decimal, { DecimalSource, format, formatWhole } from \"util/bignum\";\nimport { render, renderRow } from \"util/vue\";\nimport { computed, unref } from \"vue\";\nimport { createLayerTreeNode, createResetButton } from \"../common\";\nimport number from \"./number\";\n\nconst id = \"f\";\nconst layer = createLayer(id, () => {\n    const name = \"factor\";\n    const color = \"#FFCD00\";\n    const points = createResource<DecimalSource>(0, \"factors\");\n\n    const conversion = createIndependentConversion(() => ({\n        scaling: createExponentialScaling(1000, 5, 1.2),\n        baseResource: number.points,\n        gainResource: points,\n        roundUpCost: true\n    }));\n    const costnext = Decimal.mul(\n        2000,\n        Decimal.pow(5, Decimal.pow(Decimal.add(points.value, 2), 1.2))\n    );\n    const milestoneEffects = {\n        1: computed(() => {\n            let power = new Decimal(1);\n            if (cha1.completions.value) power = power.times(2);\n            let amt = points.value;\n            if (cha2.completions.value) amt = Decimal.add(amt, unref(challengeEffects[2]));\n            return Decimal.add(1, amt).pow(power);\n        })\n    };\n    const challengeEffects = {\n        2: computed(() => {\n            let power = new Decimal(1.5);\n            if (cha2.completions.value) power = power.times(1);\n            return Decimal.add(number.points.value, 1).log10().pow(power).floor();\n        })\n    };\n    const mi1 = createMilestone(() => ({\n        visibility: () => (Decimal.gte(points.value, 0) ? Visibility.Visible : Visibility.None),\n        shouldEarn() {\n            return Decimal.gte(points.value, 1);\n        },\n        display: {\n            requirement: jsx(() => (\n                <>\n                    <h3>1 Factors</h3>\n                    <br />\n                    Factors boost points and numbers gain.\n                </>\n            ))\n        }\n    }));\n    const mi2 = createMilestone(() => ({\n        visibility: () => (Decimal.gte(points.value, 0) ? Visibility.Visible : Visibility.None),\n        shouldEarn() {\n            return Decimal.gte(points.value, 3);\n        },\n        display: {\n            requirement: jsx(() => (\n                <>\n                    <h3>3 Factors</h3>\n                    <br />\n                    Unlock new number upgrades.\n                </>\n            ))\n        }\n    }));\n    const mi3 = createMilestone(() => ({\n        visibility: () => (Decimal.gte(points.value, 1) ? Visibility.Visible : Visibility.None),\n        shouldEarn() {\n            return Decimal.gte(points.value, 6);\n        },\n        display: {\n            requirement: jsx(() => (\n                <>\n                    <h3>6 Factors</h3>\n                    <br />\n                    Unlock factor challenge.\n                </>\n            ))\n        }\n    }));\n    const mi4 = createMilestone(() => ({\n        visibility: () => (Decimal.gte(points.value, 3) ? Visibility.Visible : Visibility.None),\n        shouldEarn() {\n            return Decimal.gte(points.value, 13);\n        },\n        display: {\n            requirement: jsx(() => (\n                <>\n                    <h3>13 Factors</h3>\n                    <br />\n                    Unlock factor calculator (wip).\n                </>\n            ))\n        }\n    }));\n    const cha1 = createChallenge(() => ({\n        visibility: () => (Decimal.gte(points.value, 6) ? Visibility.Visible : Visibility.None),\n        resource: number.points,\n        reset: challengeReset,\n        goal: () => {\n            return new Decimal(5000);\n        },\n        display: () => ({\n            title: \"Square Root Factor\",\n            description: \"Point gain is square root.\",\n            goal: \"5,000 numbers\",\n            reward: \"The first factor milestone effect is squared.\"\n        })\n    }));\n    const cha2 = createChallenge(() => ({\n        visibility: () => (cha1.completions.value ? Visibility.Visible : Visibility.None),\n        resource: number.points,\n        reset: challengeReset,\n        goal: () => {\n            return new Decimal(2.5e8);\n        },\n        display: () => ({\n            title: \"Factor Overpowered Factor\",\n            description:\n                \"Factor hyper boost point gain. However, Other upgrades that affect point gain are useless.\",\n            goal: \"250,000,000 numbers\",\n            reward: \"Get extra factor count on factor milestone 1 based on number.\",\n            effectDisplay: \"+\" + formatWhole(unref(challengeEffects[2]))\n        })\n    }));\n    const reset = createReset(() => ({\n        thingsToReset: (): Record<string, unknown>[] => []\n    }));\n\n    const treeNode = createLayerTreeNode(() => ({\n        visibility: () =>\n            mi1.earned.value || number.up5.bought.value ? Visibility.Visible : Visibility.Hidden,\n        layerID: id,\n        color,\n        reset\n    }));\n    addTooltip(treeNode, {\n        display: createResourceTooltip(points),\n        pinnable: true\n    });\n\n    const resetButton = createResetButton(() => ({\n        conversion,\n        tree: main.tree,\n        treeNode\n    }));\n    const challengeReset = createReset(() => ({\n        thingsToReset: (): Record<string, unknown>[] => [number],\n        onReset() {\n            main.points.value = 0;\n        }\n    }));\n    return {\n        name,\n        color,\n        points,\n        display: jsx(() => (\n            <>\n                <MainDisplay resource={points} color={color} />\n                {render(resetButton)}\n                <br />\n                <br />\n                {render(mi1)}\n                {render(mi2)}\n                {render(mi3)}\n                {render(mi4)}\n                <br />\n                <br />\n                {renderRow(cha1, cha2)}\n            </>\n        )),\n        treeNode,\n        mi1,\n        mi2,\n        mi3,\n        mi4,\n        milestoneEffects,\n        cha1,\n        cha2,\n        challengeEffects\n    };\n});\n\nexport default layer;\n","import Spacer from \"components/layout/Spacer.vue\";\nimport { jsx, Visibility } from \"features/feature\";\nimport { createResource, trackBest, trackOOMPS, trackTotal } from \"features/resources/resource\";\nimport { branchedResetPropagation, createTree, GenericTree } from \"features/trees/tree\";\nimport { globalBus } from \"game/events\";\nimport { createLayer, GenericLayer } from \"game/layers\";\nimport player, { PlayerData } from \"game/player\";\nimport Decimal, { DecimalSource, format, formatTime } from \"util/bignum\";\nimport { render } from \"util/vue\";\nimport { computed, toRaw } from \"vue\";\nimport factor from \"./layers/factor\";\nimport number from \"./layers/number\";\n/**\n * @hidden\n */\nexport const main = createLayer(\"main\", () => {\n    const points = createResource<DecimalSource>(0, \"points\", 2);\n    const best = trackBest(points);\n    const total = trackTotal(points);\n\n    const pointGain = computed(() => {\n        // eslint-disable-next-line prefer-const\n        let gain = new Decimal(1);\n        if (number.up1.bought.value) gain = gain.times(4);\n        if (number.up2.bought.value) gain = gain.times(number.upgradeEffects[2].value);\n        if (number.up3.bought.value) gain = gain.times(number.upgradeEffects[3].value);\n        if (number.up9.bought.value) gain = gain.times(number.upgradeEffects[7].value);\n        if (factor.mi1.earned.value) gain = gain.times(factor.milestoneEffects[1].value);\n\n        if (factor.cha1.active.value) gain = gain.pow(0.5);\n        if (factor.cha2.active.value) gain = Decimal.pow(4, factor.points.value);\n        return gain;\n    });\n    globalBus.on(\"update\", diff => {\n        points.value = Decimal.add(points.value, Decimal.times(pointGain.value, diff));\n    });\n    const oomps = trackOOMPS(points, pointGain);\n\n    const tree = createTree(() => ({\n        nodes: [[number.treeNode], [factor.treeNode]],\n        branches: () => {\n            const b = [];\n\n            if (factor.treeNode.visibility.value == Visibility.Visible) {\n                b.push({\n                    startNode: factor.treeNode,\n                    endNode: number.treeNode\n                });\n            }\n\n            return b;\n        },\n\n        onReset() {\n            points.value = toRaw(this.resettingNode.value) === toRaw(number.treeNode) ? 0 : 10;\n            best.value = points.value;\n            total.value = points.value;\n        },\n        resetPropagation: branchedResetPropagation\n    })) as GenericTree;\n\n    return {\n        name: \"Tree\",\n        links: tree.links,\n        display: jsx(() => (\n            <>\n                {player.devSpeed === 0 ? <div>Game Paused</div> : null}\n                {player.devSpeed && player.devSpeed !== 1 ? (\n                    <div>Dev Speed: {format(player.devSpeed || 0)}x</div>\n                ) : null}\n                {player.offlineTime != undefined ? (\n                    <div>Offline Time: {formatTime(player.offlineTime || 0)}</div>\n                ) : null}\n                <div>\n                    {Decimal.lt(points.value, \"1e1000\") ? <span>You have </span> : null}\n                    <h2>{format(points.value)}</h2>\n                    {Decimal.lt(points.value, \"1e1e6\") ? <span> points</span> : null}\n                </div>\n                {Decimal.gt(pointGain.value, 0) ? <div>({oomps.value})</div> : null}\n                <Spacer />\n                {render(tree)}\n            </>\n        )),\n        points,\n        best,\n        total,\n        oomps,\n        tree\n    };\n});\n\nexport const getInitialLayers = (\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\n    player: Partial<PlayerData>\n): Array<GenericLayer> => [main, number, factor];\n\nexport const hasWon = computed(() => {\n    return Decimal.gte(factor.points.value, 13);\n});\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nexport function fixOldSave(\n    oldVersion: string | undefined,\n    player: Partial<PlayerData>\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n): void {}\n/* eslint-enable @typescript-eslint/no-unused-vars */\n","import Modal from \"components/Modal.vue\";\nimport {\n    CoercableComponent,\n    OptionsFunc,\n    jsx,\n    JSXFunction,\n    Replace,\n    setDefault,\n    StyleValue\n} from \"features/feature\";\nimport {\n    Computable,\n    GetComputableType,\n    GetComputableTypeWithDefault,\n    processComputable,\n    ProcessedComputable\n} from \"util/computed\";\nimport { createLazyProxy } from \"util/proxies\";\nimport { createNanoEvents, Emitter } from \"nanoevents\";\nimport { InjectionKey, Ref, ref, shallowReactive, unref } from \"vue\";\nimport { globalBus } from \"./events\";\nimport { Persistent, persistent } from \"./persistence\";\nimport player from \"./player\";\n\nexport interface FeatureNode {\n    rect: DOMRect;\n    observer: MutationObserver;\n    element: HTMLElement;\n}\n\nexport const RegisterNodeInjectionKey: InjectionKey<(id: string, element: HTMLElement) => void> =\n    Symbol(\"RegisterNode\");\nexport const UnregisterNodeInjectionKey: InjectionKey<(id: string) => void> =\n    Symbol(\"UnregisterNode\");\nexport const NodesInjectionKey: InjectionKey<Ref<Record<string, FeatureNode | undefined>>> =\n    Symbol(\"Nodes\");\n\nexport interface LayerEvents {\n    // Generation\n    preUpdate: (diff: number) => void;\n    // Actions (e.g. automation)\n    update: (diff: number) => void;\n    // Effects (e.g. milestones)\n    postUpdate: (diff: number) => void;\n}\n\nexport const layers: Record<string, Readonly<GenericLayer> | undefined> = shallowReactive({});\nwindow.layers = layers;\n\ndeclare module \"@vue/runtime-dom\" {\n    interface CSSProperties {\n        \"--layer-color\"?: string;\n    }\n}\n\nexport interface Position {\n    x: number;\n    y: number;\n}\n\nexport interface LayerOptions {\n    color?: Computable<string>;\n    display: Computable<CoercableComponent>;\n    classes?: Computable<Record<string, boolean>>;\n    style?: Computable<StyleValue>;\n    name?: Computable<string>;\n    minimizable?: Computable<boolean>;\n    forceHideGoBack?: Computable<boolean>;\n    minWidth?: Computable<number | string>;\n}\n\nexport interface BaseLayer {\n    id: string;\n    minimized: Persistent<boolean>;\n    emitter: Emitter<LayerEvents>;\n    on: OmitThisParameter<Emitter<LayerEvents>[\"on\"]>;\n    emit: <K extends keyof LayerEvents>(event: K, ...args: Parameters<LayerEvents[K]>) => void;\n    nodes: Ref<Record<string, FeatureNode | undefined>>;\n}\n\nexport type Layer<T extends LayerOptions> = Replace<\n    T & BaseLayer,\n    {\n        color: GetComputableType<T[\"color\"]>;\n        display: GetComputableType<T[\"display\"]>;\n        classes: GetComputableType<T[\"classes\"]>;\n        style: GetComputableType<T[\"style\"]>;\n        name: GetComputableTypeWithDefault<T[\"name\"], string>;\n        minWidth: GetComputableTypeWithDefault<T[\"minWidth\"], 600>;\n        minimizable: GetComputableTypeWithDefault<T[\"minimizable\"], true>;\n        forceHideGoBack: GetComputableType<T[\"forceHideGoBack\"]>;\n    }\n>;\n\nexport type GenericLayer = Replace<\n    Layer<LayerOptions>,\n    {\n        name: ProcessedComputable<string>;\n        minWidth: ProcessedComputable<number>;\n        minimizable: ProcessedComputable<boolean>;\n    }\n>;\n\nexport const persistentRefs: Record<string, Set<Persistent>> = {};\nexport const addingLayers: string[] = [];\nexport function createLayer<T extends LayerOptions>(\n    id: string,\n    optionsFunc: OptionsFunc<T, BaseLayer, BaseLayer>\n): Layer<T> {\n    return createLazyProxy(() => {\n        const layer = {} as T & Partial<BaseLayer>;\n        const emitter = (layer.emitter = createNanoEvents<LayerEvents>());\n        layer.on = emitter.on.bind(emitter);\n        layer.emit = emitter.emit.bind(emitter);\n        layer.nodes = ref({});\n        layer.id = id;\n\n        addingLayers.push(id);\n        persistentRefs[id] = new Set();\n        layer.minimized = persistent(false);\n        Object.assign(layer, optionsFunc.call(layer));\n        if (\n            addingLayers[addingLayers.length - 1] == null ||\n            addingLayers[addingLayers.length - 1] !== id\n        ) {\n            throw `Adding layers stack in invalid state. This should not happen\\nStack: ${addingLayers}\\nTrying to pop ${layer.id}`;\n        }\n        addingLayers.pop();\n\n        processComputable(layer as T, \"color\");\n        processComputable(layer as T, \"display\");\n        processComputable(layer as T, \"name\");\n        setDefault(layer, \"name\", layer.id);\n        processComputable(layer as T, \"minWidth\");\n        setDefault(layer, \"minWidth\", 600);\n        processComputable(layer as T, \"minimizable\");\n        setDefault(layer, \"minimizable\", true);\n\n        return layer as unknown as Layer<T>;\n    });\n}\n\nexport function addLayer(\n    layer: GenericLayer,\n    player: { layers?: Record<string, Record<string, unknown>> }\n): void {\n    console.info(\"Adding layer\", layer.id);\n    if (layers[layer.id]) {\n        console.error(\n            \"Attempted to add layer with same ID as existing layer\",\n            layer.id,\n            layers[layer.id]\n        );\n        return;\n    }\n\n    setDefault(player, \"layers\", {});\n    if (player.layers[layer.id] == null) {\n        player.layers[layer.id] = {};\n    }\n    layers[layer.id] = layer;\n\n    globalBus.emit(\"addLayer\", layer, player.layers[layer.id]);\n}\n\nexport function getLayer<T extends GenericLayer>(layerID: string): T {\n    return layers[layerID] as T;\n}\n\nexport function removeLayer(layer: GenericLayer): void {\n    console.info(\"Removing layer\", layer.id);\n    globalBus.emit(\"removeLayer\", layer);\n\n    layers[layer.id] = undefined;\n}\n\nexport function reloadLayer(layer: GenericLayer): void {\n    removeLayer(layer);\n\n    // Re-create layer\n    addLayer(layer, player);\n}\n\nexport function setupLayerModal(layer: GenericLayer): {\n    openModal: VoidFunction;\n    modal: JSXFunction;\n} {\n    const showModal = ref(false);\n    return {\n        openModal: () => (showModal.value = true),\n        modal: jsx(() => (\n            <Modal\n                modelValue={showModal.value}\n                onUpdate:modelValue={value => (showModal.value = value)}\n                v-slots={{\n                    header: () => <h2>{unref(layer.name)}</h2>,\n                    body: unref(layer.display)\n                }}\n            />\n        ))\n    };\n}\n\nglobalBus.on(\"update\", function updateLayers(diff) {\n    Object.values(layers).forEach(layer => {\n        layer?.emit(\"preUpdate\", diff);\n    });\n    Object.values(layers).forEach(layer => {\n        layer?.emit(\"update\", diff);\n    });\n    Object.values(layers).forEach(layer => {\n        layer?.emit(\"postUpdate\", diff);\n    });\n});\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"table\" }\n\nimport \"components/common/table.css\";\nimport themes from \"data/themes\";\nimport settings from \"game/settings\";\nimport { computed } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst mergeAdjacent = computed(() => themes[settings.theme].mergeAdjacent);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"row\", { mergeAdjacent: _unref(mergeAdjacent) }])\n    }, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ], 2)\n  ]))\n}\n}\n\n})","import script from \"./Row.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Row.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Col from \"components/layout/Column.vue\";\nimport Row from \"components/layout/Row.vue\";\nimport {\n    CoercableComponent,\n    Component as ComponentKey,\n    GatherProps,\n    GenericComponent,\n    JSXFunction,\n    Visibility\n} from \"features/feature\";\nimport {\n    Component,\n    computed,\n    ComputedRef,\n    DefineComponent,\n    defineComponent,\n    isRef,\n    onUnmounted,\n    PropType,\n    ref,\n    Ref,\n    ShallowRef,\n    shallowRef,\n    unref,\n    watchEffect\n} from \"vue\";\nimport { DoNotCache, ProcessedComputable } from \"./computed\";\n\nexport function coerceComponent(\n    component: CoercableComponent,\n    defaultWrapper = \"span\"\n): DefineComponent {\n    if (typeof component === \"function\") {\n        return defineComponent({ render: component });\n    }\n    if (typeof component === \"string\") {\n        if (component.length > 0) {\n            component = component.trim();\n            if (component.charAt(0) !== \"<\") {\n                component = `<${defaultWrapper}>${component}</${defaultWrapper}>`;\n            }\n\n            return defineComponent({ template: component });\n        }\n        return defineComponent({ render: () => ({}) });\n    }\n    return component;\n}\n\nexport type VueFeature = {\n    [ComponentKey]: GenericComponent;\n    [GatherProps]: () => Record<string, unknown>;\n};\n\nexport function render(object: VueFeature | CoercableComponent): JSX.Element | DefineComponent {\n    if (isCoercableComponent(object)) {\n        if (typeof object === \"function\") {\n            return (object as JSXFunction)();\n        }\n        return coerceComponent(object);\n    }\n    const Component = object[ComponentKey];\n    return <Component {...object[GatherProps]()} />;\n}\n\nexport function renderRow(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Row>{objects.map(render)}</Row>;\n}\n\nexport function renderCol(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Col>{objects.map(render)}</Col>;\n}\n\nexport function renderJSX(object: VueFeature | CoercableComponent): JSX.Element {\n    if (isCoercableComponent(object)) {\n        if (typeof object === \"function\") {\n            return (object as JSXFunction)();\n        }\n        if (typeof object === \"string\") {\n            return <>{object}</>;\n        }\n        // TODO why is object typed as never?\n        const Comp = object as DefineComponent;\n        return <Comp />;\n    }\n    const Component = object[ComponentKey];\n    return <Component {...object[GatherProps]()} />;\n}\n\nexport function renderRowJSX(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Row>{objects.map(renderJSX)}</Row>;\n}\n\nexport function renderColJSX(...objects: (VueFeature | CoercableComponent)[]): JSX.Element {\n    return <Col>{objects.map(renderJSX)}</Col>;\n}\n\nexport function isCoercableComponent(component: unknown): component is CoercableComponent {\n    if (typeof component === \"string\") {\n        return true;\n    } else if (typeof component === \"object\") {\n        if (component == null) {\n            return false;\n        }\n        return \"render\" in component || \"component\" in component;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } else if (typeof component === \"function\" && (component as any)[DoNotCache] === true) {\n        return true;\n    }\n    return false;\n}\n\nexport function setupHoldToClick(\n    onClick?: Ref<((e?: MouseEvent | TouchEvent) => void) | undefined>,\n    onHold?: Ref<VoidFunction | undefined>\n): {\n    start: (e: MouseEvent | TouchEvent) => void;\n    stop: VoidFunction;\n    handleHolding: VoidFunction;\n} {\n    const interval = ref<null | number>(null);\n    const event = ref<MouseEvent | TouchEvent | undefined>(undefined);\n\n    function start(e: MouseEvent | TouchEvent) {\n        if (!interval.value) {\n            interval.value = setInterval(handleHolding, 250);\n        }\n        event.value = e;\n    }\n    function stop() {\n        if (interval.value) {\n            clearInterval(interval.value);\n            interval.value = null;\n        }\n    }\n    function handleHolding() {\n        if (onHold && onHold.value) {\n            onHold.value();\n        } else if (onClick && onClick.value) {\n            onClick.value(event.value);\n        }\n    }\n\n    onUnmounted(stop);\n\n    return { start, stop, handleHolding };\n}\n\nexport function getFirstFeature<T extends { visibility: ProcessedComputable<Visibility> }>(\n    features: T[],\n    filter: (feature: T) => boolean\n): { firstFeature: Ref<T | undefined>; hiddenFeatures: Ref<T[]> } {\n    const filteredFeatures = computed(() =>\n        features.filter(\n            feature => unref(feature.visibility) === Visibility.Visible && filter(feature)\n        )\n    );\n    return {\n        firstFeature: computed(() => filteredFeatures.value[0]),\n        hiddenFeatures: computed(() => filteredFeatures.value.slice(1))\n    };\n}\n\nexport function computeComponent(\n    component: Ref<ProcessedComputable<CoercableComponent>>,\n    defaultWrapper = \"div\"\n): ShallowRef<Component | \"\"> {\n    const comp = shallowRef<Component | \"\">();\n    watchEffect(() => {\n        comp.value = coerceComponent(unwrapRef(component), defaultWrapper);\n    });\n    return comp as ShallowRef<Component | \"\">;\n}\nexport function computeOptionalComponent(\n    component: Ref<ProcessedComputable<CoercableComponent | undefined> | undefined>,\n    defaultWrapper = \"div\"\n): ShallowRef<Component | \"\" | null> {\n    const comp = shallowRef<Component | \"\" | null>(null);\n    watchEffect(() => {\n        const currComponent = unwrapRef(component);\n        comp.value = currComponent == null ? null : coerceComponent(currComponent, defaultWrapper);\n    });\n    return comp;\n}\n\nexport function wrapRef<T>(ref: Ref<ProcessedComputable<T>>): ComputedRef<T> {\n    return computed(() => unwrapRef(ref));\n}\n\nexport function unwrapRef<T>(ref: Ref<ProcessedComputable<T>>): T {\n    return unref<T>(unref(ref));\n}\n\nexport function setRefValue<T>(ref: Ref<T | Ref<T>>, value: T) {\n    if (isRef(ref.value)) {\n        ref.value.value = value;\n    } else {\n        ref.value = value;\n    }\n}\n\nexport type PropTypes =\n    | typeof Boolean\n    | typeof String\n    | typeof Number\n    | typeof Function\n    | typeof Object\n    | typeof Array;\n// TODO Unfortunately, the typescript engine gives up on typing completely when you use this method,\n// Even though it has the same typing as when doing it manually\nexport function processedPropType<T>(...types: PropTypes[]): PropType<ProcessedComputable<T>> {\n    if (!types.includes(Object)) {\n        types.push(Object);\n    }\n    return types as PropType<ProcessedComputable<T>>;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot } from \"vue\"\n\nimport {\n    RegisterNodeInjectionKey,\n    UnregisterNodeInjectionKey,\n    NodesInjectionKey,\n    FeatureNode\n} from \"game/layers\";\nimport { nextTick, provide, ref } from \"vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst nodes = ref<Record<string, FeatureNode | undefined>>({});\n\nexpose({ nodes });\n\nconst observerOptions = {\n    attributes: true,\n    childList: true,\n    subtree: false\n};\n\nprovide(RegisterNodeInjectionKey, (id, element) => {\n    const observer = new MutationObserver(() => updateNode(id));\n    observer.observe(element, observerOptions);\n    nodes.value[id] = { element, observer, rect: element.getBoundingClientRect() };\n    nextTick(() => updateNode(id));\n});\nprovide(UnregisterNodeInjectionKey, id => {\n    nodes.value[id]?.observer.disconnect();\n    nodes.value[id] = undefined;\n});\nprovide(NodesInjectionKey, nodes);\n\nfunction updateNode(id: string) {\n    const node = nodes.value[id];\n    if (node == null) {\n        return;\n    }\n    node.rect = node.element.getBoundingClientRect();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return _renderSlot(_ctx.$slots, \"default\")\n}\n}\n\n})","import script from \"./Context.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Context.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderSlot as _renderSlot, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withModifiers as _withModifiers, mergeProps as _mergeProps, withDirectives as _withDirectives, Transition as _Transition, Teleport as _Teleport, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = [\"onPointerdown\"]\nconst _hoisted_2 = { class: \"modal-wrapper\" }\nconst _hoisted_3 = { class: \"modal-container\" }\nconst _hoisted_4 = { class: \"modal-header\" }\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" default header \")\nconst _hoisted_6 = { class: \"modal-body\" }\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\" default body \")\nconst _hoisted_8 = { class: \"modal-footer\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"modal-default-flex-grow\" }, null, -1)\n\nimport { FeatureNode } from \"game/layers\";\nimport { computed, ref, toRefs } from \"vue\";\nimport Context from \"./Context.vue\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    modelValue: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { expose, emit }: { emit: ({\n    (e: \"update:modelValue\", value: boolean): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst _props = __props as {\n    modelValue: boolean;\n}\n\n\nconst props = toRefs(_props);\n\n\nconst isOpen = computed(() => props.modelValue || isAnimating.value);\nfunction close() {\n    emit(\"update:modelValue\", false);\n}\n\nconst isAnimating = ref(false);\n\nconst contextRef = ref<typeof Context | null>(null);\nconst nodes = computed<Record<string, FeatureNode | undefined> | null>(\n    () => contextRef.value?.nodes ?? null\n);\n\nexpose({ isOpen, nodes });\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_Teleport, { to: \"#modal-root\" }, [\n    _createVNode(_Transition, {\n      name: \"modal\",\n      onBeforeEnter: _cache[0] || (_cache[0] = ($event: any) => (isAnimating.value = true)),\n      onAfterLeave: _cache[1] || (_cache[1] = ($event: any) => (isAnimating.value = false))\n    }, {\n      default: _withCtx(() => [\n        _withDirectives(_createElementVNode(\"div\", _mergeProps({\n          class: \"modal-mask\",\n          onPointerdown: _withModifiers(close, [\"self\"])\n        }, _ctx.$attrs), [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"div\", _hoisted_3, [\n              _createElementVNode(\"div\", _hoisted_4, [\n                _renderSlot(_ctx.$slots, \"header\", { shown: _unref(isOpen) }, () => [\n                  _hoisted_5\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createVNode(Context, {\n                  ref_key: \"contextRef\",\n                  ref: contextRef\n                }, {\n                  default: _withCtx(() => [\n                    _renderSlot(_ctx.$slots, \"body\", { shown: _unref(isOpen) }, () => [\n                      _hoisted_7\n                    ])\n                  ]),\n                  _: 3\n                }, 512)\n              ]),\n              _createElementVNode(\"div\", _hoisted_8, [\n                _renderSlot(_ctx.$slots, \"footer\", { shown: _unref(isOpen) }, () => [\n                  _createElementVNode(\"div\", { class: \"modal-default-footer\" }, [\n                    _hoisted_9,\n                    _createElementVNode(\"button\", {\n                      class: \"button modal-default-button\",\n                      onClick: close\n                    }, \" Close \")\n                  ])\n                ])\n              ])\n            ])\n          ])\n        ], 16, _hoisted_1), [\n          [_vShow, __props.modelValue]\n        ])\n      ]),\n      _: 3\n    })\n  ]))\n}\n}\n\n})","import script from \"./Modal.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Modal.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Modal.vue?vue&type=style&index=0&id=d02c1f40&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"field\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"field-title\"\n}\n\nimport \"components/common/fields.css\";\nimport { CoercableComponent } from \"features/feature\";\nimport { computeOptionalComponent } from \"util/vue\";\nimport { ref, toRef, watch } from \"vue\";\nimport VueNextSelect from \"vue-next-select\";\nimport \"vue-next-select/dist/index.css\";\n\nexport type SelectOption = { label: string; value: unknown };\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: null,\n    options: null,\n    placeholder: null,\n    closeOnSelect: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: unknown): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n    title?: CoercableComponent;\n    modelValue?: unknown;\n    options: SelectOption[];\n    placeholder?: string;\n    closeOnSelect?: boolean;\n}\n\n\n\n\nconst titleComponent = computeOptionalComponent(toRef(props, \"title\"), \"span\");\n\nconst value = ref<SelectOption | undefined>(\n    props.options.find(option => option.value === props.modelValue)\n);\nwatch(toRef(props, \"modelValue\"), modelValue => {\n    if (value.value?.value !== modelValue) {\n        value.value = props.options.find(option => option.value === modelValue);\n    }\n});\n\nfunction onUpdate(value: SelectOption) {\n    emit(\"update:modelValue\", value.value);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(titleComponent))\n      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, [\n          (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(titleComponent))))\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_unref(VueNextSelect), {\n      options: __props.options,\n      modelValue: value.value,\n      \"onUpdate:modelValue\": [\n        _cache[0] || (_cache[0] = ($event: any) => ((value).value = $event)),\n        onUpdate\n      ],\n      min: 1,\n      \"label-by\": \"label\",\n      placeholder: __props.placeholder,\n      \"close-on-select\": __props.closeOnSelect\n    }, null, 8, [\"options\", \"modelValue\", \"placeholder\", \"close-on-select\"])\n  ]))\n}\n}\n\n})","import script from \"./Select.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Select.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Select.vue?vue&type=style&index=0&id=4b008144&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, isRef as _isRef, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-43cf95d0\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"field\" }\n\nimport { CoercableComponent } from \"features/feature\";\nimport { coerceComponent } from \"util/vue\";\nimport { computed, unref } from \"vue\";\nimport \"components/common/fields.css\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    title: null,\n    modelValue: { type: Boolean }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }: { emit: ({\n    (e: \"update:modelValue\", value: boolean): void;\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as {\n    title?: CoercableComponent;\n    modelValue?: boolean;\n}\n\n\n\n\nconst component = computed(() => coerceComponent(unref(props.title) || \"<span></span>\", \"span\"));\n\nconst value = computed({\n    get() {\n        return !!props.modelValue;\n    },\n    set(value: boolean) {\n        emit(\"update:modelValue\", value);\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"label\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      class: \"toggle\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_isRef(value) ? (value).value = $event : null))\n    }, null, 512), [\n      [_vModelCheckbox, _unref(value)]\n    ]),\n    (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(component))))\n  ]))\n}\n}\n\n})","import script from \"./Toggle.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Toggle.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Toggle.vue?vue&type=style&index=0&id=43cf95d0&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43cf95d0\"]])\n\nexport default __exports__","import { renderSlot as _renderSlot, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-8ef24874\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"material-icons pinned\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"tooltip-container\", { shown: _ctx.isShown }]),\n    onMouseenter: _cache[0] || (_cache[0] = ($event: any) => (_ctx.isHovered = true)),\n    onMouseleave: _cache[1] || (_cache[1] = ($event: any) => (_ctx.isHovered = false)),\n    onClickCapture: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.togglePinned && _ctx.togglePinned(...args)))\n  }, [\n    _renderSlot(_ctx.$slots, \"default\", {}, undefined, true),\n    (_ctx.elementComp)\n      ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.elementComp), { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_Transition, { name: \"fade\" }, {\n      default: _withCtx(() => [\n        (_ctx.isShown)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: _normalizeClass([\"tooltip\", {\n                    top: _ctx.unref(_ctx.direction) === _ctx.Direction.Up,\n                    left: _ctx.unref(_ctx.direction) === _ctx.Direction.Left,\n                    right: _ctx.unref(_ctx.direction) === _ctx.Direction.Right,\n                    bottom: _ctx.unref(_ctx.direction) === _ctx.Direction.Down,\n                    ..._ctx.unref(_ctx.classes)\n                }]),\n              style: _normalizeStyle([\n                    {\n                        '--xoffset': _ctx.unref(_ctx.xoffset) || '0px',\n                        '--yoffset': _ctx.unref(_ctx.yoffset) || '0px'\n                    },\n                    _ctx.unref(_ctx.style) ?? {}\n                ])\n            }, [\n              (_ctx.showPin)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_1, \"push_pin\"))\n                : _createCommentVNode(\"\", true),\n              (_ctx.comp)\n                ? (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.comp), { key: 1 }))\n                : _createCommentVNode(\"\", true)\n            ], 6))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    })\n  ], 34))\n}","\nimport themes from \"data/themes\";\nimport { CoercableComponent, jsx, StyleValue } from \"features/feature\";\nimport { Persistent } from \"game/persistence\";\nimport settings from \"game/settings\";\nimport { Direction } from \"util/common\";\nimport {\n    coerceComponent,\n    computeOptionalComponent,\n    processedPropType,\n    render,\n    unwrapRef,\n    VueFeature\n} from \"util/vue\";\nimport {\n    Component,\n    computed,\n    defineComponent,\n    PropType,\n    ref,\n    shallowRef,\n    toRefs,\n    unref,\n    watchEffect\n} from \"vue\";\n\nexport default defineComponent({\n    props: {\n        element: processedPropType<VueFeature>(Object),\n        display: {\n            type: processedPropType<CoercableComponent>(Object, String, Function),\n            required: true\n        },\n        style: processedPropType<StyleValue>(Object, String, Array),\n        classes: processedPropType<Record<string, boolean>>(Object),\n        direction: processedPropType<Direction>(String),\n        xoffset: processedPropType<string>(String),\n        yoffset: processedPropType<string>(String),\n        pinned: Object as PropType<Persistent<boolean>>\n    },\n    setup(props) {\n        const { element, display, pinned } = toRefs(props);\n\n        const isHovered = ref(false);\n        const isShown = computed(() => (unwrapRef(pinned) || isHovered.value) && comp.value);\n        const comp = computeOptionalComponent(display);\n\n        const elementComp = shallowRef<Component | \"\" | null>(null);\n        watchEffect(() => {\n            const currComponent = unwrapRef(element);\n            elementComp.value =\n                currComponent == null\n                    ? null\n                    : coerceComponent(jsx(() => render(currComponent) as JSX.Element));\n        });\n\n        function togglePinned(e: MouseEvent) {\n            const isPinned = pinned as unknown as Persistent<boolean> | undefined; // Vue typing :/\n            if (e.shiftKey && isPinned) {\n                isPinned.value = !isPinned.value;\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }\n\n        const showPin = computed(() => unwrapRef(pinned) && themes[settings.theme].showPin);\n\n        return {\n            Direction,\n            isHovered,\n            isShown,\n            comp,\n            elementComp,\n            unref,\n            togglePinned,\n            showPin\n        };\n    }\n});\n","import { render } from \"./Tooltip.vue?vue&type=template&id=8ef24874&scoped=true&ts=true\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=ts\"\n\nimport \"./Tooltip.vue?vue&type=style&index=0&id=8ef24874&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/Profectus/Profectus/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ef24874\"]])\n\nexport default __exports__","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 7634;\nmodule.exports = webpackEmptyContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkprofectus\"] = self[\"webpackChunkprofectus\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(5234); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["defaultTheme","variables","floatingTabs","mergeAdjacent","showPin","Themes","classic","paper","nordic","aqua","Component","Symbol","GatherProps","id","getUniqueID","prefix","Visibility","jsx","func","setDefault","object","key","value","undefined","globalBus","intervalID","hasWon","update","now","Date","diff","trueDiff","Math","max","offlineDiff","min","Number","isFinite","emit","requestAnimationFrame","clearInterval","setInterval","async","startGameLoop","watch","PersistentState","DefaultValue","StackTrace","Deleted","getStackTrace","Error","stack","split","slice","map","line","trim","join","persistent","defaultValue","isRef","ref","addingLayers","console","warn","persistentRefs","add","layer","saveData","features","handleObject","obj","path","foundPersistent","Object","keys","forEach","delete","persistentState","reduce","acc","curr","savedValue","isReactive","includes","type","push","foundPersistentInChild","error","clear","state","reactive","devSpeed","name","tabs","time","autosave","offlineProd","offlineTime","timePlayed","keepGoing","modID","modVersion","layers","stringifySave","player","JSON","stringify","unref","playerHandler","get","target","Proxy","set","property","receiver","isNaN","sign","mag","currentValue","ownKeys","Reflect","has","getOwnPropertyDescriptor","window","active","saves","showTPS","theme","unthrottled","loadSettings","item","localStorage","getItem","decodeURIComponent","escape","atob","settings","parse","assign","stringifiedSettings","btoa","unescape","encodeURIComponent","setItem","deep","hardResetSettings","settingFields","registerSettingField","component","infoComponents","gameComponents","shallowReactive","lastTenTicks","hasNaN","NaNPath","render","_ctx","_cache","$props","$setup","$data","$options","_component_Context","class","style","color","showGoBack","onClick","args","goBack","minimized","$event","classes","default","_","minimizable","defineComponent","components","Context","props","index","required","tab","Function","display","String","minWidth","Array","Boolean","nodes","setup","toRefs","computed","projInfo","allowGoBack","Infinity","nextTick","updateTab","contextRef","width","parseInt","tabValue","flexGrow","flexShrink","flexBasis","margin","__exports__","_withScopeId","n","_hoisted_1","_hoisted_2","open","_hoisted_3","_hoisted_4","__props","expose","isOpen","Modal","modelValue","header","body","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","href","_hoisted_13","_hoisted_14","changelog","_props","title","logo","author","discordName","discordLink","versionNumber","versionTitle","infoComponent","openChangelog","src","alt","shown","themes","label","settingFieldsComponent","isPaused","offlineProdTitle","autosaveTitle","isPausedTitle","Select","options","Toggle","enablePausing","textArea","placeholder","maxHeight","emits","titleComponent","field","onMounted","focus","submit","onSubmit","onBlur","ref_key","fullWidth","disabled","skipConfirm","isConfirming","click","cancel","confirming","$slots","left","activated","activatedTimeout","clearTimeout","setTimeout","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","save","dateFormat","Intl","DateTimeFormat","year","month","day","hour","minute","second","isEditing","newName","isActive","currentTime","changeName","FeedbackButton","DangerButton","onConfirmingChanged","format","Text","modal","importingFailed","saveToImport","importedSave","playerData","e","bankContext","bank","cachedSaves","getCachedSave","exportSave","saveToExport","saveEncoding","el","document","createElement","appendChild","select","setSelectionRange","execCommand","removeChild","duplicateSave","deleteSave","removeItem","openSave","newFromPreset","preset","editSave","currSave","list","handle","itemKey","element","Save","onOpen","onExport","onEditName","onDuplicate","onDelete","footer","length","closeOnSelect","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","info","savesManager","useHeader","banner","openDiscord","$attrs","Tooltip","direction","Down","yoffset","xoffset","Right","Info","SavesManager","Options","Changelog","toRef","layerKeys","gatherLayerProps","ref_for","Nav","Layer","$refs","playAgain","previous","setZero","setOne","ignore","NaN","neq","tps","lastTenFPS","watchEffect","round","toNumber","low","showLow","gt","isNan","gameComponent","Game","TPS","GameOverScreen","NaNScreen","log","vue","createApp","App","mount","MAX_SIGNIFICANT_DIGITS","EXP_LIMIT","LAYER_DOWN","log10","FIRST_NEG_LAYER","NUMBER_EXP_MAX","NUMBER_EXP_MIN","MAX_ES_IN_A_ROW","IGNORE_COMMAS","COMMAS_ARE_DECIMAL_POINTS","powerOf10","powersOf10","i","for","indexOf0InPowersOf10","power","critical_headers","E","critical_tetr_values","critical_slog_values","D","Decimal","fromValue_noAlloc","FC","fromComponents","FC_NN","fromComponents_noNormalize","decimalPlaces","places","len","numDigits","ceil","abs","rounded","pow","parseFloat","toFixed","f_maglog10","f_gamma","trunc","NEGATIVE_INFINITY","scal1","l","n2","np","exp","OMEGA","f_lambertw","z","tol","w","wn","toString","d_lambertw","ew","wewz","dZero","dOne","ln","sub","mul","div","lt","constructor","this","fromDecimal","fromNumber","fromString","m","floor","man","residue","fromMantissaExponent","exponent","POSITIVE_INFINITY","s","mantissa","fromMantissaExponent_noNormalize","fromValue","neg","other","recip","reciprocate","cmp","cmpabs","eq","notEquals","lte","gte","minabs","maxabs","clamp","clampMin","clampMax","tolerance","cmp_tolerance","eq_tolerance","neq_tolerance","notEquals_tolerance","lt_tolerance","lte_tolerance","gt_tolerance","gte_tolerance","pLog10","absLog10","base","log2","logarithm","pow10","root","_other","factorial","gamma","lngamma","sqr","sqrt","cube","cbrt","height","payload","tetrate","iteratedexp","times","iteratedlog","layeradd10","layeradd","slog","lambertw","ssqrt","pentate","resourcesAvailable","priceStart","priceRatio","currentOwned","affordGeometricSeries_core","numItems","sumGeometricSeries_core","priceAdd","affordArithmeticSeries_core","sumArithmeticSeries_core","cost","currentRpS","deltaRpS","efficiencyOfPurchase_core","maxLayers","random","randomsign","randomexp","randommag","actualStart","b","b2","plus","normalize","absmag","signmag","replace","pentationparts","heightparts","result","tetrationparts","powparts","toLowerCase","ptparts","parts","ecount","numberAttempt","newparts","charAt","layerstring","chrcode","charCodeAt","substr","me","mantissaWithDecimalPlaces","magnitudeWithDecimalPlaces","repeat","toExponential","toStringWithDecimalPlaces","toPrecision","valueOf","toJSON","negate","negated","sgn","decimal","a","layera","layerb","magdiff","subtract","minus","newmag","multiply","divide","divideBy","dividedBy","dNaN","reciprocal","compare","equals","compare_tolerance","magA","magB","equals_tolerance","pow_base","t","lm","adj","l2","this_num","negln","oldheight","fracheight","old_payload","next_payload","tetrate_critical","fulltimes","fraction","layerloss","dNegOne","copy","slog_critical","critical_section","grid","lower","upper","basefrac","frac","slogthis","slogdest","lnx","sin","cos","tan","asin","acos","atan","sinh","cosh","tanh","asinh","acosh","atanh","ascensionPenalty","ascensions","egg","lessThanOrEqualTo","lessThan","greaterThanOrEqualTo","greaterThan","MAX_VALUE","MIN_VALUE","decimalOne","exponentialFormat","num","precision","eString","defaultDecimalsShown","commaFormat","init","portions","regularFormat","eeee1000","e100000","e1000","e9","e6","e3","nearOne","thousandth","zero","small","defaultShowSmall","invertOOM","val","formatWhole","formatTime","seconds","toPlaces","x","maxAccepted","formatSmall","camelToTitle","camel","toUpperCase","isPlainObject","prototype","call","isFunction","Direction","DoNotCache","processComputable","computable","bind","convertComputable","ProxyState","ProxyPath","createLazyProxy","objectFunc","baseObject","calculated","calculateObj","setupInitialStore","stringifiedSave","load","loadSave","newSave","playerObj","removeLayer","addLayer","fixOldSave","getInitialLayers","onbeforeunload","hardReset","createResource","displayName","resource","trackBest","best","amount","trackTotal","total","prevAmount","tetra8","e100","trackOOMPS","pointGain","oomps","oompsMag","lastPoints","prev","oompsString","displayResource","overrideAmount","_component_Links","nodesComp","leftNodesComp","rightNodesComp","branches","links","link","startNode","endNode","boundingRect","startPosition","rect","position","y","offsetStart","endPosition","offsetEnd","stroke","x1","y1","x2","y2","resizeObserver","ResizeObserver","updateNodes","inject","NodesInjectionKey","resizeListener","resListener","observe","isDirty","getBoundingClientRect","values","node","fonts","ready","then","validLinks","filter","Link","leftSideNodes","rightSideNodes","Links","shallowRef","currNodes","row","_component_MarkNode","_component_Node","visibility","None","Hidden","treeNode","can","canClick","onMousedown","start","onMouseleave","stop","onMouseup","onTouchstart","onTouchend","onTouchcancel","backgroundColor","boxShadow","glowColor","comp","mark","register","RegisterNodeInjectionKey","unregister","UnregisterNodeInjectionKey","parentNode","parentElement","newNode","newID","prevNode","prevID","onUnmounted","onHold","MarkNode","Node","isCoercableComponent","TreeNodeType","TreeType","createTreeNode","optionsFunc","TreeNode","createTree","tree","Tree","isResetting","resettingNode","reset","genericTree","resetPropagation","onReset","branchedResetPropagation","visitedNodes","currentNodes","nextNodes","branch","createResourceTooltip","requiredResource","requirement","req","notifyStyle","feature","challenge","done","completed","canStart","maxed","toggle","buttonText","getNotifyStyle","strength","transform","borderColor","zIndex","getHighNotifyStyle","use","canComplete","currActive","currCanComplete","currDisplay","Title","Description","description","Goal","goal","Reward","reward","EffectDisplay","effectDisplay","ChallengeType","createChallenge","completions","Challenge","completionLimit","genericChallenge","onComplete","onExit","onEnter","complete","remainInChallenge","currentReset","createConversion","conversion","currentGain","gain","gainModifier","apply","scaling","buyMax","actualGain","currentAt","current","roundUpCost","nextAt","next","convert","gainResource","baseResource","createPolynomialScaling","processedBase","processedExponent","revert","createExponentialScaling","factor","createCumulativeConversion","createIndependentConversion","milestone","earned","Requirement","OptionsDisplay","optionsDisplay","toast","MilestoneType","MilestoneDisplay","createMilestone","Milestone","All","Configurable","Incomplete","shouldEarn","genericMilestone","Display","msDisplayOptions","option","ResetType","createReset","thingsToReset","listeners","effectComponent","showPrefix","Resource","addTooltip","pinnable","pinned","elementComponent","elementGratherProps","clickable","locked","ClickableType","createClickable","Clickable","createResetButton","resetButton","resetDescription","minimumGain","showNextAt","createLayerTreeNode","layerID","append","purchase","upgrade","canPurchase","bought","currCost","UpgradeType","createUpgrade","Upgrade","canAfford","genericUpgrade","onPurchase","createMultiplicativeModifier","multiplier","enabled","processedMultiplier","processedDescription","processedEnabled","createSequentialModifier","modifiers","modifier","every","reduceRight","d","createLayer","points","main","upgradeEffects","up4","up7","milestoneEffects","mi1","up5","cap","up6","up8","up10","up9","up1","up2","up3","number","cha1","amt","cha2","challengeEffects","mi2","mi3","mi4","challengeReset","toRaw","oldVersion","emitter","on","Set","pop","getLayer","reloadLayer","setupLayerModal","showModal","openModal","coerceComponent","defaultWrapper","template","renderRow","objects","renderJSX","Comp","setupHoldToClick","interval","event","handleHolding","computeComponent","unwrapRef","computeOptionalComponent","currComponent","wrapRef","processedPropType","types","observerOptions","attributes","childList","subtree","updateNode","provide","observer","MutationObserver","disconnect","isAnimating","close","to","onBeforeEnter","onAfterLeave","onPointerdown","find","onUpdate","isShown","onMouseenter","isHovered","onClickCapture","togglePinned","elementComp","top","Up","Left","right","bottom","isPinned","shiftKey","stopPropagation","preventDefault","webpackEmptyContext","code","resolve","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","prop","hasOwnProperty","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}